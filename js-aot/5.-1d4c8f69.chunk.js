webpackJsonp([5],{271:function(n,e,t){"use strict";var l=t(0),i=t(26),r=t(23),o=(t.n(r),t(154));t.n(o);t.d(e,"a",function(){return a});var s=this&&this.__decorate||function(n,e,t,l){var i,r=arguments.length,o=r<3?e:null===l?l=Object.getOwnPropertyDescriptor(e,t):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,e,t,l);else for(var s=n.length-1;s>=0;s--)(i=n[s])&&(o=(r<3?i(o):r>3?i(e,t,o):i(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},u=this&&this.__metadata||function(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,e)},a=function(){function n(n){this.http=n,this.url="http://voyacode.com/php/blogs.php"}return n.prototype.getBlogs=function(n){return void 0===n&&(n=0),this.http.get(this.url+(n?"?limit="+n:"")).map(function(n){return n.json().data||[{id:0,name:"Blog search failed.",text:"Sorry, something went wrong. If this problem persists, report to the admin through comments page.",date:"",year:0}]}).catch(function(n){return[[{id:0,name:"Blog search failed.",text:"Sorry, something went wrong and blog couldn't be fetched from the server. Check your internet connection and refresh the page.<br><br>If problem persists, report to the admin through comments page.",date:"",year:0}]]})},n}();a=s([t.i(l.Injectable)(),u("design:paramtypes",[i.k])],a)},272:function(n,e,t){"use strict";var l=t(0);t.d(e,"a",function(){return r});var i=this&&this.__decorate||function(n,e,t,l){var i,r=arguments.length,o=r<3?e:null===l?l=Object.getOwnPropertyDescriptor(e,t):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,e,t,l);else for(var s=n.length-1;s>=0;s--)(i=n[s])&&(o=(r<3?i(o):r>3?i(e,t,o):i(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},r=function(){function n(){}return n}();r=i([t.i(l.Component)({selector:"description-box",template:t(280),styles:[t(282)]})],r)},273:function(n,e,t){"use strict";var l=t(0),i=t(3),r=t(274),o=t(271),s=t(272);t.d(e,"a",function(){return a});var u=this&&this.__decorate||function(n,e,t,l){var i,r=arguments.length,o=r<3?e:null===l?l=Object.getOwnPropertyDescriptor(e,t):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,e,t,l);else for(var s=n.length-1;s>=0;s--)(i=n[s])&&(o=(r<3?i(o):r>3?i(e,t,o):i(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},a=function(){function n(){}return n}();a=u([t.i(l.NgModule)({imports:[i.CommonModule],exports:[r.a,s.a],declarations:[r.a,s.a],providers:[o.a]})],a)},274:function(n,e,t){"use strict";var l=t(0);t.d(e,"a",function(){return o});var i=this&&this.__decorate||function(n,e,t,l){var i,r=arguments.length,o=r<3?e:null===l?l=Object.getOwnPropertyDescriptor(e,t):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,e,t,l);else for(var s=n.length-1;s>=0;s--)(i=n[s])&&(o=(r<3?i(o):r>3?i(e,t,o):i(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},r=this&&this.__metadata||function(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,e)},o=function(){function n(){this.minimizable=!1,this.visible=!1}return n.prototype.ngOnInit=function(){},n.prototype.toggle=function(n){void 0===n&&(n=!this.visible),this.visible=n},n}();i([t.i(l.Input)(),r("design:type",Object)],o.prototype,"blogData",void 0),i([t.i(l.Input)(),r("design:type",Boolean)],o.prototype,"minimizable",void 0),i([t.i(l.Input)(),r("design:type",Boolean)],o.prototype,"visible",void 0),o=i([t.i(l.Component)({selector:"blog-post",template:t(279),styles:[t(281)],encapsulation:l.ViewEncapsulation.None}),r("design:paramtypes",[])],o)},275:function(n,e,t){"use strict";var l=t(0),i=t(319),r=t(402),o=t(404),s=t(405),u=t(406),a=t(407),c=t(408),h=t(283),d=t(334),p=t(403);t.d(e,"a",function(){return m});var f=this&&this.__decorate||function(n,e,t,l){var i,r=arguments.length,o=r<3?e:null===l?l=Object.getOwnPropertyDescriptor(e,t):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,e,t,l);else for(var s=n.length-1;s>=0;s--)(i=n[s])&&(o=(r<3?i(o):r>3?i(e,t,o):i(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},g=this&&this.__metadata||function(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,e)},m=function(){function n(n){this.settings=n,this.board=[],this.gameActive=!1,this.gamePaused=!1,this.gameId=0}return n.prototype.reset=function(){var n=this;this.gameActive=!1,this.gameId++,this.board=[],this.white=this.settings.whiteComputer?new p.a("white",this):new d.a("white",this),this.black=this.settings.blackComputer?new p.a("black",this):new d.a("black",this),this.white.enemy=this.black,this.black.enemy=this.white,this.activePlayer=this.white,this.winner=null,this.round=1,this.setUp(),this.gameActive=!0,this.turn=!0,setTimeout(function(){return n.run()},500)},n.prototype.setUp=function(){this.fillBoard(),this.addPieces(),this.doTileChecks(),this.turn=!0},n.prototype.fillBoard=function(){this.board=[];for(var n=0;n<8;n++){this.board[n]=[];for(var e=0;e<8;e++)this.board[n][e]=new i.a(e,n,this)}},n.prototype.addPieces=function(){for(var n=this.settings.positions[0]+"_".repeat(8-this.settings.positions[0].length),e=this.settings.positions[1]+"_".repeat(8-this.settings.positions[1].length),t=n.split("").reverse().join(""),l=e.split("").reverse().join(""),i=0;i<8;i++)this.addPiece(i,7,this.white,n[i]),this.addPiece(i,0,this.black,t[i]),this.addPiece(i,6,this.white,e[i]),this.addPiece(i,1,this.black,l[i])},n.prototype.addPiece=function(n,e,t,l){var i,h=this.board[e][n];switch(t.pieceId++,l){case"P":i=new u.a(t,h);break;case"R":i=new c.a(t,h);break;case"B":i=new r.a(t,h);break;case"K":i=new s.a(t,h);break;case"Q":i=new a.a(t,h);break;case"X":i=new o.a(t,h);break;default:return void(i=null)}t.addPiece(i),this.board[e][n].piece=i;t.color,t.pieceId},n.prototype.doTileChecks=function(){this.clearTiles(),this.white.checkAllTiles(),this.black.checkAllTiles(),this.white.checkCastlingMoves(),this.black.checkCastlingMoves(),this.white.findKingProtectors(),this.black.findKingProtectors()},n.prototype.clearTiles=function(){for(var n=0;n<8;n++)for(var e=0;e<8;e++)this.board[n][e].clear()},n.prototype.run=function(){if(this.gameActive&&this.turn&&!this.gamePaused){this.activePlayer.chooseAction();var n=this.activePlayer.getAction();this.makeTurn(n[0],n[1])}},n.prototype.makeTurn=function(n,e){null!=n&&null!=e&&(n.tile.select(this.activePlayer),e.select(this.activePlayer))},n.prototype.gameOver=function(n){this.winner=n.enemy,this.gameActive=!1},n.prototype.changeTurn=function(n){if(n==this.gameId){if(this.doTileChecks(),this.activePlayer=this.activePlayer.enemy,"white"==this.activePlayer.color&&(this.round+=1),0==this.activePlayer.moveTiles.length)return void this.gameOver(this.activePlayer);this.turn=!0,this.run()}},n.prototype.lowestTile=function(n,e){for(var t=100,l=n[0],i=e?n:n.map(function(n){return n.tile}),r=0;r<i.length;r++)!i[r].empty()&&i[r].piece.value<t&&(t=i[r].piece.value,l=i[r]);return l},n}();m=f([t.i(l.Injectable)(),g("design:paramtypes",[h.a])],m)},277:function(n,e,t){e=n.exports=t(40)(),e.push([n.i,"blog-post table{background:#5ac0f3;border:2px solid #1c2e3b;padding:5px;box-sizing:border-box}blog-post .blog-header button{background:#2586cc;border:1px solid #1c2e3b;cursor:pointer}blog-post .blog-header button:focus{outline:none}blog-post .blog-header button:hover{background:#99d4ff}blog-post{display:block}blog-post table{padding:10px;width:100%;max-width:100%;margin:0}blog-post .blog-header button{float:right;width:24px;height:24px;font-size:20px;text-align:center;padding:0;line-height:1}blog-post .blog-date{font-size:75%;font-weight:400}blog-post .blog-text{border-top:1px solid #1c2e3b;padding-top:5px}blog-post img{max-width:100%}",""])},278:function(n,e,t){e=n.exports=t(40)(),e.push([n.i,":host,div{display:block}div{margin:0;margin-top:15px;box-sizing:border-box;width:100%;background:#5ac0f3;border:2px solid #1c2e3b;padding:10px}",""])},279:function(n,e){n.exports="<table>\r\n  <tr>\r\n    <th class='blog-header'>\r\n      {{blogData?.name}}\r\n      <button *ngIf=\"minimizable\" class='minimize-button' [title]=\"visible ? 'Close' : 'Open'\" (click)=\"toggle()\">{{visible ? '‒' : '+'}}</button>\r\n      <br><span class='blog-date'>{{blogData?.date}}</span>      \r\n    </th>\r\n  </tr>\r\n  <tr *ngIf=\"visible\">\r\n    <td class='blog-text' [innerHtml]=\"blogData?.text\"></td>\r\n  </tr>\r\n</table>"},280:function(n,e){n.exports='<div class="description-box">\r\n  <h1>Description:</h1>\r\n  <ng-content></ng-content>\r\n</div>'},281:function(n,e,t){var l=t(277);n.exports="string"==typeof l?l:l.toString()},282:function(n,e,t){var l=t(278);n.exports="string"==typeof l?l:l.toString()},283:function(n,e,t){"use strict";var l=t(0);t.d(e,"a",function(){return o});var i=this&&this.__decorate||function(n,e,t,l){var i,r=arguments.length,o=r<3?e:null===l?l=Object.getOwnPropertyDescriptor(e,t):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,e,t,l);else for(var s=n.length-1;s>=0;s--)(i=n[s])&&(o=(r<3?i(o):r>3?i(e,t,o):i(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},r=this&&this.__metadata||function(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,e)},o=function(){function n(){this.defaultPositions=["RKBXQBKR","PPPPPPPP"],this.boardSize=8,this.positions=this.defaultPositions,this.whiteComputer=!1,this.blackComputer=!0,this.boardReversed=!1,this.changeReversed(!1)}return n.prototype.changeMode=function(n){switch(n){case 0:this.whiteComputer=!1,this.blackComputer=!0;break;case 1:this.whiteComputer=!1,this.blackComputer=!1;break;case 2:this.whiteComputer=!0,this.blackComputer=!0}},n.prototype.setPositions=function(n,e){this.positions=[e,n]},n.prototype.resetPositions=function(){this.positions=this.defaultPositions},n.prototype.changeReversed=function(n){var e=this;this.boardReversed=n,this.boardTilePositions=n?Array(this.boardSize).fill(1).map(function(n,t){return Array(e.boardSize).fill(1).map(function(n,e){return[t,7-e]})}):Array(this.boardSize).fill(1).map(function(n,t){return Array(e.boardSize).fill(1).map(function(n,e){return[e,t]})})},n}();o=i([t.i(l.Injectable)(),r("design:paramtypes",[])],o)},284:function(n,e,t){"use strict";t.d(e,"a",function(){return l});var l=["[_nghost-%COMP%] {\r\n  display: block; }\r\n\r\ndiv[_ngcontent-%COMP%] {\r\n  margin: 0px;\r\n  margin-top: 15px;\r\n  box-sizing: border-box;\r\n  width: 100%;\r\n  background: #5ac0f3;\r\n  border: 2px solid #1C2E3B;\r\n  padding: 10px;\r\n  display: block; }"]},285:function(n,e,t){"use strict";function l(n){return o["ɵvid"](0,[(n()(),o["ɵeld"](0,null,null,6,"div",[["class","description-box"]],null,null,null,null,null)),(n()(),o["ɵted"](null,["\n  "])),(n()(),o["ɵeld"](0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["Description:"])),(n()(),o["ɵted"](null,["\n  "])),o["ɵncd"](null,0),(n()(),o["ɵted"](null,["\n"]))],null,null)}function i(n){return o["ɵvid"](0,[(n()(),o["ɵeld"](0,null,null,1,"description-box",[],null,null,null,l,a)),o["ɵdid"](24576,null,0,s.a,[],null,null)],null,null)}var r=t(284),o=t(0),s=t(272);t.d(e,"b",function(){return a}),e.a=l;var u=[r.a],a=o["ɵcrt"]({encapsulation:0,styles:u,data:{}});o["ɵccf"]("description-box",s.a,i,{},{},["*"])},286:function(n,e,t){"use strict";var l=t(323);t.n(l);t.d(e,"a",function(){return i});var i=function(){function n(n,e){this.moveTiles=[],this.hitTiles=[],this.dead=!1,this.color=n.color,this.white="white"==this.color,this.tile=e,this.player=n,this.tiles=n.game.board,this.moveTiles=[],this.hitTiles=[],this.protectsKing=!1}return n.prototype.friends=function(){return this.tile[this.color+"Hits"]},n.prototype.threats=function(){return this.tile[this.player.enemy.color+"Hits"]},n.prototype.x=function(){return this.tile.x},n.prototype.y=function(){return this.tile.y},n.prototype.move=function(n,e,t){var l=this;void 0===t&&(t=!0),this.tile.piece=null,this.player.prevTile=this.tile,this.player.prevPiece!=this&&(this.player.moveCount=0),this.player.prevPiece=this,this.player.moveCount++,this.tile=this.player.game.board[e][n],this.tile.empty()||this.tile.piece.die(),this.tile.piece=this;var i=this.player.game.gameId;t&&setTimeout(function(){return l.player.game.changeTurn(i)},650)},n.prototype.canMove=function(n){return-1!=this.moveTiles.indexOf(n)},n.prototype.highlightMovableTiles=function(){for(var n=0;n<this.moveTiles.length;n++)this.moveTiles[n].highlight(!1)},n.prototype.checkDirections=function(n,e,t,l){var i=[];return i=i.concat(this.checkDirection(n,e,t,l)),0!=n&&(i=i.concat(this.checkDirection(-n,e,t,l))),0!=e&&(i=i.concat(this.checkDirection(n,-e,t,l))),0!=n&&0!=e&&(i=i.concat(this.checkDirection(-n,-e,t,l))),i},n.prototype.checkDirection=function(n,e,t,i){for(var r=this.tile.checkDirection(n,e,t),o=0;o<r.length;o++){var s=r[o];this.hitTiles.push(s),s.addHitter(this),s.isFriendOf(this)&&(r=l.without(r,s))}return r},n.prototype.clearTiles=function(){this.player.moveTiles=l.without(this.player.moveTiles,this.tile),this.moveTiles=[],this.hitTiles=[]},n.prototype.addTiles=function(){for(var n=this.moveTiles,e=0;e<n.length;e++)this.player.moveTiles.push(n[e]),n[e].addMover(this);this.player.hitTiles=this.player.hitTiles.concat(this.hitTiles)},n.prototype.die=function(){this.clearTiles(),this.player.pieces=l.without(this.player.pieces,this),this.player[this.type+"s"]=l.without(this.player[this.type+"s"],this),this.dead=!0,"king"==this.type&&0==this.player.kingCount()?this.player.game.gameOver(this.player):0==this.player.pieceCount()&&this.player.game.gameOver(this.player)},n}()},294:function(n,e,t){"use strict";var l=t(0),i=t(275),r=t(155),o=t(283),s=t(334);t.d(e,"a",function(){return c});var u=this&&this.__decorate||function(n,e,t,l){var i,r=arguments.length,o=r<3?e:null===l?l=Object.getOwnPropertyDescriptor(e,t):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,e,t,l);else for(var s=n.length-1;s>=0;s--)(i=n[s])&&(o=(r<3?i(o):r>3?i(e,t,o):i(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},a=this&&this.__metadata||function(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,e)},c=function(){function n(n,e){this.game=n,this.settings=e}return n.prototype.tileColor=function(n){var e=this.game.board[n[1]][n[0]];return e.highlighted()?"orange":e.markedMovable()?e.empty()?"yellow":"rgb(189, 104, 53)":(e.x+e.y)%2==0?"#9b7b40":"#e6cfaf"},n.prototype.pieceTopLocation=function(n){return this.settings.boardReversed?this.coordinateToPercentage(n.tile.x):this.coordinateToPercentage(n.tile.y)},n.prototype.pieceLeftLocation=function(n){return this.settings.boardReversed?this.coordinateToPercentage(this.settings.boardSize-1-n.tile.y):this.coordinateToPercentage(n.tile.x)},n.prototype.pieceImageUrl=function(n){return"images/chess/"+n.color+"-"+n.type+".png"},n.prototype.coordinateToPercentage=function(n){return 12.5*n+"%"},n.prototype.selectTile=function(n){if(!this.game.gamePaused&&this.game.activePlayer instanceof s.a){this.game.board[n[1]][n[0]].select(this.game.activePlayer)}},n}();c=u([t.i(l.Component)({selector:"chess-board",template:t(455),styles:[t(483)],animations:[t.i(r.a)("fadeIn",[t.i(r.b)("true",t.i(r.c)({opacity:1})),t.i(r.b)("void",t.i(r.c)({opacity:0})),t.i(r.d)("* => *",t.i(r.e)("300ms"))])]}),a("design:paramtypes",[i.a,o.a])],c)},295:function(n,e,t){"use strict";var l=t(0);t.d(e,"a",function(){return o});var i=this&&this.__decorate||function(n,e,t,l){var i,r=arguments.length,o=r<3?e:null===l?l=Object.getOwnPropertyDescriptor(e,t):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,e,t,l);else for(var s=n.length-1;s>=0;s--)(i=n[s])&&(o=(r<3?i(o):r>3?i(e,t,o):i(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},r=this&&this.__metadata||function(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,e)},o=function(){function n(){}return n.prototype.ngOnInit=function(){},n}();o=i([t.i(l.Component)({template:t(461),styles:[t(489)]}),r("design:paramtypes",[])],o)},314:function(n,e,t){"use strict";var l=t(0),i=t(283),r=t(275);t.d(e,"a",function(){return u});var o=this&&this.__decorate||function(n,e,t,l){var i,r=arguments.length,o=r<3?e:null===l?l=Object.getOwnPropertyDescriptor(e,t):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,e,t,l);else for(var s=n.length-1;s>=0;s--)(i=n[s])&&(o=(r<3?i(o):r>3?i(e,t,o):i(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},s=this&&this.__metadata||function(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,e)},u=function(){function n(n,e){this.settings=n,this.game=e,this.close=new l.EventEmitter}return n.prototype.switchGameMode=function(n){this.settings.changeMode(n),this.close.emit(),this.game.reset()},n}();o([t.i(l.Output)(),s("design:type",Object)],u.prototype,"close",void 0),u=o([t.i(l.Component)({selector:"chess-choose-mode",template:t(456),styles:[t(484)]}),s("design:paramtypes",[i.a,r.a])],u)},315:function(n,e,t){"use strict";var l=t(0),i=t(275),r=t(283);t.d(e,"a",function(){return u});var o=this&&this.__decorate||function(n,e,t,l){var i,r=arguments.length,o=r<3?e:null===l?l=Object.getOwnPropertyDescriptor(e,t):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,e,t,l);else for(var s=n.length-1;s>=0;s--)(i=n[s])&&(o=(r<3?i(o):r>3?i(e,t,o):i(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},s=this&&this.__metadata||function(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,e)},u=function(){function n(n,e){this.game=n,this.settings=e,this.visibleDialog="",this.game.reset()}return n.prototype.reset=function(){this.visibleDialog="",this.game.reset()},n.prototype.activePlayerColor=function(){var n=this.game.activePlayer;return null==n?"White":this.capitalize(n.color)},n.prototype.capitalize=function(n){return n.charAt(0).toUpperCase()+n.slice(1)},n.prototype.switchDialog=function(n){this.visibleDialog=this.visibleDialog==n?"":n,""==this.visibleDialog?(this.game.gamePaused=!1,this.game.run()):this.game.gamePaused=!0},n}();u=o([t.i(l.Component)({selector:"chess-game",template:t(457),styles:[t(485)],animations:[t.i(l.trigger)("fadeIn",[t.i(l.state)("true",t.i(l.style)({opacity:1})),t.i(l.state)("void",t.i(l.style)({opacity:0})),t.i(l.transition)("* => *",t.i(l.animate)("300ms"))])]}),s("design:paramtypes",[i.a,r.a])],u)},316:function(n,e,t){"use strict";var l=t(0);t.d(e,"a",function(){return o});var i=this&&this.__decorate||function(n,e,t,l){var i,r=arguments.length,o=r<3?e:null===l?l=Object.getOwnPropertyDescriptor(e,t):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,e,t,l);else for(var s=n.length-1;s>=0;s--)(i=n[s])&&(o=(r<3?i(o):r>3?i(e,t,o):i(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},r=this&&this.__metadata||function(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,e)},o=function(){function n(){}return n}();o=i([t.i(l.Component)({selector:"chess-instructions",template:t(458),styles:[t(486)]}),r("design:paramtypes",[])],o)},317:function(n,e,t){"use strict";var l=t(0),i=t(283),r=t(275);t.d(e,"a",function(){return u});var o=this&&this.__decorate||function(n,e,t,l){var i,r=arguments.length,o=r<3?e:null===l?l=Object.getOwnPropertyDescriptor(e,t):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,e,t,l);else for(var s=n.length-1;s>=0;s--)(i=n[s])&&(o=(r<3?i(o):r>3?i(e,t,o):i(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},s=this&&this.__metadata||function(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,e)},u=function(){function n(n,e){this.settings=n,this.game=e,this.close=new l.EventEmitter,this.upperRow=n.positions[1],this.lowerRow=n.positions[0],this.boardReversed=n.boardReversed}return n.prototype.saveSettings=function(){this.settings.setPositions(this.upperRow,this.lowerRow),this.boardReversed!=this.settings.boardReversed&&this.settings.changeReversed(this.boardReversed),this.close.emit(),this.game.reset()},n.prototype.resetLayout=function(){this.settings.resetPositions(),this.boardReversed!=this.settings.boardReversed&&this.settings.changeReversed(this.boardReversed),this.close.emit(),this.game.reset()},n}();o([t.i(l.Output)(),s("design:type",Object)],u.prototype,"close",void 0),u=o([t.i(l.Component)({selector:"chess-settings",template:t(459),styles:[t(487)]}),s("design:paramtypes",[i.a,r.a])],u)},318:function(n,e,t){"use strict";var l=t(0),i=t(275);t.d(e,"a",function(){return s});var r=this&&this.__decorate||function(n,e,t,l){var i,r=arguments.length,o=r<3?e:null===l?l=Object.getOwnPropertyDescriptor(e,t):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,e,t,l);else for(var s=n.length-1;s>=0;s--)(i=n[s])&&(o=(r<3?i(o):r>3?i(e,t,o):i(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},o=this&&this.__metadata||function(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,e)},s=function(){function n(n){this.game=n,this.switchDialogEvent=new l.EventEmitter;var e=n.winner.color;this.winnerColor=e[0].toUpperCase()+e.slice(1)}return n.prototype.switchDialog=function(n){this.switchDialogEvent.emit(n),this.game.winner=null},n.prototype.ngOnDestroy=function(){this.game.winner=null},n}();r([t.i(l.Output)(),o("design:type",Object)],s.prototype,"switchDialogEvent",void 0),s=r([t.i(l.Component)({selector:"chess-winner-dialog",template:t(460),styles:[t(488)]}),o("design:paramtypes",[i.a])],s)},319:function(n,e,t){"use strict";var l=t(323);t.n(l);t.d(e,"a",function(){return i});var i=function(){function n(e,t,l){this.whites=[],this.whiteHits=[],this.blacks=[],this.blackHits=[],this.x=e,this.y=t,this.game=l,n.board=l.board}return n.tileExists=function(e,t){return 0<=t&&t<n.board.length&&0<=e&&e<n.board[t].length},n.prototype.addMover=function(n){n.white?this.whites.push(n):this.blacks.push(n)},n.prototype.addHitter=function(n){n.white?this.whiteHits.push(n):this.blackHits.push(n)},n.prototype.clear=function(){this.whites=[],this.whiteHits=[],this.blacks=[],this.blackHits=[]},n.prototype.select=function(n){if(!this.game.gameActive||!this.game.turn)return!1;this.empty()||this.piece.color!=n.color?null!=n.activePiece&&n.activePiece.canMove(this)?(this.game.turn=!1,n.activePiece.move(this.x,this.y),this.highlight(!0),n.activePiece=null):(this.clearHighlights(),n.activePiece=null):(this.highlight(!0),n.activePiece=this.piece,this.piece.highlightMovableTiles())},n.prototype.isFriendOf=function(n){return!this.empty()&&this.piece.color==n.color},n.prototype.isEnemyOf=function(n){return!this.empty()&&this.piece.color!=n.color},n.prototype.empty=function(){return null==this.piece},n.prototype.highlight=function(e){void 0===e&&(e=!1),e?(n.highligtedTile=this,n.highlightedMovableTiles=[]):n.highlightedMovableTiles.push(this)},n.prototype.clearHighlights=function(){n.highligtedTile=null,n.highlightedMovableTiles=[]},n.prototype.highlighted=function(){return this==n.highligtedTile},n.prototype.markedMovable=function(){return l.contains(n.highlightedMovableTiles,this)},n.prototype.protectsKing=function(n){if(0==n.kings.length||!this.empty()&&"king"==this.piece.type)return!1;var e=n.kings[0].tile;return this.protectsTile(e,n)},n.prototype.protectsTile=function(n,e){if(!1===this.tilesBetween(n)||this.tilesBetween(n).filter(function(n){return!n.empty()}).length>0)return!1;var t=this.x<n.x?-1:1,l=this.y<n.y?-1:1;if(this.x==n.x)for(var i=this.y+l;0<=i&&i<8;i+=l){var r=this.game.board[i][this.x];if(r.isEnemyOf(e)&&("rook"==r.piece.type||"queen"==r.piece.type))return!0;if(!r.empty())break}if(this.y==n.y)for(var o=this.x+t;0<=o&&o<8;o+=t){var r=this.game.board[this.y][o];if(r.isEnemyOf(e)&&("rook"==r.piece.type||"queen"==r.piece.type))return!0;if(!r.empty())break}if(Math.abs(this.y-n.y)==Math.abs(this.x-n.x))for(var o=this.x+t,i=this.y+l;0<=o&&o<8&&0<=i&&i<8;o+=t,i+=l){var r=this.game.board[i][o];if(r.isEnemyOf(e)&&("bishop"==r.piece.type||"queen"==r.piece.type))return!0;if(!r.empty())break}return!1},n.prototype.riskValue=function(n){var e=0,t=this[n.player.enemy.color+"Hits"],i=this[n.color+"Hits"],r=n.threats();if((t.length>0||n.tile.protectsTile(this,n.player))&&(e+=n.value,t.length>0&&i.length>1&&this.game.lowestTile(t,!1).piece.value>=n.value&&(e-=2),"king"==n.type&&(e+=100)),r.length>=1&&0==n.friends().length?e-=n.value/2:r.length>=1&&this.game.lowestTile(r,!1).piece.value<n.value&&(e-=n.value/3),"pawn"==n.type&&("black"==n.color&&6==n.tile.y&&5==n.tile.x||"white"==n.color&&1==n.tile.y&&2==n.tile.x)&&1==n.friends().length&&(e+=2),this.isEnemyOf(n)&&(e-=this.piece.value),n.value<=5){var o=void 0;o="pawn"==n.type?l.difference(n.player.pieces,n.player.pawns):n.player.queens;for(var s=0;s<o.length;s++){var u=o[s];if(n.tile.protectsTile(u.tile,n.player)&&0==u.friends().length&&!this.protectsTile(u.tile,n.player)){e+=u.value/2;break}}}return n.player.prevTile==this&&(e+=.3),n.player.prevPiece==n&&(e+=.1*n.player.moveCount),e},n.prototype.tilesBetween=function(n){var e=0,t=0;if(this.x!=n.x&&this.y!=n.y&&Math.abs(this.x-n.x)!=Math.abs(this.y-n.y))return!1;this.x!=n.x&&(e=this.x<n.x?1:-1),this.y!=n.y&&(t=this.y<n.y?1:-1);for(var l=[],i=this.x+e,r=this.y+t;r!=n.y||i!=n.x;i+=e,r+=t)l.push(this.game.board[r][i]);return l},n.prototype.isBetween=function(n,e){var t=Math.min(n.x,e.x),l=Math.max(n.x,e.x),i=Math.min(n.y,e.y),r=Math.max(n.y,e.y);return this.x==n.x&&n.x==e.x&&i<this.y&&this.y<r||this.y==n.y&&n.y==e.y&&t<this.x&&this.x<l||Math.abs(this.x-n.x)==Math.abs(this.y-n.y)&&Math.abs(this.x-e.x)==Math.abs(this.y-e.y)&&Math.abs(e.x-n.x)==Math.abs(e.y-n.y)},n.prototype.checkDirections=function(n,e,t){var l=[];return l=l.concat(this.checkDirection(n,e,t)),0!=n&&(l=l.concat(this.checkDirection(-n,e,t))),0!=e&&(l=l.concat(this.checkDirection(n,-e,t))),0!=n&&0!=e&&(l=l.concat(this.checkDirection(-n,-e,t))),l},n.prototype.checkDirection=function(e,t,l){1!=l&&(l=8);for(var i=[],r=this.x,o=this.y,s=1;s<l+1;s++)if(r+e*s<8&&r+e*s>=0&&o+t*s<8&&o+t*s>=0){var u=n.board[o+t*s][r+e*s];if(i.push(u),!u.empty())break}return i},n}();i.highligtedTile=null,i.highlightedMovableTiles=[]},323:function(n,e,t){var l,i;(function(){var t=this,r=t._,o=Array.prototype,s=Object.prototype,u=Function.prototype,a=o.push,c=o.slice,h=o.concat,d=s.toString,p=s.hasOwnProperty,f=Array.isArray,g=Object.keys,m=u.bind,v=function(n){return n instanceof v?n:this instanceof v?void(this._wrapped=n):new v(n)};void 0!==n&&n.exports&&(e=n.exports=v),e._=v,v.VERSION="1.7.0";var y=function(n,e,t){if(void 0===e)return n;switch(null==t?3:t){case 1:return function(t){return n.call(e,t)};case 2:return function(t,l){return n.call(e,t,l)};case 3:return function(t,l,i){return n.call(e,t,l,i)};case 4:return function(t,l,i,r){return n.call(e,t,l,i,r)}}return function(){return n.apply(e,arguments)}};v.iteratee=function(n,e,t){return null==n?v.identity:v.isFunction(n)?y(n,e,t):v.isObject(n)?v.matches(n):v.property(n)},v.each=v.forEach=function(n,e,t){if(null==n)return n;e=y(e,t);var l,i=n.length;if(i===+i)for(l=0;l<i;l++)e(n[l],l,n);else{var r=v.keys(n);for(l=0,i=r.length;l<i;l++)e(n[r[l]],r[l],n)}return n},v.map=v.collect=function(n,e,t){if(null==n)return[];e=v.iteratee(e,t);for(var l,i=n.length!==+n.length&&v.keys(n),r=(i||n).length,o=Array(r),s=0;s<r;s++)l=i?i[s]:s,o[s]=e(n[l],l,n);return o};var b="Reduce of empty array with no initial value";v.reduce=v.foldl=v.inject=function(n,e,t,l){null==n&&(n=[]),e=y(e,l,4);var i,r=n.length!==+n.length&&v.keys(n),o=(r||n).length,s=0;if(arguments.length<3){if(!o)throw new TypeError(b);t=n[r?r[s++]:s++]}for(;s<o;s++)i=r?r[s]:s,t=e(t,n[i],i,n);return t},v.reduceRight=v.foldr=function(n,e,t,l){null==n&&(n=[]),e=y(e,l,4);var i,r=n.length!==+n.length&&v.keys(n),o=(r||n).length;if(arguments.length<3){if(!o)throw new TypeError(b);t=n[r?r[--o]:--o]}for(;o--;)i=r?r[o]:o,t=e(t,n[i],i,n);return t},v.find=v.detect=function(n,e,t){var l;return e=v.iteratee(e,t),v.some(n,function(n,t,i){if(e(n,t,i))return l=n,!0}),l},v.filter=v.select=function(n,e,t){var l=[];return null==n?l:(e=v.iteratee(e,t),v.each(n,function(n,t,i){e(n,t,i)&&l.push(n)}),l)},v.reject=function(n,e,t){return v.filter(n,v.negate(v.iteratee(e)),t)},v.every=v.all=function(n,e,t){if(null==n)return!0;e=v.iteratee(e,t);var l,i,r=n.length!==+n.length&&v.keys(n),o=(r||n).length;for(l=0;l<o;l++)if(i=r?r[l]:l,!e(n[i],i,n))return!1;return!0},v.some=v.any=function(n,e,t){if(null==n)return!1;e=v.iteratee(e,t);var l,i,r=n.length!==+n.length&&v.keys(n),o=(r||n).length;for(l=0;l<o;l++)if(i=r?r[l]:l,e(n[i],i,n))return!0;return!1},v.contains=v.include=function(n,e){return null!=n&&(n.length!==+n.length&&(n=v.values(n)),v.indexOf(n,e)>=0)},v.invoke=function(n,e){var t=c.call(arguments,2),l=v.isFunction(e);return v.map(n,function(n){return(l?e:n[e]).apply(n,t)})},v.pluck=function(n,e){return v.map(n,v.property(e))},v.where=function(n,e){return v.filter(n,v.matches(e))},v.findWhere=function(n,e){return v.find(n,v.matches(e))},v.max=function(n,e,t){var l,i,r=-1/0,o=-1/0;if(null==e&&null!=n){n=n.length===+n.length?n:v.values(n);for(var s=0,u=n.length;s<u;s++)(l=n[s])>r&&(r=l)}else e=v.iteratee(e,t),v.each(n,function(n,t,l){((i=e(n,t,l))>o||i===-1/0&&r===-1/0)&&(r=n,o=i)});return r},v.min=function(n,e,t){var l,i,r=1/0,o=1/0;if(null==e&&null!=n){n=n.length===+n.length?n:v.values(n);for(var s=0,u=n.length;s<u;s++)(l=n[s])<r&&(r=l)}else e=v.iteratee(e,t),v.each(n,function(n,t,l){((i=e(n,t,l))<o||i===1/0&&r===1/0)&&(r=n,o=i)});return r},v.shuffle=function(n){for(var e,t=n&&n.length===+n.length?n:v.values(n),l=t.length,i=Array(l),r=0;r<l;r++)e=v.random(0,r),e!==r&&(i[r]=i[e]),i[e]=t[r];return i},v.sample=function(n,e,t){return null==e||t?(n.length!==+n.length&&(n=v.values(n)),n[v.random(n.length-1)]):v.shuffle(n).slice(0,Math.max(0,e))},v.sortBy=function(n,e,t){return e=v.iteratee(e,t),v.pluck(v.map(n,function(n,t,l){return{value:n,index:t,criteria:e(n,t,l)}}).sort(function(n,e){var t=n.criteria,l=e.criteria;if(t!==l){if(t>l||void 0===t)return 1;if(t<l||void 0===l)return-1}return n.index-e.index}),"value")};var w=function(n){return function(e,t,l){var i={};return t=v.iteratee(t,l),v.each(e,function(l,r){var o=t(l,r,e);n(i,l,o)}),i}};v.groupBy=w(function(n,e,t){v.has(n,t)?n[t].push(e):n[t]=[e]}),v.indexBy=w(function(n,e,t){n[t]=e}),v.countBy=w(function(n,e,t){v.has(n,t)?n[t]++:n[t]=1}),v.sortedIndex=function(n,e,t,l){t=v.iteratee(t,l,1);for(var i=t(e),r=0,o=n.length;r<o;){var s=r+o>>>1;t(n[s])<i?r=s+1:o=s}return r},v.toArray=function(n){return n?v.isArray(n)?c.call(n):n.length===+n.length?v.map(n,v.identity):v.values(n):[]},v.size=function(n){return null==n?0:n.length===+n.length?n.length:v.keys(n).length},v.partition=function(n,e,t){e=v.iteratee(e,t);var l=[],i=[];return v.each(n,function(n,t,r){(e(n,t,r)?l:i).push(n)}),[l,i]},v.first=v.head=v.take=function(n,e,t){if(null!=n)return null==e||t?n[0]:e<0?[]:c.call(n,0,e)},v.initial=function(n,e,t){return c.call(n,0,Math.max(0,n.length-(null==e||t?1:e)))},v.last=function(n,e,t){if(null!=n)return null==e||t?n[n.length-1]:c.call(n,Math.max(n.length-e,0))},v.rest=v.tail=v.drop=function(n,e,t){return c.call(n,null==e||t?1:e)},v.compact=function(n){return v.filter(n,v.identity)};var x=function(n,e,t,l){if(e&&v.every(n,v.isArray))return h.apply(l,n);for(var i=0,r=n.length;i<r;i++){var o=n[i];v.isArray(o)||v.isArguments(o)?e?a.apply(l,o):x(o,e,t,l):t||l.push(o)}return l};v.flatten=function(n,e){return x(n,e,!1,[])},v.without=function(n){return v.difference(n,c.call(arguments,1))},v.uniq=v.unique=function(n,e,t,l){if(null==n)return[];v.isBoolean(e)||(l=t,t=e,e=!1),null!=t&&(t=v.iteratee(t,l));for(var i=[],r=[],o=0,s=n.length;o<s;o++){var u=n[o];if(e)o&&r===u||i.push(u),r=u;else if(t){var a=t(u,o,n);v.indexOf(r,a)<0&&(r.push(a),i.push(u))}else v.indexOf(i,u)<0&&i.push(u)}return i},v.union=function(){return v.uniq(x(arguments,!0,!0,[]))},v.intersection=function(n){if(null==n)return[];for(var e=[],t=arguments.length,l=0,i=n.length;l<i;l++){var r=n[l];if(!v.contains(e,r)){for(var o=1;o<t&&v.contains(arguments[o],r);o++);o===t&&e.push(r)}}return e},v.difference=function(n){var e=x(c.call(arguments,1),!0,!0,[]);return v.filter(n,function(n){return!v.contains(e,n)})},v.zip=function(n){if(null==n)return[];for(var e=v.max(arguments,"length").length,t=Array(e),l=0;l<e;l++)t[l]=v.pluck(arguments,l);return t},v.object=function(n,e){if(null==n)return{};for(var t={},l=0,i=n.length;l<i;l++)e?t[n[l]]=e[l]:t[n[l][0]]=n[l][1];return t},v.indexOf=function(n,e,t){if(null==n)return-1;var l=0,i=n.length;if(t){if("number"!=typeof t)return l=v.sortedIndex(n,e),n[l]===e?l:-1;l=t<0?Math.max(0,i+t):t}for(;l<i;l++)if(n[l]===e)return l;return-1},v.lastIndexOf=function(n,e,t){if(null==n)return-1;var l=n.length;for("number"==typeof t&&(l=t<0?l+t+1:Math.min(l,t+1));--l>=0;)if(n[l]===e)return l;return-1},v.range=function(n,e,t){arguments.length<=1&&(e=n||0,n=0),t=t||1;for(var l=Math.max(Math.ceil((e-n)/t),0),i=Array(l),r=0;r<l;r++,n+=t)i[r]=n;return i};var k=function(){};v.bind=function(n,e){var t,l;if(m&&n.bind===m)return m.apply(n,c.call(arguments,1));if(!v.isFunction(n))throw new TypeError("Bind must be called on a function");return t=c.call(arguments,2),l=function(){if(!(this instanceof l))return n.apply(e,t.concat(c.call(arguments)));k.prototype=n.prototype;var i=new k;k.prototype=null;var r=n.apply(i,t.concat(c.call(arguments)));return v.isObject(r)?r:i}},v.partial=function(n){var e=c.call(arguments,1);return function(){for(var t=0,l=e.slice(),i=0,r=l.length;i<r;i++)l[i]===v&&(l[i]=arguments[t++]);for(;t<arguments.length;)l.push(arguments[t++]);return n.apply(this,l)}},v.bindAll=function(n){var e,t,l=arguments.length;if(l<=1)throw new Error("bindAll must be passed function names");for(e=1;e<l;e++)t=arguments[e],n[t]=v.bind(n[t],n);return n},v.memoize=function(n,e){var t=function(l){var i=t.cache,r=e?e.apply(this,arguments):l;return v.has(i,r)||(i[r]=n.apply(this,arguments)),i[r]};return t.cache={},t},v.delay=function(n,e){var t=c.call(arguments,2);return setTimeout(function(){return n.apply(null,t)},e)},v.defer=function(n){return v.delay.apply(v,[n,1].concat(c.call(arguments,1)))},v.throttle=function(n,e,t){var l,i,r,o=null,s=0;t||(t={});var u=function(){s=!1===t.leading?0:v.now(),o=null,r=n.apply(l,i),o||(l=i=null)};return function(){var a=v.now();s||!1!==t.leading||(s=a);var c=e-(a-s);return l=this,i=arguments,c<=0||c>e?(clearTimeout(o),o=null,s=a,r=n.apply(l,i),o||(l=i=null)):o||!1===t.trailing||(o=setTimeout(u,c)),r}},v.debounce=function(n,e,t){var l,i,r,o,s,u=function(){var a=v.now()-o;a<e&&a>0?l=setTimeout(u,e-a):(l=null,t||(s=n.apply(r,i),l||(r=i=null)))};return function(){r=this,i=arguments,o=v.now();var a=t&&!l;return l||(l=setTimeout(u,e)),a&&(s=n.apply(r,i),r=i=null),s}},v.wrap=function(n,e){return v.partial(e,n)},v.negate=function(n){return function(){return!n.apply(this,arguments)}},v.compose=function(){var n=arguments,e=n.length-1;return function(){for(var t=e,l=n[e].apply(this,arguments);t--;)l=n[t].call(this,l);return l}},v.after=function(n,e){return function(){if(--n<1)return e.apply(this,arguments)}},v.before=function(n,e){var t;return function(){return--n>0?t=e.apply(this,arguments):e=null,t}},v.once=v.partial(v.before,2),v.keys=function(n){if(!v.isObject(n))return[];if(g)return g(n);var e=[];for(var t in n)v.has(n,t)&&e.push(t);return e},v.values=function(n){for(var e=v.keys(n),t=e.length,l=Array(t),i=0;i<t;i++)l[i]=n[e[i]];return l},v.pairs=function(n){for(var e=v.keys(n),t=e.length,l=Array(t),i=0;i<t;i++)l[i]=[e[i],n[e[i]]];return l},v.invert=function(n){for(var e={},t=v.keys(n),l=0,i=t.length;l<i;l++)e[n[t[l]]]=t[l];return e},v.functions=v.methods=function(n){var e=[];for(var t in n)v.isFunction(n[t])&&e.push(t);return e.sort()},v.extend=function(n){if(!v.isObject(n))return n;for(var e,t,l=1,i=arguments.length;l<i;l++){e=arguments[l];for(t in e)p.call(e,t)&&(n[t]=e[t])}return n},v.pick=function(n,e,t){var l,i={};if(null==n)return i;if(v.isFunction(e)){e=y(e,t);for(l in n){var r=n[l];e(r,l,n)&&(i[l]=r)}}else{var o=h.apply([],c.call(arguments,1));n=new Object(n);for(var s=0,u=o.length;s<u;s++)(l=o[s])in n&&(i[l]=n[l])}return i},v.omit=function(n,e,t){if(v.isFunction(e))e=v.negate(e);else{var l=v.map(h.apply([],c.call(arguments,1)),String);e=function(n,e){return!v.contains(l,e)}}return v.pick(n,e,t)},v.defaults=function(n){if(!v.isObject(n))return n;for(var e=1,t=arguments.length;e<t;e++){var l=arguments[e];for(var i in l)void 0===n[i]&&(n[i]=l[i])}return n},v.clone=function(n){return v.isObject(n)?v.isArray(n)?n.slice():v.extend({},n):n},v.tap=function(n,e){return e(n),n};var _=function(n,e,t,l){if(n===e)return 0!==n||1/n==1/e;if(null==n||null==e)return n===e;n instanceof v&&(n=n._wrapped),e instanceof v&&(e=e._wrapped);var i=d.call(n);if(i!==d.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+n==""+e;case"[object Number]":return+n!=+n?+e!=+e:0==+n?1/+n==1/e:+n==+e;case"[object Date]":case"[object Boolean]":return+n==+e}if("object"!=typeof n||"object"!=typeof e)return!1;for(var r=t.length;r--;)if(t[r]===n)return l[r]===e;var o=n.constructor,s=e.constructor;if(o!==s&&"constructor"in n&&"constructor"in e&&!(v.isFunction(o)&&o instanceof o&&v.isFunction(s)&&s instanceof s))return!1;t.push(n),l.push(e);var u,a;if("[object Array]"===i){if(u=n.length,a=u===e.length)for(;u--&&(a=_(n[u],e[u],t,l)););}else{var c,h=v.keys(n);if(u=h.length,a=v.keys(e).length===u)for(;u--&&(c=h[u],a=v.has(e,c)&&_(n[c],e[c],t,l)););}return t.pop(),l.pop(),a};v.isEqual=function(n,e){return _(n,e,[],[])},v.isEmpty=function(n){if(null==n)return!0;if(v.isArray(n)||v.isString(n)||v.isArguments(n))return 0===n.length;for(var e in n)if(v.has(n,e))return!1;return!0},v.isElement=function(n){return!(!n||1!==n.nodeType)},v.isArray=f||function(n){return"[object Array]"===d.call(n)},v.isObject=function(n){var e=typeof n;return"function"===e||"object"===e&&!!n},v.each(["Arguments","Function","String","Number","Date","RegExp"],function(n){v["is"+n]=function(e){return d.call(e)==="[object "+n+"]"}}),v.isArguments(arguments)||(v.isArguments=function(n){return v.has(n,"callee")}),v.isFunction=function(n){return"function"==typeof n||!1},v.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},v.isNaN=function(n){return v.isNumber(n)&&n!==+n},v.isBoolean=function(n){return!0===n||!1===n||"[object Boolean]"===d.call(n)},v.isNull=function(n){return null===n},v.isUndefined=function(n){return void 0===n},v.has=function(n,e){return null!=n&&p.call(n,e)},v.noConflict=function(){return t._=r,this},v.identity=function(n){return n},v.constant=function(n){return function(){return n}},v.noop=function(){},v.property=function(n){return function(e){return e[n]}},v.matches=function(n){var e=v.pairs(n),t=e.length;return function(n){if(null==n)return!t;n=new Object(n);for(var l=0;l<t;l++){var i=e[l],r=i[0];if(i[1]!==n[r]||!(r in n))return!1}return!0}},v.times=function(n,e,t){var l=Array(Math.max(0,n));e=y(e,t,1);for(var i=0;i<n;i++)l[i]=e(i);return l},v.random=function(n,e){return null==e&&(e=n,n=0),n+Math.floor(Math.random()*(e-n+1))},v.now=Date.now||function(){return(new Date).getTime()};var T={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},P=v.invert(T),C=function(n){var e=function(e){return n[e]},t="(?:"+v.keys(n).join("|")+")",l=RegExp(t),i=RegExp(t,"g");return function(n){return n=null==n?"":""+n,l.test(n)?n.replace(i,e):n}};v.escape=C(T),v.unescape=C(P),v.result=function(n,e){if(null!=n){var t=n[e];return v.isFunction(t)?n[e]():t}};var O=0;v.uniqueId=function(n){var e=++O+"";return n?n+e:e},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var R={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},M=function(n){return"\\"+R[n]};v.template=function(n,e,t){!e&&t&&(e=t),e=v.defaults({},e,v.templateSettings);var l=RegExp([(e.escape||/(.)^/).source,(e.interpolate||/(.)^/).source,(e.evaluate||/(.)^/).source].join("|")+"|$","g"),i=0,r="__p+='";n.replace(l,function(e,t,l,o,s){return r+=n.slice(i,s).replace(/\\|'|\r|\n|\u2028|\u2029/g,M),i=s+e.length,t?r+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'":l?r+="'+\n((__t=("+l+"))==null?'':__t)+\n'":o&&(r+="';\n"+o+"\n__p+='"),e}),r+="';\n",e.variable||(r="with(obj||{}){\n"+r+"}\n"),r="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+r+"return __p;\n";try{var o=new Function(e.variable||"obj","_",r)}catch(n){throw n.source=r,n}var s=function(n){return o.call(this,n,v)};return s.source="function("+(e.variable||"obj")+"){\n"+r+"}",s},v.chain=function(n){var e=v(n);return e._chain=!0,e};var D=function(n){return this._chain?v(n).chain():n};v.mixin=function(n){v.each(v.functions(n),function(e){var t=v[e]=n[e];v.prototype[e]=function(){var n=[this._wrapped];return a.apply(n,arguments),D.call(this,t.apply(v,n))}})},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var e=o[n];v.prototype[n]=function(){var t=this._wrapped;return e.apply(t,arguments),"shift"!==n&&"splice"!==n||0!==t.length||delete t[0],D.call(this,t)}}),v.each(["concat","join","slice"],function(n){var e=o[n];v.prototype[n]=function(){return D.call(this,e.apply(this._wrapped,arguments))}}),v.prototype.value=function(){return this._wrapped},l=[],void 0!==(i=function(){return v}.apply(e,l))&&(n.exports=i)}).call(this)},326:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=t(0),i=t(400),r=t(22),o=t(3),s=t(273),u=t(12),a=t(271),c=t(283),h=t(275),d=t(362),p=t(350),f=t(26),g=t(295),m=t(294);t.d(e,"ChessModuleNgFactory",function(){return b});var v=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t])};return function(e,t){function l(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(l.prototype=t.prototype,new l)}}(),y=function(n){function e(e){return n.call(this,e,[d.a,p.a],[])||this}return v(e,n),Object.defineProperty(e.prototype,"_NgLocalization_7",{get:function(){return null==this.__NgLocalization_7&&(this.__NgLocalization_7=new o.NgLocaleLocalization(this._LOCALE_ID_6)),this.__NgLocalization_7},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_BlogsService_8",{get:function(){return null==this.__BlogsService_8&&(this.__BlogsService_8=new a.a(this.parent.get(f.k))),this.__BlogsService_8},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_ɵi_9",{get:function(){return null==this.__ɵi_9&&(this.__ɵi_9=new u.a),this.__ɵi_9},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_ChessSettingsService_11",{get:function(){return null==this.__ChessSettingsService_11&&(this.__ChessSettingsService_11=new c.a),this.__ChessSettingsService_11},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_ChessGameService_12",{get:function(){return null==this.__ChessGameService_12&&(this.__ChessGameService_12=new h.a(this._ChessSettingsService_11)),this.__ChessGameService_12},enumerable:!0,configurable:!0}),e.prototype.createInternal=function(){return this._RouterModule_0=new r.q(this.parent.get(r.r,null),this.parent.get(r.j,null)),this._CommonModule_1=new o.CommonModule,this._SharedModule_2=new s.a,this._ɵba_3=new u.b,this._FormsModule_4=new u.c,this._ChessModule_5=new i.a,this._LOCALE_ID_6="en-US",this._ROUTES_10=[[{path:"",component:g.a,children:[{path:"",component:m.a}]}]],this._ChessModule_5},e.prototype.getInternal=function(n,e){return n===r.q?this._RouterModule_0:n===o.CommonModule?this._CommonModule_1:n===s.a?this._SharedModule_2:n===u.b?this._ɵba_3:n===u.c?this._FormsModule_4:n===i.a?this._ChessModule_5:n===l.LOCALE_ID?this._LOCALE_ID_6:n===o.NgLocalization?this._NgLocalization_7:n===a.a?this._BlogsService_8:n===u.a?this._ɵi_9:n===r.u?this._ROUTES_10:n===c.a?this._ChessSettingsService_11:n===h.a?this._ChessGameService_12:e},e.prototype.destroyInternal=function(){},e}(l["ɵNgModuleInjector"]),b=new l.NgModuleFactory(y,i.a)},334:function(n,e,t){"use strict";var l=t(335);t.d(e,"a",function(){return r});var i=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t])};return function(e,t){function l(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(l.prototype=t.prototype,new l)}}(),r=function(n){function e(e,t){return n.call(this,e,t)||this}return i(e,n),e.prototype.chooseAction=function(){this.setAction([null,null])},e}(l.a)},335:function(n,e,t){"use strict";t.d(e,"a",function(){return l});var l=function(){function n(n,e){this.pieceId=0,this.pieces=[],this.kings=[],this.queens=[],this.rooks=[],this.bishops=[],this.knights=[],this.pawns=[],this.moveTiles=[],this.hitTiles=[],this.prevTile=null,this.prevPiece=null,this.moveCount=0,this.activePiece=null,this.turn=!1,this.enemy=null,this.pieceDecision=null,this.tileDecision=null,this.color=n,this.game=e,this.pieceId=0}return n.prototype.pieceCount=function(){return this.pieces.length},n.prototype.kingCount=function(){return this.kings.length},n.prototype.setAction=function(n){this.pieceDecision=n[0],this.tileDecision=n[1]},n.prototype.getAction=function(){return[this.pieceDecision,this.tileDecision]},n.prototype.addPiece=function(n){this.pieces.push(n),this[n.type+"s"].push(n)},n.prototype.checkAllTiles=function(){this.moveTiles=[],this.hitTiles=[];for(var n=0;n<this.pieceCount();n++)this.pieces[n].tileCheck()},n.prototype.findKingProtectors=function(){for(var n=0;n<this.pieceCount();n++)this.pieces[n].protectsKing=this.pieces[n].tile.protectsKing(this)},n.prototype.checkCastlingMoves=function(){for(var n=0;n<this.kingCount();n++)this.kings[n].castlingCheck()},n}()},349:function(n,e,t){"use strict";t.d(e,"a",function(){return l});var l=["[_nghost-%COMP%], #board[_ngcontent-%COMP%], #pieces[_ngcontent-%COMP%] {\r\n  display: block;\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  top: 0;\r\n  left: 0; }\r\n\r\n.board-row[_ngcontent-%COMP%] {\r\n  height: 12.5%;\r\n  width: 100%; }\r\n\r\n.board-tile[_ngcontent-%COMP%], #pieces[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] {\r\n  width: 12.5%;\r\n  height: 100%;\r\n  float: left; }\r\n\r\n#pieces[_ngcontent-%COMP%] {\r\n  pointer-events: none;\r\n  z-index: 5; }\r\n\r\n#pieces[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] {\r\n  width: 12.5%;\r\n  height: 12.5%;\r\n  position: absolute;\r\n  -webkit-transition: top 0.5s ease-in-out 50ms, left 0.5s ease-in-out 50ms;\r\n  transition: top 0.5s ease-in-out 50ms, left 0.5s ease-in-out 50ms; }\r\n  #pieces[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\r\n    width: 100%;\r\n    height: 100%; }"]},350:function(n,e,t){"use strict";function l(n){return c["ɵvid"](0,[(n()(),c["ɵeld"](0,null,null,0,"div",[["class","board-tile"]],[[4,"background",null]],[[null,"click"]],function(n,e,t){var l=!0,i=n.component;if("click"===e){l=!1!==i.selectTile(n.context.$implicit)&&l}return l},null,null))],null,function(n,e){n(e,0,0,e.component.tileColor(e.context.$implicit))})}function i(n){return c["ɵvid"](0,[(n()(),c["ɵeld"](0,null,null,4,"div",[["class","board-row"]],null,null,null,null,null)),(n()(),c["ɵted"](null,["\n    "])),(n()(),c["ɵand"](8388608,null,null,1,null,l)),c["ɵdid"](401408,null,0,h.NgForOf,[c.ViewContainerRef,c.TemplateRef,c.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),c["ɵted"](null,["\n  "]))],function(n,e){n(e,3,0,e.context.$implicit)},null)}function r(n){return c["ɵvid"](0,[(n()(),c["ɵeld"](0,null,null,3,"div",[],[[4,"top",null],[4,"left",null],[24,"@fadeIn",0]],null,null,null,null)),(n()(),c["ɵted"](null,["\n    "])),(n()(),c["ɵeld"](0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null)),(n()(),c["ɵted"](null,["\n  "]))],null,function(n,e){var t=e.component;n(e,0,0,t.pieceTopLocation(e.context.$implicit),t.pieceLeftLocation(e.context.$implicit),null),n(e,2,0,t.pieceImageUrl(e.context.$implicit))})}function o(n){return c["ɵvid"](0,[(n()(),c["ɵeld"](0,null,null,3,"div",[],[[4,"top",null],[4,"left",null],[24,"@fadeIn",0]],null,null,null,null)),(n()(),c["ɵted"](null,["\n    "])),(n()(),c["ɵeld"](0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null)),(n()(),c["ɵted"](null,["\n  "]))],null,function(n,e){var t=e.component;n(e,0,0,t.pieceTopLocation(e.context.$implicit),t.pieceLeftLocation(e.context.$implicit),null),n(e,2,0,t.pieceImageUrl(e.context.$implicit))})}function s(n){return c["ɵvid"](0,[(n()(),c["ɵeld"](0,null,null,4,"section",[["id","board"]],null,null,null,null,null)),(n()(),c["ɵted"](null,["\n  "])),(n()(),c["ɵand"](8388608,null,null,1,null,i)),c["ɵdid"](401408,null,0,h.NgForOf,[c.ViewContainerRef,c.TemplateRef,c.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),c["ɵted"](null,["\n"])),(n()(),c["ɵted"](null,["\n\n"])),(n()(),c["ɵeld"](0,null,null,7,"section",[["id","pieces"]],null,null,null,null,null)),(n()(),c["ɵted"](null,["\n  "])),(n()(),c["ɵand"](8388608,null,null,1,null,r)),c["ɵdid"](401408,null,0,h.NgForOf,[c.ViewContainerRef,c.TemplateRef,c.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),c["ɵted"](null,["\n  "])),(n()(),c["ɵand"](8388608,null,null,1,null,o)),c["ɵdid"](401408,null,0,h.NgForOf,[c.ViewContainerRef,c.TemplateRef,c.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),c["ɵted"](null,["\n"]))],function(n,e){var t=e.component;n(e,3,0,t.settings.boardTilePositions),n(e,9,0,t.game.white.pieces),n(e,12,0,t.game.black.pieces)},null)}function u(n){return c["ɵvid"](0,[(n()(),c["ɵeld"](0,null,null,1,"chess-board",[],null,null,null,s,m)),c["ɵdid"](24576,null,0,d.a,[p.a,f.a],null,null)],null,null)}var a=t(349),c=t(0),h=t(3),d=t(294),p=t(275),f=t(283);t.d(e,"a",function(){return v});var g=[a.a],m=c["ɵcrt"]({encapsulation:0,styles:g,data:{animation:[{name:"fadeIn",definitions:[{type:0,name:"true",styles:{type:6,styles:{opacity:1}}},{type:0,name:"void",styles:{type:6,styles:{opacity:0}}},{type:1,expr:"* => *",animation:{type:4,styles:null,timings:"300ms"}}]}]}}),v=c["ɵccf"]("chess-board",d.a,u,{},{},[])},351:function(n,e,t){"use strict";t.d(e,"a",function(){return l});var l=['.interface[_ngcontent-%COMP%] {\r\n  -webkit-touch-callout: none;\r\n  -webkit-user-select: none;\r\n  -khtml-user-select: none;\r\n  -moz-user-select: none;\r\n  -ms-user-select: none;\r\n  user-select: none; }\r\n\r\n.interface[_ngcontent-%COMP%] {\r\n  z-index: 10;\r\n  font-family: "Times New Roman", serif, Times;\r\n  box-sizing: border-box; }\r\n\r\n.interface[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\r\n  background: #eeeeee;\r\n  border: 2px solid black;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  font-family: Helvetica, Verdana, sans-serif;\r\n  height: 16px;\r\n  margin: 6px;\r\n  padding: 0.4em;\r\n  font-size: 90%;\r\n  list-style-type: none;\r\n  text-align: center; }\r\n\r\n[_nghost-%COMP%] {\r\n  width: 320px;\r\n  height: 260px; }\r\n\r\nh1[_ngcontent-%COMP%] {\r\n  margin: 7px 0; }']},352:function(n,e,t){"use strict";function l(n){return o["ɵvid"](0,[(n()(),o["ɵeld"](0,null,null,13,"div",[["class","interface"]],null,null,null,null,null)),(n()(),o["ɵted"](null,["\n    "])),(n()(),o["ɵeld"](0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["Game modes"])),(n()(),o["ɵted"](null,["\n    "])),(n()(),o["ɵeld"](0,null,null,1,"li",[["title","Play against the computer AI."]],null,[[null,"click"]],function(n,e,t){var l=!0,i=n.component;if("click"===e){l=!1!==i.switchGameMode(0)&&l}return l},null,null)),(n()(),o["ɵted"](null,["Player vs computer"])),(n()(),o["ɵted"](null,["\n    "])),(n()(),o["ɵeld"](0,null,null,1,"li",[["title","Challenge a friend to a game of chess."]],null,[[null,"click"]],function(n,e,t){var l=!0,i=n.component;if("click"===e){l=!1!==i.switchGameMode(1)&&l}return l},null,null)),(n()(),o["ɵted"](null,["Local multiplayer"])),(n()(),o["ɵted"](null,["\n    "])),(n()(),o["ɵeld"](0,null,null,1,"li",[["title","Watch while computer AIs try to annihilate each other."]],null,[[null,"click"]],function(n,e,t){var l=!0,i=n.component;if("click"===e){l=!1!==i.switchGameMode(2)&&l}return l},null,null)),(n()(),o["ɵted"](null,["Computer vs computer"])),(n()(),o["ɵted"](null,["\n"]))],null,null)}function i(n){return o["ɵvid"](0,[(n()(),o["ɵeld"](0,null,null,1,"chess-choose-mode",[],null,null,null,l,h)),o["ɵdid"](24576,null,0,s.a,[u.a,a.a],null,null)],null,null)}var r=t(351),o=t(0),s=t(314),u=t(283),a=t(275);t.d(e,"b",function(){return h}),e.a=l;var c=[r.a],h=o["ɵcrt"]({encapsulation:0,styles:c,data:{}});o["ɵccf"]("chess-choose-mode",s.a,i,{},{close:"close"},[])},353:function(n,e,t){"use strict";t.d(e,"a",function(){return l});var l=[".interface[_ngcontent-%COMP%] {\r\n  -webkit-touch-callout: none;\r\n  -webkit-user-select: none;\r\n  -khtml-user-select: none;\r\n  -moz-user-select: none;\r\n  -ms-user-select: none;\r\n  user-select: none; }\r\n\r\n[_nghost-%COMP%]:after {\r\n  content: '';\r\n  display: table;\r\n  clear: both; }\r\n\r\nchess-settings[_ngcontent-%COMP%], chess-choose-mode[_ngcontent-%COMP%], chess-instructions[_ngcontent-%COMP%], chess-winner-dialog[_ngcontent-%COMP%] {\r\n  left: 50%;\r\n  top: 50%;\r\n  transform: translate(-50%, -50%);\r\n  -webkit-transform: translate(-50%, -50%); }\r\n\r\n.interface[_ngcontent-%COMP%] {\r\n  z-index: 10;\r\n  font-family: \"Times New Roman\", serif, Times;\r\n  box-sizing: border-box; }\r\n\r\n.interface[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\r\n  background: #eeeeee;\r\n  border: 2px solid black;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  font-family: Helvetica, Verdana, sans-serif;\r\n  height: 16px;\r\n  margin: 6px;\r\n  padding: 0.4em;\r\n  font-size: 90%;\r\n  list-style-type: none;\r\n  text-align: center; }\r\n\r\n[_nghost-%COMP%] {\r\n  display: block;\r\n  border: 2px solid black;\r\n  background: silver;\r\n  margin: auto;\r\n  max-width: 800px; }\r\n\r\n.container[_ngcontent-%COMP%] {\r\n  max-width: 640px;\r\n  width: 80%;\r\n  padding-top: 80%;\r\n  background: black;\r\n  position: relative;\r\n  float: left;\r\n  border-left: 3px solid black; }\r\n\r\n.side-menu[_ngcontent-%COMP%] {\r\n  width: 20%;\r\n  height: 100%;\r\n  max-width: 160px;\r\n  float: left;\r\n  padding: 3px;\r\n  padding-right: 6px;\r\n  margin-right: -3px;\r\n  font-size: 90%; }\r\n  @media screen and (max-width: 450px) {\r\n    .side-menu[_ngcontent-%COMP%] {\r\n      font-size: 80%; }\r\n      .side-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\r\n        padding: 3px;\r\n        margin: 3px; } }\r\n\r\nchess-settings[_ngcontent-%COMP%], chess-choose-mode[_ngcontent-%COMP%], chess-instructions[_ngcontent-%COMP%], chess-winner-dialog[_ngcontent-%COMP%] {\r\n  position: absolute;\r\n  max-width: 90%;\r\n  max-height: 90%;\r\n  background: silver;\r\n  border: 5px solid gray;\r\n  border-radius: 5px;\r\n  text-align: center;\r\n  z-index: 10; }\r\n\r\nchess-instructions[_ngcontent-%COMP%] {\r\n  max-width: 98%;\r\n  max-height: 98%; }"]},354:function(n,e,t){"use strict";function l(n){return c["ɵvid"](0,[(n()(),c["ɵeld"](0,null,null,1,"chess-choose-mode",[],[[24,"@fadeIn",0]],[[null,"close"]],function(n,e,t){var l=!0,i=n.component;if("close"===e){l=!1!==i.switchDialog("")&&l}return l},h.a,h.b)),c["ɵdid"](24576,null,0,d.a,[p.a,f.a],null,{close:"close"})],null,function(n,e){n(e,0,0,null)})}function i(n){return c["ɵvid"](0,[(n()(),c["ɵeld"](0,null,null,1,"chess-settings",[],[[24,"@fadeIn",0]],[[null,"close"]],function(n,e,t){var l=!0,i=n.component;if("close"===e){l=!1!==i.switchDialog("")&&l}return l},g.a,g.b)),c["ɵdid"](24576,null,0,m.a,[p.a,f.a],null,{close:"close"})],null,function(n,e){n(e,0,0,null)})}function r(n){return c["ɵvid"](0,[(n()(),c["ɵeld"](0,null,null,1,"chess-instructions",[],[[24,"@fadeIn",0]],[[null,"close"]],function(n,e,t){var l=!0,i=n.component;if("close"===e){l=!1!==i.switchDialog("")&&l}return l},v.a,v.b)),c["ɵdid"](24576,null,0,y.a,[],null,null)],null,function(n,e){n(e,0,0,null)})}function o(n){return c["ɵvid"](0,[(n()(),c["ɵeld"](0,null,null,1,"chess-winner-dialog",[],[[24,"@fadeIn",0]],[[null,"switchDialogEvent"]],function(n,e,t){var l=!0,i=n.component;if("switchDialogEvent"===e){l=!1!==i.switchDialog(t)&&l}return l},b.a,b.b)),c["ɵdid"](90112,null,0,w.a,[f.a],null,{switchDialogEvent:"switchDialogEvent"})],null,function(n,e){n(e,0,0,null)})}function s(n){return c["ɵvid"](0,[(n()(),c["ɵeld"](0,null,null,44,"section",[["class","side-menu interface"]],null,null,null,null,null)),(n()(),c["ɵted"](null,["\n  "])),(n()(),c["ɵeld"](0,null,null,29,"table",[],null,null,null,null,null)),(n()(),c["ɵted"](null,["\n    "])),(n()(),c["ɵeld"](0,null,null,27,"tbody",[],null,null,null,null,null)),(n()(),c["ɵeld"](0,null,null,3,"tr",[],null,null,null,null,null)),(n()(),c["ɵeld"](0,null,null,2,"td",[["colspan","2"]],null,null,null,null,null)),(n()(),c["ɵeld"](0,null,null,1,"b",[],null,null,null,null,null)),(n()(),c["ɵted"](null,["Game stats"])),(n()(),c["ɵted"](null,["\n      "])),(n()(),c["ɵeld"](0,null,null,2,"tr",[],null,null,null,null,null)),(n()(),c["ɵeld"](0,null,null,1,"td",[["colspan","2"],["id","turn"]],null,null,null,null,null)),(n()(),c["ɵted"](null,["","'s turn"])),(n()(),c["ɵted"](null,["\n      "])),(n()(),c["ɵeld"](0,null,null,4,"tr",[],null,null,null,null,null)),(n()(),c["ɵeld"](0,null,null,1,"td",[],null,null,null,null,null)),(n()(),c["ɵted"](null,["Round:"])),(n()(),c["ɵeld"](0,null,null,1,"td",[],null,null,null,null,null)),(n()(),c["ɵted"](null,["",""])),(n()(),c["ɵted"](null,["\n      "])),(n()(),c["ɵeld"](0,null,null,4,"tr",[],null,null,null,null,null)),(n()(),c["ɵeld"](0,null,null,1,"td",[],null,null,null,null,null)),(n()(),c["ɵted"](null,["White:"])),(n()(),c["ɵeld"](0,null,null,1,"td",[],null,null,null,null,null)),(n()(),c["ɵted"](null,[""," pieces"])),(n()(),c["ɵted"](null,["\n      "])),(n()(),c["ɵeld"](0,null,null,4,"tr",[],null,null,null,null,null)),(n()(),c["ɵeld"](0,null,null,1,"td",[],null,null,null,null,null)),(n()(),c["ɵted"](null,["Black:"])),(n()(),c["ɵeld"](0,null,null,1,"td",[],null,null,null,null,null)),(n()(),c["ɵted"](null,[""," pieces"])),(n()(),c["ɵted"](null,["\n  "])),(n()(),c["ɵted"](null,["\n  "])),(n()(),c["ɵeld"](0,null,null,1,"li",[["class","play-again"],["title","Resets the game."]],null,[[null,"click"]],function(n,e,t){var l=!0,i=n.component;if("click"===e){l=!1!==i.reset()&&l}return l},null,null)),(n()(),c["ɵted"](null,["Reset game"])),(n()(),c["ɵted"](null,["\n  "])),(n()(),c["ɵeld"](0,null,null,1,"li",[["class","game-mode-button"],["title","Choose game mode."]],null,[[null,"click"]],function(n,e,t){var l=!0,i=n.component;if("click"===e){l=!1!==i.switchDialog("chooseMode")&&l}return l},null,null)),(n()(),c["ɵted"](null,["Game mode"])),(n()(),c["ɵted"](null,["\n  "])),(n()(),c["ɵeld"](0,null,null,1,"li",[["class","settings-button"],["title","Change piece layout."]],null,[[null,"click"]],function(n,e,t){var l=!0,i=n.component;if("click"===e){l=!1!==i.switchDialog("settings")&&l}return l},null,null)),(n()(),c["ɵted"](null,["Settings"])),(n()(),c["ɵted"](null,["\n  "])),(n()(),c["ɵeld"](0,null,null,1,"li",[["class","instructions-button"],["title","Read the instructions."]],null,[[null,"click"]],function(n,e,t){var l=!0,i=n.component;if("click"===e){l=!1!==i.switchDialog("instructions")&&l}return l},null,null)),(n()(),c["ɵted"](null,["Instructions"])),(n()(),c["ɵted"](null,["\n"])),(n()(),c["ɵted"](null,["\n\n"])),(n()(),c["ɵeld"](0,null,null,16,"section",[["class","container"]],null,null,null,null,null)),(n()(),c["ɵted"](null,["\n    "])),(n()(),c["ɵeld"](8388608,null,null,1,"router-outlet",[],null,null,null,null,null)),c["ɵdid"](73728,null,0,k.z,[k.l,c.ViewContainerRef,c.ComponentFactoryResolver,[8,null]],null,null),(n()(),c["ɵted"](null,["\n    "])),(n()(),c["ɵand"](8388608,null,null,1,null,l)),c["ɵdid"](8192,null,0,_.NgIf,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),c["ɵted"](null,["\n    "])),(n()(),c["ɵand"](8388608,null,null,1,null,i)),c["ɵdid"](8192,null,0,_.NgIf,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),c["ɵted"](null,["\n    "])),(n()(),c["ɵand"](8388608,null,null,1,null,r)),c["ɵdid"](8192,null,0,_.NgIf,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),c["ɵted"](null,["\n    "])),(n()(),c["ɵand"](8388608,null,null,1,null,o)),c["ɵdid"](8192,null,0,_.NgIf,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),c["ɵted"](null,["\n"]))],function(n,e){var t=e.component;n(e,52,0,"chooseMode"==t.visibleDialog),n(e,55,0,"settings"==t.visibleDialog),n(e,58,0,"instructions"==t.visibleDialog),n(e,61,0,""==t.visibleDialog&&null!=t.game.winner)},function(n,e){var t=e.component;n(e,12,0,t.activePlayerColor()),n(e,18,0,t.game.round),n(e,24,0,null==t.game.white?null:t.game.white.pieces.length),n(e,30,0,null==t.game.black?null:t.game.black.pieces.length)})}function u(n){return c["ɵvid"](0,[(n()(),c["ɵeld"](0,null,null,1,"chess-game",[],null,null,null,s,P)),c["ɵdid"](24576,null,0,x.a,[f.a,p.a],null,null)],null,null)}var a=t(353),c=t(0),h=t(352),d=t(314),p=t(283),f=t(275),g=t(358),m=t(317),v=t(356),y=t(316),b=t(360),w=t(318),x=t(315),k=t(22),_=t(3);t.d(e,"b",function(){return P}),e.a=s;var T=[a.a],P=c["ɵcrt"]({encapsulation:0,styles:T,data:{animation:[{name:"fadeIn",definitions:[{type:0,name:"true",styles:{type:6,styles:{opacity:1}}},{type:0,name:"void",styles:{type:6,styles:{opacity:0}}},{type:1,expr:"* => *",animation:{type:4,styles:null,timings:"300ms"}}]}]}});c["ɵccf"]("chess-game",x.a,u,{},{},[])},355:function(n,e,t){"use strict";t.d(e,"a",function(){return l});var l=['.interface[_ngcontent-%COMP%] {\r\n  -webkit-touch-callout: none;\r\n  -webkit-user-select: none;\r\n  -khtml-user-select: none;\r\n  -moz-user-select: none;\r\n  -ms-user-select: none;\r\n  user-select: none; }\r\n\r\n.interface[_ngcontent-%COMP%] {\r\n  z-index: 10;\r\n  font-family: "Times New Roman", serif, Times;\r\n  box-sizing: border-box; }\r\n\r\n.interface[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\r\n  background: #eeeeee;\r\n  border: 2px solid black;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  font-family: Helvetica, Verdana, sans-serif;\r\n  height: 16px;\r\n  margin: 6px;\r\n  padding: 0.4em;\r\n  font-size: 90%;\r\n  list-style-type: none;\r\n  text-align: center; }\r\n\r\n[_nghost-%COMP%] {\r\n  width: 100%;\r\n  height: 100%;\r\n  font-size: 90%;\r\n  overflow-y: auto; }\r\n\r\nimg[_ngcontent-%COMP%] {\r\n  width: 50px;\r\n  height: 50px; }\r\n  @media screen and (max-width: 800px) {\r\n    img[_ngcontent-%COMP%] {\r\n      width: 30px;\r\n      height: 30px; } }\r\n\r\ntable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\r\n  text-align: left; }\r\n\r\ntable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child {\r\n  vertical-align: top; }']},356:function(n,e,t){"use strict";function l(n){return o["ɵvid"](0,[(n()(),o["ɵeld"](0,null,null,98,"div",[["class","interface"]],null,null,null,null,null)),(n()(),o["ɵted"](null,["\n    "])),(n()(),o["ɵeld"](0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["Instructions"])),(n()(),o["ɵted"](null,["\n    The goal of chess is to capture the enemy king. Once that is done, the game will end and the winner declared.\n    The game will also end if a player doesn't have any legal moves left.\n    "])),(n()(),o["ɵeld"](0,null,null,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["A player captures an enemy piece by moving their piece to their tile. Captured pieces are removed from the game.\n    Each player does always one move each turn. Skipping isn't possible. White player always starts the game.\n    "])),(n()(),o["ɵeld"](0,null,null,0,"br",[],null,null,null,null,null)),(n()(),o["ɵeld"](0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["Pieces"])),(n()(),o["ɵted"](null,["\n    "])),(n()(),o["ɵeld"](0,null,null,86,"table",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["\n    "])),(n()(),o["ɵeld"](0,null,null,84,"tbody",[],null,null,null,null,null)),(n()(),o["ɵeld"](0,null,null,15,"tr",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["\n        "])),(n()(),o["ɵeld"](0,null,null,1,"td",[],null,null,null,null,null)),(n()(),o["ɵeld"](0,null,null,0,"img",[["src","images/chess/white-pawn.png"]],null,null,null,null,null)),(n()(),o["ɵted"](null,["\n        "])),(n()(),o["ɵeld"](0,null,null,9,"td",[],null,null,null,null,null)),(n()(),o["ɵeld"](0,null,null,1,"b",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["Pawns"])),(n()(),o["ɵted"](null,[" are the most common piece. Pawns can move 1 square forward if it isn't occupied by another piece. \n        On the first move they can alternatively move 2 squares.\n        "])),(n()(),o["ɵeld"](0,null,null,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["Pawns can normally only capture pieces that are on diagonal squares in front of them.\n        "])),(n()(),o["ɵeld"](0,null,null,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["If an enemy pawn moves next to pawn (horizontally) by moving 2 squares, pawn can capture it with en passant special move.\n        In en passant pawn moves diagonally behind the enemy pawn and captures it.\n        "])),(n()(),o["ɵeld"](0,null,null,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["Once a pawn reaches other end of the board, it is automatically promoted to queen."])),(n()(),o["ɵted"](null,["\n    "])),(n()(),o["ɵted"](null,["\n    "])),(n()(),o["ɵeld"](0,null,null,11,"tr",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["\n        "])),(n()(),o["ɵeld"](0,null,null,1,"td",[],null,null,null,null,null)),(n()(),o["ɵeld"](0,null,null,0,"img",[["src","images/chess/white-knight.png"]],null,null,null,null,null)),(n()(),o["ɵted"](null,["\n        "])),(n()(),o["ɵeld"](0,null,null,5,"td",[],null,null,null,null,null)),(n()(),o["ɵeld"](0,null,null,1,"b",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["Knights"])),(n()(),o["ɵted"](null,[" can move to any of the closest squares that aren't horizontal, vertical or diagonal. \n        "])),(n()(),o["ɵeld"](0,null,null,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["Their moves form L shape: 2 forward, 1 left/right. Knights can jump over other pieces."])),(n()(),o["ɵted"](null,["\n    "])),(n()(),o["ɵted"](null,["\n    "])),(n()(),o["ɵeld"](0,null,null,9,"tr",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["\n        "])),(n()(),o["ɵeld"](0,null,null,1,"td",[],null,null,null,null,null)),(n()(),o["ɵeld"](0,null,null,0,"img",[["src","images/chess/white-rook.png"]],null,null,null,null,null)),(n()(),o["ɵted"](null,["\n        "])),(n()(),o["ɵeld"](0,null,null,3,"td",[],null,null,null,null,null)),(n()(),o["ɵeld"](0,null,null,1,"b",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["Rooks"])),(n()(),o["ɵted"](null,[" can move horizontally and vertically to any direction any number of squares, but can't jump over other pieces."])),(n()(),o["ɵted"](null,["\n    "])),(n()(),o["ɵted"](null,["\n    "])),(n()(),o["ɵeld"](0,null,null,9,"tr",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["\n        "])),(n()(),o["ɵeld"](0,null,null,1,"td",[],null,null,null,null,null)),(n()(),o["ɵeld"](0,null,null,0,"img",[["src","images/chess/white-bishop.png"]],null,null,null,null,null)),(n()(),o["ɵted"](null,["\n        "])),(n()(),o["ɵeld"](0,null,null,3,"td",[],null,null,null,null,null)),(n()(),o["ɵeld"](0,null,null,1,"b",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["Bishops"])),(n()(),o["ɵted"](null,[" can move diagonally to any direction any number of squares, but can't jump over other pieces."])),(n()(),o["ɵted"](null,["\n    "])),(n()(),o["ɵted"](null,["\n    "])),(n()(),o["ɵeld"](0,null,null,9,"tr",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["\n        "])),(n()(),o["ɵeld"](0,null,null,1,"td",[],null,null,null,null,null)),(n()(),o["ɵeld"](0,null,null,0,"img",[["src","images/chess/white-queen.png"]],null,null,null,null,null)),(n()(),o["ɵted"](null,["\n        "])),(n()(),o["ɵeld"](0,null,null,3,"td",[],null,null,null,null,null)),(n()(),o["ɵeld"](0,null,null,1,"b",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["Queens"])),(n()(),o["ɵted"](null,[" have same moves as rooks and bishops (all horizontal, vertical and diagonal squares)."])),(n()(),o["ɵted"](null,["\n    "])),(n()(),o["ɵted"](null,["\n    "])),(n()(),o["ɵeld"](0,null,null,19,"tr",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["\n        "])),(n()(),o["ɵeld"](0,null,null,1,"td",[],null,null,null,null,null)),(n()(),o["ɵeld"](0,null,null,0,"img",[["src","images/chess/white-king.png"]],null,null,null,null,null)),(n()(),o["ɵted"](null,["\n        "])),(n()(),o["ɵeld"](0,null,null,13,"td",[],null,null,null,null,null)),(n()(),o["ɵeld"](0,null,null,1,"b",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["King"])),(n()(),o["ɵted"](null,[" is the most valuable piece - once the king is captured, the game ends.\n        "])),(n()(),o["ɵeld"](0,null,null,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["King can move one square to any direction.\n        "])),(n()(),o["ɵeld"](0,null,null,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["King also has a special move, castling, which moves king 2 steps towards a rook and moves rook behind the king. This has following conditions:\n        "])),(n()(),o["ɵeld"](0,null,null,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["1. King and rook must have not moved during the game (and must be on same row).\n        "])),(n()(),o["ɵeld"](0,null,null,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["2. There can't be any pieces between the king and the rook.\n        "])),(n()(),o["ɵeld"](0,null,null,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["3. The king must not be in check, and king must not pass through a tile that could be attacked by enemy player in their next turn.\n        "])),(n()(),o["ɵted"](null,["\n    "])),(n()(),o["ɵted"](null,["\n    "])),(n()(),o["ɵted"](null,["\n"]))],null,null)}function i(n){return o["ɵvid"](0,[(n()(),o["ɵeld"](0,null,null,1,"chess-instructions",[],null,null,null,l,a)),o["ɵdid"](24576,null,0,s.a,[],null,null)],null,null)}var r=t(355),o=t(0),s=t(316);t.d(e,"b",function(){return a}),e.a=l;var u=[r.a],a=o["ɵcrt"]({encapsulation:0,styles:u,data:{}});o["ɵccf"]("chess-instructions",s.a,i,{},{},[])},357:function(n,e,t){"use strict";t.d(e,"a",function(){return l});var l=['.interface[_ngcontent-%COMP%] {\r\n  -webkit-touch-callout: none;\r\n  -webkit-user-select: none;\r\n  -khtml-user-select: none;\r\n  -moz-user-select: none;\r\n  -ms-user-select: none;\r\n  user-select: none; }\r\n\r\n.interface[_ngcontent-%COMP%] {\r\n  z-index: 10;\r\n  font-family: "Times New Roman", serif, Times;\r\n  box-sizing: border-box; }\r\n\r\n.interface[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\r\n  background: #eeeeee;\r\n  border: 2px solid black;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  font-family: Helvetica, Verdana, sans-serif;\r\n  height: 16px;\r\n  margin: 6px;\r\n  padding: 0.4em;\r\n  font-size: 90%;\r\n  list-style-type: none;\r\n  text-align: center; }\r\n\r\n[_nghost-%COMP%] {\r\n  width: 320px;\r\n  height: 280px; }\r\n\r\nh1[_ngcontent-%COMP%] {\r\n  margin: 7px 0; }\r\n\r\ntable[_ngcontent-%COMP%] {\r\n  margin: auto; }\r\n\r\ntd[_ngcontent-%COMP%] {\r\n  padding: 5px; }\r\n\r\ninput[_ngcontent-%COMP%] {\r\n  font-family: monospace; }']},358:function(n,e,t){"use strict";function l(n){return o["ɵvid"](0,[(n()(),o["ɵeld"](0,null,null,74,"div",[["class","interface"]],null,null,null,null,null)),(n()(),o["ɵted"](null,["\n  "])),(n()(),o["ɵeld"](0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["Settings"])),(n()(),o["ɵted"](null,["\n  Change piece layout"])),(n()(),o["ɵeld"](0,null,null,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["\n  "])),(n()(),o["ɵeld"](0,null,null,51,"form",[["autocomplete","off"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,e,t){var l=!0;if("submit"===e){l=!1!==o["ɵnov"](n,9).onSubmit(t)&&l}if("reset"===e){l=!1!==o["ɵnov"](n,9).onReset()&&l}return l},null,null)),o["ɵdid"](8192,null,0,s.l,[],null,null),o["ɵdid"](8192,null,0,s.m,[[8,null],[8,null]],null,null),o["ɵprd"](1024,null,s.n,null,[s.m]),o["ɵdid"](8192,null,0,s.o,[s.n],null,null),(n()(),o["ɵted"](null,["\n    "])),(n()(),o["ɵeld"](0,null,null,44,"table",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["\n      "])),(n()(),o["ɵeld"](0,null,null,42,"tbody",[],null,null,null,null,null)),(n()(),o["ɵeld"](0,null,null,26,"tr",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["\n        "])),(n()(),o["ɵeld"](0,null,null,10,"td",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["Row 1: "])),(n()(),o["ɵeld"](0,null,null,7,"input",[["maxlength","8"],["name","upperRow"],["size","8"],["type","text"]],[[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,t){var l=!0,i=n.component;if("input"===e){l=!1!==o["ɵnov"](n,21)._handleInput(t.target.value)&&l}if("blur"===e){l=!1!==o["ɵnov"](n,21).onTouched()&&l}if("compositionstart"===e){l=!1!==o["ɵnov"](n,21)._compositionStart()&&l}if("compositionend"===e){l=!1!==o["ɵnov"](n,21)._compositionEnd(t.target.value)&&l}if("ngModelChange"===e){l=!1!==(i.upperRow=t)&&l}return l},null,null)),o["ɵdid"](8192,null,0,s.d,[o.Renderer,o.ElementRef,[2,s.e]],null,null),o["ɵdid"](270336,null,0,s.f,[],{maxlength:[0,"maxlength"]},null),o["ɵprd"](512,null,s.g,function(n){return[n]},[s.f]),o["ɵprd"](512,null,s.h,function(n){return[n]},[s.d]),o["ɵdid"](335872,null,0,s.i,[[2,s.n],[2,s.g],[8,null],[2,s.h]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),o["ɵprd"](1024,null,s.j,null,[s.i]),o["ɵdid"](8192,null,0,s.k,[s.j],null,null),(n()(),o["ɵted"](null,["\n        "])),(n()(),o["ɵeld"](0,null,null,5,"td",[["rowspan","2"]],null,null,null,null,null)),(n()(),o["ɵted"](null,["P: Pawn"])),(n()(),o["ɵeld"](0,null,null,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["R: Rook"])),(n()(),o["ɵeld"](0,null,null,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["X: King"])),(n()(),o["ɵted"](null,["\n        "])),(n()(),o["ɵeld"](0,null,null,5,"td",[["rowspan","2"]],null,null,null,null,null)),(n()(),o["ɵted"](null,["K: Knight"])),(n()(),o["ɵeld"](0,null,null,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["B: Bishop"])),(n()(),o["ɵeld"](0,null,null,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["Q: Queen"])),(n()(),o["ɵted"](null,["\n      "])),(n()(),o["ɵted"](null,["\n      "])),(n()(),o["ɵeld"](0,null,null,12,"tr",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["\n        "])),(n()(),o["ɵeld"](0,null,null,9,"td",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["Row 2: "])),(n()(),o["ɵeld"](0,null,null,7,"input",[["maxlength","8"],["name","lowerRow"],["size","8"],["type","text"]],[[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,t){var l=!0,i=n.component;if("input"===e){l=!1!==o["ɵnov"](n,49)._handleInput(t.target.value)&&l}if("blur"===e){l=!1!==o["ɵnov"](n,49).onTouched()&&l}if("compositionstart"===e){l=!1!==o["ɵnov"](n,49)._compositionStart()&&l}if("compositionend"===e){l=!1!==o["ɵnov"](n,49)._compositionEnd(t.target.value)&&l}if("ngModelChange"===e){l=!1!==(i.lowerRow=t)&&l}return l},null,null)),o["ɵdid"](8192,null,0,s.d,[o.Renderer,o.ElementRef,[2,s.e]],null,null),o["ɵdid"](270336,null,0,s.f,[],{maxlength:[0,"maxlength"]},null),o["ɵprd"](512,null,s.g,function(n){return[n]},[s.f]),o["ɵprd"](512,null,s.h,function(n){return[n]},[s.d]),o["ɵdid"](335872,null,0,s.i,[[2,s.n],[2,s.g],[8,null],[2,s.h]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),o["ɵprd"](1024,null,s.j,null,[s.i]),o["ɵdid"](8192,null,0,s.k,[s.j],null,null),(n()(),o["ɵted"](null,["\n      "])),(n()(),o["ɵted"](null,["\n    "])),(n()(),o["ɵted"](null,["\n  "])),(n()(),o["ɵted"](null,["\n  "])),(n()(),o["ɵeld"](0,null,null,7,"label",[["title","Turns game board 90 degrees"]],null,null,null,null,null)),(n()(),o["ɵeld"](0,null,null,5,"input",[["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(n,e,t){var l=!0,i=n.component;if("change"===e){l=!1!==o["ɵnov"](n,62).onChange(t.target.checked)&&l}if("blur"===e){l=!1!==o["ɵnov"](n,62).onTouched()&&l}if("ngModelChange"===e){l=!1!==(i.boardReversed=t)&&l}return l},null,null)),o["ɵdid"](8192,null,0,s.q,[o.Renderer,o.ElementRef],null,null),o["ɵprd"](512,null,s.h,function(n){return[n]},[s.q]),o["ɵdid"](335872,null,0,s.i,[[8,null],[8,null],[8,null],[2,s.h]],{model:[0,"model"]},{update:"ngModelChange"}),o["ɵprd"](1024,null,s.j,null,[s.i]),o["ɵdid"](8192,null,0,s.k,[s.j],null,null),(n()(),o["ɵted"](null,[" Reversed board"])),(n()(),o["ɵted"](null,["\n  "])),(n()(),o["ɵeld"](0,null,null,1,"li",[["title","Changing settings will reset the game."]],null,[[null,"click"]],function(n,e,t){var l=!0,i=n.component;if("click"===e){l=!1!==i.saveSettings()&&l}return l},null,null)),(n()(),o["ɵted"](null,["Save settings"])),(n()(),o["ɵted"](null,["\n  "])),(n()(),o["ɵeld"](0,null,null,1,"li",[["title","Puts pieces to their original places and resets the game."]],null,[[null,"click"]],function(n,e,t){var l=!0,i=n.component;if("click"===e){l=!1!==i.resetLayout()&&l}return l},null,null)),(n()(),o["ɵted"](null,["Reset layout"])),(n()(),o["ɵted"](null,["\n"]))],function(n,e){var t=e.component;n(e,22,0,"8");n(e,25,0,"upperRow",t.upperRow);n(e,50,0,"8");n(e,53,0,"lowerRow",t.lowerRow),n(e,64,0,t.boardReversed)},function(n,e){n(e,7,0,o["ɵnov"](e,11).ngClassUntouched,o["ɵnov"](e,11).ngClassTouched,o["ɵnov"](e,11).ngClassPristine,o["ɵnov"](e,11).ngClassDirty,o["ɵnov"](e,11).ngClassValid,o["ɵnov"](e,11).ngClassInvalid,o["ɵnov"](e,11).ngClassPending),n(e,20,0,o["ɵnov"](e,22).maxlength?o["ɵnov"](e,22).maxlength:null,o["ɵnov"](e,27).ngClassUntouched,o["ɵnov"](e,27).ngClassTouched,o["ɵnov"](e,27).ngClassPristine,o["ɵnov"](e,27).ngClassDirty,o["ɵnov"](e,27).ngClassValid,o["ɵnov"](e,27).ngClassInvalid,o["ɵnov"](e,27).ngClassPending),n(e,48,0,o["ɵnov"](e,50).maxlength?o["ɵnov"](e,50).maxlength:null,o["ɵnov"](e,55).ngClassUntouched,o["ɵnov"](e,55).ngClassTouched,o["ɵnov"](e,55).ngClassPristine,o["ɵnov"](e,55).ngClassDirty,o["ɵnov"](e,55).ngClassValid,o["ɵnov"](e,55).ngClassInvalid,o["ɵnov"](e,55).ngClassPending),n(e,61,0,o["ɵnov"](e,66).ngClassUntouched,o["ɵnov"](e,66).ngClassTouched,o["ɵnov"](e,66).ngClassPristine,o["ɵnov"](e,66).ngClassDirty,o["ɵnov"](e,66).ngClassValid,o["ɵnov"](e,66).ngClassInvalid,o["ɵnov"](e,66).ngClassPending)})}function i(n){return o["ɵvid"](0,[(n()(),o["ɵeld"](0,null,null,1,"chess-settings",[],null,null,null,l,d)),o["ɵdid"](24576,null,0,u.a,[a.a,c.a],null,null)],null,null)}var r=t(357),o=t(0),s=t(12),u=t(317),a=t(283),c=t(275);t.d(e,"b",function(){return d}),e.a=l;var h=[r.a],d=o["ɵcrt"]({encapsulation:0,styles:h,data:{}});o["ɵccf"]("chess-settings",u.a,i,{},{close:"close"},[])},359:function(n,e,t){"use strict";t.d(e,"a",function(){return l});var l=['.interface[_ngcontent-%COMP%] {\r\n  -webkit-touch-callout: none;\r\n  -webkit-user-select: none;\r\n  -khtml-user-select: none;\r\n  -moz-user-select: none;\r\n  -ms-user-select: none;\r\n  user-select: none; }\r\n\r\n.interface[_ngcontent-%COMP%] {\r\n  z-index: 10;\r\n  font-family: "Times New Roman", serif, Times;\r\n  box-sizing: border-box; }\r\n\r\n.interface[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\r\n  background: #eeeeee;\r\n  border: 2px solid black;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  font-family: Helvetica, Verdana, sans-serif;\r\n  height: 16px;\r\n  margin: 6px;\r\n  padding: 0.4em;\r\n  font-size: 90%;\r\n  list-style-type: none;\r\n  text-align: center; }\r\n\r\n[_nghost-%COMP%] {\r\n  width: 320px;\r\n  height: 260px; }\r\n\r\nh1[_ngcontent-%COMP%] {\r\n  margin: 7px 0; }']},360:function(n,e,t){"use strict";function l(n){return o["ɵvid"](0,[(n()(),o["ɵeld"](0,null,null,13,"div",[["class","interface"]],null,null,null,null,null)),(n()(),o["ɵted"](null,["\n    "])),(n()(),o["ɵeld"](0,null,null,1,"h1",[["id","win-message"]],null,null,null,null,null)),(n()(),o["ɵted"](null,[""," wins!"])),(n()(),o["ɵted"](null,["\n    "])),(n()(),o["ɵeld"](0,null,null,1,"li",[],null,[[null,"click"]],function(n,e,t){var l=!0,i=n.component;if("click"===e){l=!1!==i.game.reset()&&l}return l},null,null)),(n()(),o["ɵted"](null,["Play again"])),(n()(),o["ɵted"](null,["\n    "])),(n()(),o["ɵeld"](0,null,null,1,"li",[["title","Choose game mode."]],null,[[null,"click"]],function(n,e,t){var l=!0,i=n.component;if("click"===e){l=!1!==i.switchDialog("chooseMode")&&l}return l},null,null)),(n()(),o["ɵted"](null,["Switch game mode"])),(n()(),o["ɵted"](null,["\n    "])),(n()(),o["ɵeld"](0,null,null,1,"li",[["title","Change piece layout."]],null,[[null,"click"]],function(n,e,t){var l=!0,i=n.component;if("click"===e){l=!1!==i.switchDialog("settings")&&l}return l},null,null)),(n()(),o["ɵted"](null,["Change settings"])),(n()(),o["ɵted"](null,["\n"]))],null,function(n,e){n(e,3,0,e.component.winnerColor)})}function i(n){return o["ɵvid"](0,[(n()(),o["ɵeld"](0,null,null,1,"chess-winner-dialog",[],null,null,null,l,c)),o["ɵdid"](90112,null,0,s.a,[u.a],null,null)],null,null)}var r=t(359),o=t(0),s=t(318),u=t(275);t.d(e,"b",function(){return c}),e.a=l;var a=[r.a],c=o["ɵcrt"]({encapsulation:0,styles:a,data:{}});o["ɵccf"]("chess-winner-dialog",s.a,i,{},{switchDialogEvent:"switchDialogEvent"},[])},361:function(n,e,t){"use strict";t.d(e,"a",function(){return l});var l=["[_nghost-%COMP%] {\r\n  min-width: 304px;\r\n  max-width: 1000px;\r\n  margin: auto;\r\n  width: 100%;\r\n  display: block; }\r\n\r\n[_nghost-%COMP%] {\r\n  display: block; }\r\n\r\nh1[_ngcontent-%COMP%] {\r\n  text-align: center; }"]},362:function(n,e,t){"use strict";function l(n){return o["ɵvid"](0,[(n()(),o["ɵeld"](0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["Chess"])),(n()(),o["ɵted"](null,["\n"])),(n()(),o["ɵeld"](0,null,null,1,"chess-game",[],null,null,null,s.a,s.b)),o["ɵdid"](24576,null,0,u.a,[a.a,c.a],null,null),(n()(),o["ɵted"](null,["\n"])),(n()(),o["ɵeld"](0,null,null,36,"description-box",[],null,null,null,h.a,h.b)),o["ɵdid"](24576,null,0,d.a,[],null,null),(n()(),o["ɵted"](0,["\n  This chess game has 3 game modes. In "])),(n()(),o["ɵeld"](0,null,0,1,"b",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["Player vs computer"])),(n()(),o["ɵted"](0,[" you can challenge the computer AI and see if you're smarter than a machine. If you have friends you\n  want to challenge, you can use "])),(n()(),o["ɵeld"](0,null,0,1,"b",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["Local multiplayer"])),(n()(),o["ɵted"](0,[" mode (needs to be played on the same monitor). If you feel a little lazy, you can let the computer AI\n  do the moves for you in "])),(n()(),o["ɵeld"](0,null,0,1,"b",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["Computer vs computer"])),(n()(),o["ɵted"](0,[" mode.\n  "])),(n()(),o["ɵeld"](0,null,0,0,"br",[],null,null,null,null,null)),(n()(),o["ɵeld"](0,null,0,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](0,["With settings you can change the piece layout and make your own chess game. Ever wondered what it would be like to play chess if all pawns were queens? Now you can find out!\n  (If there is more than one king, all kings need to be captured. If there aren't any kings, all enemy pieces need to be captured.)\n  "])),(n()(),o["ɵeld"](0,null,0,0,"br",[],null,null,null,null,null)),(n()(),o["ɵeld"](0,null,0,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](0,["This version of chess has some small changes to the traditional rules:\n  "])),(n()(),o["ɵeld"](0,null,0,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](0,["- In promotion pawn is automatically promoted to queen.\n  "])),(n()(),o["ɵeld"](0,null,0,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](0,["- The game will only end once the king is captured, or if a player can't make any moves. Game doesn't prevent players from doing moves which leave king vulnerable.\n  "])),(n()(),o["ɵeld"](0,null,0,0,"br",[],null,null,null,null,null)),(n()(),o["ɵeld"](0,null,0,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](0,["Update (01.05.2017):\n  "])),(n()(),o["ɵeld"](0,null,0,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](0,["- En passant and castling moves added.\n  "])),(n()(),o["ɵeld"](0,null,0,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](0,["- The game will end if player doesn't have any possible moves.\n  "])),(n()(),o["ɵeld"](0,null,0,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](0,["- Board has been flipped 90 degrees. This can be changed in settings.\n  "])),(n()(),o["ɵeld"](0,null,0,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](0,["- Move tiles that have enemies are now in red.\n  "])),(n()(),o["ɵeld"](0,null,0,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](0,["- Game now scales on smaller screens.\n  "])),(n()(),o["ɵeld"](0,null,0,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](0,["- Game is now written in Angular (previously jQuery) and code has been improved.\n"]))],null,null)}function i(n){return o["ɵvid"](0,[(n()(),o["ɵeld"](0,null,null,1,"ng-component",[],null,null,null,l,g)),o["ɵdid"](57344,null,0,p.a,[],null,null)],function(n,e){n(e,1,0)},null)}var r=t(361),o=t(0),s=t(354),u=t(315),a=t(275),c=t(283),h=t(285),d=t(272),p=t(295);t.d(e,"a",function(){return m});var f=[r.a],g=o["ɵcrt"]({encapsulation:0,styles:f,data:{}}),m=o["ɵccf"]("ng-component",p.a,i,{},{},[])},400:function(n,e,t){"use strict";var l=t(0),i=t(273),r=t(295),o=t(315),s=t(275),u=t(401),a=t(294),c=t(316),h=t(3),d=t(283),p=t(317),f=t(12),g=t(314),m=t(318);t.d(e,"a",function(){return y});var v=this&&this.__decorate||function(n,e,t,l){var i,r=arguments.length,o=r<3?e:null===l?l=Object.getOwnPropertyDescriptor(e,t):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,e,t,l);else for(var s=n.length-1;s>=0;s--)(i=n[s])&&(o=(r<3?i(o):r>3?i(e,t,o):i(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},y=function(){function n(){}return n}();y=v([t.i(l.NgModule)({imports:[u.a,i.a,h.CommonModule,f.c],exports:[],declarations:[r.a,o.a,a.a,c.a,p.a,g.a,m.a],providers:[s.a,d.a]})],y)},401:function(n,e,t){"use strict";var l=t(22),i=t(295),r=t(294);t.d(e,"a",function(){return s});var o=[{path:"",component:i.a,children:[{path:"",component:r.a}]}],s=l.q.forChild(o)},402:function(n,e,t){"use strict";var l=t(286);t.d(e,"a",function(){return r});var i=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t])};return function(e,t){function l(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(l.prototype=t.prototype,new l)}}(),r=function(n){function e(e,t){var l=n.call(this,e,t)||this;return l.type="bishop",l.value=5,l}return i(e,n),e.prototype.tileCheck=function(){this.clearTiles(),this.moveTiles=this.moveTiles.concat(this.checkDirections(1,1,8,!0)),this.addTiles()},e}(l.a)},403:function(n,e,t){"use strict";function l(n){return n[Math.floor(Math.random()*n.length)]}var i=t(335),r=t(323);t.n(r);t.d(e,"a",function(){return s});var o=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t])};return function(e,t){function l(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(l.prototype=t.prototype,new l)}}(),s=function(n){function e(e,t){var l=n.call(this,e,t)||this;return l.safeTiles=[],l.hitTiles=[],l.dangerTiles=[],l.pieceLocations=[],l.enemyLocations=[],l.colors=l.color+"s",l}return o(e,n),e.prototype.chooseAction=function(){this.chooseTarget()},e.prototype.actionDecided=function(){return null!=this.pieceDecision&&null!=this.tileDecision},e.prototype.setMove=function(n){n[2]<this.riskValue&&(this.movePiece=n[0],this.moveTile=n[1],this.riskValue=n[2])},e.prototype.setMoveToDecision=function(){this.setAction([this.movePiece,this.moveTile])},e.prototype.chooseTarget=function(){return this.chooseActionInit(),this.tryToKillTheKing(),this.actionDecided()?void console.log("1. Kill the king"):(this.protectTheKings(),this.actionDecided()?void console.log("2. Protect the king"):(this.tryToGetCloseToEnemyKing(),this.actionDecided()?void console.log("3. Approach enemy king"):(this.tryToMakeARisklessMove(),this.actionDecided()?void console.log("4. Kill enemy or move to safety"):(this.tryToApproachEnemyKing(2),this.actionDecided()?void console.log("5. Approach king"):null!=this.movePiece?(console.log("6. Safe random"),void this.setMoveToDecision()):(console.log("7. Random"),void this.moveToRandom())))))},e.prototype.chooseActionInit=function(){this.safeTiles=[],this.hitTiles=[],this.dangerTiles=[],this.pieceLocations=[],this.enemyLocations=[],this.ecolors=this.enemy.color+"s",this.pieceDecision=null,this.tileDecision=null;for(var n=0;n<this.pieceCount();n++)this.pieceLocations.push(this.pieces[n].tile);for(var n=0;n<this.enemy.pieceCount();n++)this.enemyLocations.push(this.enemy.pieces[n].tile);this.safeTiles=r.difference(this.moveTiles,this.enemy.hitTiles),this.hitTiles=r.intersection(this.hitTiles,this.enemyLocations),this.dangerTiles=r.intersection(this.enemy.moveTiles,this.pieceLocations),this.moveTile=null,this.movePiece=null,this.riskValue=100},e.prototype.tryToKillTheKing=function(){for(var n=0;n<this.enemy.kings.length;n++){var e=this.enemy.kings[n];if(e.threats().length>0)return console.log("Can kill the king"),void this.setAction([l(e.threats()),e.tile])}},e.prototype.protectTheKings=function(){for(var n=0;n<this.kings.length;n++){var e=this.kings[n];r.contains(this.dangerTiles,e.tile)&&(console.log("King in danger"),this.protectKing(e))}},e.prototype.protectKing=function(n){if(this.movePiece=null,n.threats.length>1&&(this.tryToMovePieceToSafety(n),this.setMoveToDecision(),this.actionDecided()))return void console.log("2.1 Move the king");var e=l(n.tile[this.ecolors]);if(this.tryToKillKingsThreat(e),this.actionDecided())return void console.log("2.2 Kill enemy threat");this.tryToMovePieceToSafety(n,e),this.tryToBlockEnemy(n,e),this.setMoveToDecision()},e.prototype.tryToMovePieceToSafety=function(n,e){void 0===e&&(e=null);var t=r.intersection(n.moveTiles,this.safeTiles);"pawn"!=e.type&&"knight"!=e.type&&(t=t.filter(function(t){return!n.tile.isBetween(t,e.tile)})),t.length>0&&this.setMove(this.findSmallestRisk([n],t))},e.prototype.tryToKillKingsThreat=function(n){var e=n.threats().filter(function(n){return!n.protectsKing});if(this.movePiece=null,this.riskValue=100,e.length>0)if(console.log("Threat can be killed"),n.friends().length>0){this.moveTile=n.tile;var t=this.findSmallestRisk(e,[this.moveTile]);this.movePiece=t[0],this.riskValue=t[2]}else this.setAction(this.findSmallestRisk(e,[n.tile]))},e.prototype.tryToBlockEnemy=function(n,e){if("knight"!=e.type)for(var t=n.tile.tilesBetween(e.tile),l=0;l<t.length;l++){var i=t[l],r=i[this.colors].filter(function(e){return!e.protectsKing&&e!=n});r.length>0&&this.setMove(this.findSmallestRisk(r,[i]))}},e.prototype.tryToGetCloseToEnemyKing=function(){this.moveCount<=6&&this.tryToApproachEnemyKing(1)},e.prototype.tryToApproachEnemyKing=function(n){for(var e=0;e<this.enemy.kings.length;e++){var t=this.approachTile(this.enemy.kings[e].tile,this.moveTiles,"all",!0,n);if(t.length>0)return void this.setAction(this.findSmallestRisk(t,[],1))}},e.prototype.tryToMakeARisklessMove=function(){this.movePiece=null,this.moveTile=null,this.riskValue=100;for(var n=0;n<this.pieces.length;n++){var e=this.pieces[n];e.protectsKing||0==e.moveTiles.length||this.setMove(this.findSmallestRisk([e],e.moveTiles))}this.riskValue<0&&this.setAction([this.movePiece,this.moveTile])},e.prototype.moveToRandom=function(){this.moveTile=l(this.moveTiles),this.movePiece=l(this.moveTile[this.colors]),this.setMoveToDecision()},e.prototype.findSmallestRisk=function(n,e,t){void 0===t&&(t=0);for(var i=1e3,r=[],o=0;o<n.length;o++){var s=n[o];1==t&&(e=[s[1]],s=s[0]);for(var u=0;u<e.length;u++){var a=e[u].riskValue(s);a<=i&&(a<i&&(r=[]),r.push([s,e[u],a]),i=a)}}return l(r)},e.prototype.approachTile=function(n,e,t,l,i){void 0===i&&(i=1);var o=[],s=[],u=this;return"all"!=t&&"rook"!=t||(o=o.concat(n.checkDirections(1,0,8)),o=o.concat(n.checkDirections(0,1,8)),1==i&&(o=r.intersection(o,e)),o=o.filter(function(n){return!n.isFriendOf(u)}),s=this.approachTileLoop(o,s,["rook","queen"],e,"rook",l,i)),"all"!=t&&"bishop"!=t||(o=n.checkDirections(1,1,8),1==i&&(o=r.intersection(o,this.moveTiles)),o=o.filter(function(n){return!n.isFriendOf(u)}),s=this.approachTileLoop(o,s,["bishop","queen"],e,"bishop",l,i)),"all"!=t&&"knight"!=t||(o=n.checkDirections(2,1,1),o=o.concat(n.checkDirections(1,2,1)),1==i&&(o=r.intersection(o,this.moveTiles)),o=o.filter(function(n){return!n.isFriendOf(u)}),s=this.approachTileLoop(o,s,["knight"],e,"knight",l,i)),s},e.prototype.approachTileLoop=function(n,e,t,l,i,o,s){for(var u=0;u<n.length;u++)if(!(o&&n[u][this.enemy.color+"Hits"].length>0))if(2==s)e=e.concat(this.approachTile(n[u],l,i,o,1));else for(var a=0;a<n[u][this.color+"s"].length;a++){var c=n[u][this.color+"s"][a];!c.protectsKing&&r.contains(t,c.type)&&e.push([c,n[u]])}return e},e}(i.a)},404:function(n,e,t){"use strict";var l=t(286),i=t(319);t.d(e,"a",function(){return o});var r=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t])};return function(e,t){function l(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(l.prototype=t.prototype,new l)}}(),o=function(n){function e(e,t){var l=n.call(this,e,t)||this;return l.type="king",l.value=10,l.hasMoved=!1,l}return r(e,n),e.prototype.move=function(e,t){2==Math.abs(this.x()-e)&&this.castling(e,t),n.prototype.move.call(this,e,t),this.hasMoved=!0},e.prototype.castling=function(n,e){var t=this.tiles[e][n],l=n<this.x()?-1:1,i=t.checkDirection(l,0,8),r=i[i.length-1];r.empty()||"rook"!=r.piece.type?console.log("Error: Invalid castling call"):r.piece.move(n-l,e,!1)},e.prototype.tileCheck=function(){this.clearTiles(),this.moveTiles=this.moveTiles.concat(this.checkDirections(1,0,1,!0)),this.moveTiles=this.moveTiles.concat(this.checkDirections(0,1,1,!0)),this.moveTiles=this.moveTiles.concat(this.checkDirections(1,1,1,!0)),this.addTiles()},e.prototype.castlingCheck=function(){if(!this.hasMoved&&0==this.threats().length)for(var n=0;n<this.player.rooks.length;n++){var e=this.player.rooks[n],t=this.castlingTargetTile(e);this.canDoCastlingWithRook(e,t)&&(this.moveTiles.push(t),this.player.moveTiles.push(t),t.addMover(this))}},e.prototype.canDoCastlingWithRook=function(n,e){var t=this;if(n.hasMoved||n.y()!=this.y()||null==e)return!1;var l=e.tilesBetween(this.tile);l.push(e);var i=l.filter(function(n){return!n.empty()}),r=l.filter(function(n){return 0!=n[t.player.enemy.color+"Hits"].length});return 0==i.length&&0==r.length},e.prototype.castlingTargetTile=function(n){var e=this.x()+2*(n.x()<this.x()?-1:1);return i.a.tileExists(e,this.y())?this.tiles[this.y()][e]:null},e}(l.a)},405:function(n,e,t){"use strict";var l=t(286);t.d(e,"a",function(){return r});var i=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t])};return function(e,t){function l(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(l.prototype=t.prototype,new l)}}(),r=function(n){function e(e,t){var l=n.call(this,e,t)||this;return l.type="knight",l.value=4,l}return i(e,n),e.prototype.tileCheck=function(){this.clearTiles(),this.moveTiles=this.moveTiles.concat(this.checkDirections(2,1,1,!0)),this.moveTiles=this.moveTiles.concat(this.checkDirections(1,2,1,!0)),this.addTiles()},e}(l.a)},406:function(n,e,t){"use strict";var l=t(286),i=t(319);t.d(e,"a",function(){return o});var r=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t])};return function(e,t){function l(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(l.prototype=t.prototype,new l)}}(),o=function(n){function e(e,t){var l=n.call(this,e,t)||this;return l.type="pawn",l.value=1,l.xStart=t.x,l.yStart=t.y,l.yDir=l.white?-1:1,l}return r(e,n),e.prototype.tileCheck=function(){this.clearTiles();var n=(this.x(),this.y());this.checkVerticalTile(1),this.yStart==n&&this.checkVerticalTile(2),this.checkDiagonalTile(1),this.checkDiagonalTile(-1),this.addTiles()},e.prototype.checkVerticalTile=function(n){var e=this.y()+n*this.yDir;if(i.a.tileExists(this.x(),e)){var t=this.tiles[e][this.x()];t.empty()&&0==t.tilesBetween(this.tile).filter(function(n){return!n.empty()}).length&&this.moveTiles.push(t)}},e.prototype.checkDiagonalTile=function(n){var e=this.x(),t=this.y();if(i.a.tileExists(e+n,t)){var l=this.tiles[t+this.yDir][e+n],r=this.tiles[t][e+n];(l.isEnemyOf(this)||this.canUseEnPassant(r))&&this.moveTiles.push(l),this.hitTiles.push(l),l.addHitter(this)}},e.prototype.canUseEnPassant=function(n){if(n.isEnemyOf(this)&&"pawn"==n.piece.type){return n.piece.isEnPassantable()}},e.prototype.move=function(e,t){var l=this;this.setEnPassantability(t),this.tryToDoEnPassant(e,t),n.prototype.move.call(this,e,t),0!=t&&7!=t||setTimeout(function(){l.die(),l.player.game.addPiece(l.x(),l.y(),l.player,"Q")},500)},e.prototype.tryToDoEnPassant=function(n,e){var t=this.player.game.board[e][n];n!=this.x()&&t.empty()&&this.player.game.board[e-this.yDir][n].piece.die()},e.prototype.setEnPassantability=function(n){2==Math.abs(this.y()-n)&&(this.enPassantRound=this.player.game.round)},e.prototype.isEnPassantable=function(){return this.enPassantRound==this.player.game.round},e}(l.a)},407:function(n,e,t){"use strict";var l=t(286);t.d(e,"a",function(){return r});var i=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t])};return function(e,t){function l(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(l.prototype=t.prototype,new l)}}(),r=function(n){function e(e,t){var l=n.call(this,e,t)||this;return l.type="queen",l.value=7,l}return i(e,n),e.prototype.tileCheck=function(){this.clearTiles(),this.moveTiles=this.moveTiles.concat(this.checkDirections(1,0,8,!0)),this.moveTiles=this.moveTiles.concat(this.checkDirections(0,1,8,!0)),this.moveTiles=this.moveTiles.concat(this.checkDirections(1,1,7,!0)),this.addTiles()},e}(l.a)},408:function(n,e,t){"use strict";var l=t(286);t.d(e,"a",function(){return r});var i=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t])};return function(e,t){function l(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(l.prototype=t.prototype,new l)}}(),r=function(n){function e(e,t){var l=n.call(this,e,t)||this;return l.type="rook",l.value=5,l.hasMoved=!1,l}return i(e,n),e.prototype.move=function(e,t,l){void 0===l&&(l=!0),n.prototype.move.call(this,e,t,l),this.hasMoved=!0},e.prototype.tileCheck=function(){this.clearTiles(),this.moveTiles=this.moveTiles.concat(this.checkDirections(1,0,8,!0)),this.moveTiles=this.moveTiles.concat(this.checkDirections(0,1,8,!0)),this.addTiles()},e}(l.a)},428:function(n,e,t){e=n.exports=t(40)(),e.push([n.i,"#board,#pieces,:host{display:block;position:absolute;width:100%;height:100%;top:0;left:0}.board-row{height:12.5%;width:100%}#pieces div,.board-tile{width:12.5%;height:100%;float:left}#pieces{pointer-events:none;z-index:5}#pieces div{width:12.5%;height:12.5%;position:absolute;-webkit-transition:top .5s ease-in-out 50ms,left .5s ease-in-out 50ms;transition:top .5s ease-in-out 50ms,left .5s ease-in-out 50ms}#pieces div img{width:100%;height:100%}",""])},429:function(n,e,t){e=n.exports=t(40)(),e.push([n.i,".interface{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;font-family:Times New Roman,serif;box-sizing:border-box}.interface li{background:#eee;border:2px solid #000;border-radius:5px;cursor:pointer;font-family:Helvetica,Verdana,sans-serif;height:16px;margin:6px;padding:.4em;font-size:90%;list-style-type:none;text-align:center}:host{width:320px;height:260px}h1{margin:7px 0}",""])},430:function(n,e,t){e=n.exports=t(40)(),e.push([n.i,'.interface{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host:after{content:"";display:table;clear:both}chess-choose-mode,chess-instructions,chess-settings,chess-winner-dialog{left:50%;top:50%;transform:translate(-50%,-50%);-webkit-transform:translate(-50%,-50%)}.interface{z-index:10;font-family:Times New Roman,serif;box-sizing:border-box}.interface li{background:#eee;border:2px solid #000;border-radius:5px;cursor:pointer;font-family:Helvetica,Verdana,sans-serif;height:16px;margin:6px;padding:.4em;font-size:90%;list-style-type:none;text-align:center}:host{display:block;border:2px solid #000;background:silver;margin:auto;max-width:800px}.container{max-width:640px;width:80%;padding-top:80%;background:#000;position:relative;float:left;border-left:3px solid #000}.side-menu{width:20%;height:100%;max-width:160px;float:left;padding:3px;padding-right:6px;margin-right:-3px;font-size:90%}@media screen and (max-width:450px){.side-menu{font-size:80%}.side-menu li{padding:3px;margin:3px}}chess-choose-mode,chess-instructions,chess-settings,chess-winner-dialog{position:absolute;max-width:90%;max-height:90%;background:silver;border:5px solid gray;border-radius:5px;text-align:center;z-index:10}chess-instructions{max-width:98%;max-height:98%}',""])},431:function(n,e,t){e=n.exports=t(40)(),e.push([n.i,".interface{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;font-family:Times New Roman,serif;box-sizing:border-box}.interface li{background:#eee;border:2px solid #000;border-radius:5px;cursor:pointer;font-family:Helvetica,Verdana,sans-serif;height:16px;margin:6px;padding:.4em;font-size:90%;list-style-type:none;text-align:center}:host{width:100%;height:100%;font-size:90%;overflow-y:auto}img{width:50px;height:50px}@media screen and (max-width:800px){img{width:30px;height:30px}}table td{text-align:left}table td:first-child{vertical-align:top}",""])},432:function(n,e,t){e=n.exports=t(40)(),e.push([n.i,".interface{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;font-family:Times New Roman,serif;box-sizing:border-box}.interface li{background:#eee;border:2px solid #000;border-radius:5px;cursor:pointer;font-family:Helvetica,Verdana,sans-serif;height:16px;margin:6px;padding:.4em;font-size:90%;list-style-type:none;text-align:center}:host{width:320px;height:280px}h1{margin:7px 0}table{margin:auto}td{padding:5px}input{font-family:monospace}",""])},433:function(n,e,t){e=n.exports=t(40)(),e.push([n.i,".interface{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;font-family:Times New Roman,serif;box-sizing:border-box}.interface li{background:#eee;border:2px solid #000;border-radius:5px;cursor:pointer;font-family:Helvetica,Verdana,sans-serif;height:16px;margin:6px;padding:.4em;font-size:90%;list-style-type:none;text-align:center}:host{width:320px;height:260px}h1{margin:7px 0}",""])},434:function(n,e,t){e=n.exports=t(40)(),e.push([n.i,":host{min-width:304px;max-width:1000px;margin:auto;width:100%;display:block}h1{text-align:center}",""])},455:function(n,e){n.exports='<section id="board">\r\n  <div *ngFor="let row of settings.boardTilePositions" class=\'board-row\'>\r\n    <div *ngFor="let tilePosition of row;" [style.background]="tileColor(tilePosition)" (click)="selectTile(tilePosition)" class=\'board-tile\'></div>\r\n  </div>\r\n</section>\r\n\r\n<section id="pieces">\r\n  <div *ngFor="let piece of game.white.pieces" [style.top]="pieceTopLocation(piece)" [style.left]="pieceLeftLocation(piece)" [@fadeIn]>\r\n    <img [src]="pieceImageUrl(piece)">\r\n  </div>\r\n  <div *ngFor="let piece of game.black.pieces" [style.top]="pieceTopLocation(piece)" [style.left]="pieceLeftLocation(piece)" [@fadeIn]>\r\n    <img [src]="pieceImageUrl(piece)">\r\n  </div>\r\n</section>'},456:function(n,e){n.exports='<div class="interface">\n    <h1>Game modes</h1>\n    <li title=\'Play against the computer AI.\' (click)="switchGameMode(0)">Player vs computer</li>\n    <li title="Challenge a friend to a game of chess." (click)="switchGameMode(1)">Local multiplayer</li>\n    <li title="Watch while computer AIs try to annihilate each other." (click)="switchGameMode(2)">Computer vs computer</li>\n</div>'},457:function(n,e){n.exports="<section class=\"side-menu interface\">\r\n  <table>\r\n    <tr><td colspan=\"2\"><b>Game stats</b></td></tr>\r\n      <tr><td colspan=\"2\" id=\"turn\">{{activePlayerColor()}}'s turn</td></tr>\r\n      <tr><td>Round:</td><td>{{game.round}}</td></tr>\r\n      <tr><td>White:</td><td>{{game.white?.pieces.length}} pieces</td></tr>\r\n      <tr><td>Black:</td><td>{{game.black?.pieces.length}} pieces</td></tr>\r\n  </table>\r\n  <li class='play-again' title='Resets the game.' (click)=\"reset()\">Reset game</li>\r\n  <li class='game-mode-button' title='Choose game mode.' (click)=\"switchDialog('chooseMode')\">Game mode</li>\r\n  <li class='settings-button' title='Change piece layout.' (click)=\"switchDialog('settings')\">Settings</li>\r\n  <li class='instructions-button' title='Read the instructions.' (click)=\"switchDialog('instructions')\">Instructions</li>\r\n</section>\r\n\r\n<section class='container'>\r\n    <router-outlet></router-outlet>\r\n    <chess-choose-mode *ngIf=\"visibleDialog == 'chooseMode'\" (close)=\"switchDialog('')\" [@fadeIn]></chess-choose-mode>\r\n    <chess-settings *ngIf=\"visibleDialog == 'settings'\" (close)=\"switchDialog('')\" [@fadeIn]></chess-settings>\r\n    <chess-instructions *ngIf=\"visibleDialog == 'instructions'\" (close)=\"switchDialog('')\" [@fadeIn]></chess-instructions>\r\n    <chess-winner-dialog *ngIf=\"visibleDialog == '' && game.winner != null\" (switchDialogEvent)=\"switchDialog($event)\" [@fadeIn]></chess-winner-dialog>\r\n</section>"},458:function(n,e){n.exports="<div class=\"interface\">\r\n    <h1>Instructions</h1>\r\n    The goal of chess is to capture the enemy king. Once that is done, the game will end and the winner declared.\r\n    The game will also end if a player doesn't have any legal moves left.\r\n    <br>A player captures an enemy piece by moving their piece to their tile. Captured pieces are removed from the game.\r\n    Each player does always one move each turn. Skipping isn't possible. White player always starts the game.\r\n    <br><h1>Pieces</h1>\r\n    <table>\r\n    <tr>\r\n        <td><img src='images/chess/white-pawn.png'></td>\r\n        <td><b>Pawns</b> are the most common piece. Pawns can move 1 square forward if it isn't occupied by another piece. \r\n        On the first move they can alternatively move 2 squares.\r\n        <br>Pawns can normally only capture pieces that are on diagonal squares in front of them.\r\n        <br>If an enemy pawn moves next to pawn (horizontally) by moving 2 squares, pawn can capture it with en passant special move.\r\n        In en passant pawn moves diagonally behind the enemy pawn and captures it.\r\n        <br>Once a pawn reaches other end of the board, it is automatically promoted to queen.</td>\r\n    </tr>\r\n    <tr>\r\n        <td><img src='images/chess/white-knight.png'></td>\r\n        <td><b>Knights</b> can move to any of the closest squares that aren't horizontal, vertical or diagonal. \r\n        <br>Their moves form L shape: 2 forward, 1 left/right. Knights can jump over other pieces.</td>\r\n    </tr>\r\n    <tr>\r\n        <td><img src='images/chess/white-rook.png'></td>\r\n        <td><b>Rooks</b> can move horizontally and vertically to any direction any number of squares, but can't jump over other pieces.</td>\r\n    </tr>\r\n    <tr>\r\n        <td><img src='images/chess/white-bishop.png'></td>\r\n        <td><b>Bishops</b> can move diagonally to any direction any number of squares, but can't jump over other pieces.</td>\r\n    </tr>\r\n    <tr>\r\n        <td><img src='images/chess/white-queen.png'></td>\r\n        <td><b>Queens</b> have same moves as rooks and bishops (all horizontal, vertical and diagonal squares).</td>\r\n    </tr>\r\n    <tr>\r\n        <td><img src='images/chess/white-king.png'></td>\r\n        <td><b>King</b> is the most valuable piece - once the king is captured, the game ends.\r\n        <br>King can move one square to any direction.\r\n        <br>King also has a special move, castling, which moves king 2 steps towards a rook and moves rook behind the king. This has following conditions:\r\n        <br>1. King and rook must have not moved during the game (and must be on same row).\r\n        <br>2. There can't be any pieces between the king and the rook.\r\n        <br>3. The king must not be in check, and king must not pass through a tile that could be attacked by enemy player in their next turn.\r\n        </td>\r\n    </tr>\r\n    </table>\r\n</div>"},459:function(n,e){n.exports="<div class=\"interface\">\n  <h1>Settings</h1>\n  Change piece layout<br>\n  <form autocomplete=\"off\">\n    <table>\n      <tr>\n        <td>Row 1: <input type='text' maxlength='8' size='8' [(ngModel)]=\"upperRow\" name=\"upperRow\">\n        <td rowspan='2'>P: Pawn<br>R: Rook<br>X: King</td>\n        <td rowspan='2'>K: Knight<br>B: Bishop<br>Q: Queen</td>\n      </tr>\n      <tr>\n        <td>Row 2: <input type='text' maxlength='8' size='8' [(ngModel)]=\"lowerRow\" name=\"lowerRow\"></td>\n      </tr>\n    </table>\n  </form>\n  <label title='Turns game board 90 degrees'><input type=\"checkbox\" [(ngModel)]=\"boardReversed\"> Reversed board</label>\n  <li title='Changing settings will reset the game.' (click)=\"saveSettings()\">Save settings</li>\n  <li title='Puts pieces to their original places and resets the game.' (click)=\"resetLayout()\">Reset layout</li>\n</div>"},460:function(n,e){n.exports='<div class="interface">\n    <h1 id="win-message">{{winnerColor}} wins!</h1>\n    <li (click)="game.reset()">Play again</li>\n    <li title=\'Choose game mode.\' (click)="switchDialog(\'chooseMode\')">Switch game mode</li>\n    <li title=\'Change piece layout.\' (click)="switchDialog(\'settings\')">Change settings</li>\n</div>'},461:function(n,e){n.exports="<h1>Chess</h1>\r\n<chess-game></chess-game>\r\n<description-box>\r\n  This chess game has 3 game modes. In <b>Player vs computer</b> you can challenge the computer AI and see if you're smarter than a machine. If you have friends you\r\n  want to challenge, you can use <b>Local multiplayer</b> mode (needs to be played on the same monitor). If you feel a little lazy, you can let the computer AI\r\n  do the moves for you in <b>Computer vs computer</b> mode.\r\n  <br><br>With settings you can change the piece layout and make your own chess game. Ever wondered what it would be like to play chess if all pawns were queens? Now you can find out!\r\n  (If there is more than one king, all kings need to be captured. If there aren't any kings, all enemy pieces need to be captured.)\r\n  <br><br>This version of chess has some small changes to the traditional rules:\r\n  <br>- In promotion pawn is automatically promoted to queen.\r\n  <br>- The game will only end once the king is captured, or if a player can't make any moves. Game doesn't prevent players from doing moves which leave king vulnerable.\r\n  <br><br>Update (01.05.2017):\r\n  <br>- En passant and castling moves added.\r\n  <br>- The game will end if player doesn't have any possible moves.\r\n  <br>- Board has been flipped 90 degrees. This can be changed in settings.\r\n  <br>- Move tiles that have enemies are now in red.\r\n  <br>- Game now scales on smaller screens.\r\n  <br>- Game is now written in Angular (previously jQuery) and code has been improved.\r\n</description-box>"},483:function(n,e,t){var l=t(428);n.exports="string"==typeof l?l:l.toString()},484:function(n,e,t){var l=t(429);n.exports="string"==typeof l?l:l.toString()},485:function(n,e,t){var l=t(430);n.exports="string"==typeof l?l:l.toString()},486:function(n,e,t){var l=t(431);n.exports="string"==typeof l?l:l.toString()},487:function(n,e,t){var l=t(432);n.exports="string"==typeof l?l:l.toString()},488:function(n,e,t){var l=t(433);n.exports="string"==typeof l?l:l.toString()},489:function(n,e,t){var l=t(434);n.exports="string"==typeof l?l:l.toString()}});