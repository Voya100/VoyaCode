webpackJsonp([0],{158:function(n,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),e.d(l,"ChessModuleNgFactory",function(){return w});var t=e(1),i=e(291),u=e(292),o=e(311),r=e(3),s=e(24),a=e(26),c=(e.n(a),e(25)),h=e(23),d=e(13),p=e(12),f=e(171),g=e(168),v=e(9),m=e(48),y=(e.n(m),e(80)),b=e(215),k=e(216),w=t["ɵcmf"](i.a,[],function(n){return t["ɵmod"]([t["ɵmpd"](512,t.ComponentFactoryResolver,t["ɵCodegenComponentFactoryResolver"],[[8,[u.a,o.a]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["ɵmpd"](4608,r.l,r.k,[t.LOCALE_ID]),t["ɵmpd"](4608,s.v,s.v,[]),t["ɵmpd"](4608,a.LocalStorageService,a.LocalStorageService,["LOCAL_STORAGE_SERVICE_CONFIG"]),t["ɵmpd"](4608,c.a,c.a,[a.LocalStorageService]),t["ɵmpd"](4608,h.a,h.a,[d.e,p.a]),t["ɵmpd"](4608,f.a,f.a,[]),t["ɵmpd"](4608,g.a,g.a,[f.a]),t["ɵmpd"](512,v.q,v.q,[[2,v.v],[2,v.o]]),t["ɵmpd"](512,r.b,r.b,[]),t["ɵmpd"](512,s.s,s.s,[]),t["ɵmpd"](512,s.g,s.g,[]),t["ɵmpd"](512,m.LocalStorageModule,m.LocalStorageModule,[]),t["ɵmpd"](512,y.a,y.a,[]),t["ɵmpd"](512,i.a,i.a,[]),t["ɵmpd"](256,"LOCAL_STORAGE_SERVICE_CONFIG",{prefix:"voyacode",storageType:"localStorage"},[]),t["ɵmpd"](1024,v.m,function(){return[[{path:"",component:b.a,children:[{path:"",component:k.a}]}]]},[])])})},165:function(n,l,e){"use strict";e.d(l,"a",function(){return t});var t=function(){function n(){}return n}()},168:function(n,l,e){"use strict";e.d(l,"a",function(){return p});var t=e(180),i=e(298),u=e(299),o=e(300),r=e(301),s=e(302),a=e(303),c=e(171),h=e(209),d=e(304),p=function(){function n(n){this.settings=n,this.board=[],this.gameActive=!1,this.gamePaused=!1,this.gameId=0}return n.prototype.reset=function(){var n=this;this.gameActive=!1,this.gameId++,this.board=[],this.white=this.settings.whiteComputer?new d.a("white",this):new h.a("white",this),this.black=this.settings.blackComputer?new d.a("black",this):new h.a("black",this),this.white.enemy=this.black,this.black.enemy=this.white,this.activePlayer=this.white,this.winner=null,this.round=1,this.setUp(),this.gameActive=!0,this.turn=!0,setTimeout(function(){return n.run()},500)},n.prototype.setUp=function(){this.fillBoard(),this.addPieces(),this.doTileChecks(),this.turn=!0},n.prototype.fillBoard=function(){this.board=[];for(var n=0;n<8;n++){this.board[n]=[];for(var l=0;l<8;l++)this.board[n][l]=new t.a(l,n,this)}},n.prototype.addPieces=function(){for(var n=this.settings.positions[0]+"_".repeat(8-this.settings.positions[0].length),l=this.settings.positions[1]+"_".repeat(8-this.settings.positions[1].length),e=0;e<8;e++)this.addPiece(e,7,this.white,n[e]),this.addPiece(e,0,this.black,n[e]),this.addPiece(e,6,this.white,l[e]),this.addPiece(e,1,this.black,l[e])},n.prototype.addPiece=function(n,l,e,t){var c,h=this.board[l][n];switch(e.pieceId++,t){case"P":c=new r.a(e,h);break;case"R":c=new a.a(e,h);break;case"B":c=new i.a(e,h);break;case"K":c=new o.a(e,h);break;case"Q":c=new s.a(e,h);break;case"X":c=new u.a(e,h);break;default:return void(c=null)}e.addPiece(c),this.board[l][n].piece=c;e.color,e.pieceId},n.prototype.doTileChecks=function(){this.clearTiles(),this.white.checkAllTiles(),this.black.checkAllTiles(),this.white.checkCastlingMoves(),this.black.checkCastlingMoves(),this.white.findKingProtectors(),this.black.findKingProtectors()},n.prototype.clearTiles=function(){for(var n=0;n<8;n++)for(var l=0;l<8;l++)this.board[n][l].clear()},n.prototype.run=function(){if(this.gameActive&&this.turn&&!this.gamePaused){this.activePlayer.chooseAction();var n=this.activePlayer.getAction();this.makeTurn(n[0],n[1])}},n.prototype.makeTurn=function(n,l){null!=n&&null!=l&&(n.tile.select(this.activePlayer),l.select(this.activePlayer))},n.prototype.gameOver=function(n){this.winner=n.enemy,this.gameActive=!1},n.prototype.changeTurn=function(n){if(n===this.gameId){if(this.doTileChecks(),this.activePlayer=this.activePlayer.enemy,"white"===this.activePlayer.color&&(this.round+=1),0===this.activePlayer.moveTiles.length)return void this.gameOver(this.activePlayer);this.turn=!0,this.run()}},n.prototype.lowestTile=function(n,l){for(var e=100,t=n[0],i=l?n:n.map(function(n){return n.tile}),u=0;u<i.length;u++)!i[u].empty()&&i[u].piece.value<e&&(e=i[u].piece.value,t=i[u]);return t},n.ctorParameters=function(){return[{type:c.a}]},n}()},169:function(n,l,e){"use strict";function t(n){return o["ɵvid"](0,[(n()(),o["ɵeld"](0,null,null,6,"div",[["class","description-box"]],null,null,null,null,null)),(n()(),o["ɵted"](null,["\n  "])),(n()(),o["ɵeld"](0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["Description:"])),(n()(),o["ɵted"](null,["\n  "])),o["ɵncd"](null,0),(n()(),o["ɵted"](null,["\n"]))],null,null)}function i(n){return o["ɵvid"](0,[(n()(),o["ɵeld"](0,null,null,1,"description-box",[],null,null,null,t,a)),o["ɵdid"](49152,null,0,r.a,[],null,null)],null,null)}e.d(l,"a",function(){return a}),l.b=t;var u=e(170),o=e(1),r=e(165),s=[u.a],a=o["ɵcrt"]({encapsulation:0,styles:s,data:{}});o["ɵccf"]("description-box",r.a,i,{},{},["*"])},170:function(n,l,e){"use strict";e.d(l,"a",function(){return t});var t=["[_nghost-%COMP%] {\n  display: block; }\n\ndiv[_ngcontent-%COMP%] {\n  margin: 0px;\n  margin-top: 15px;\n  box-sizing: border-box;\n  width: 100%;\n  background: #5ac0f3;\n  border: 2px solid #1C2E3B;\n  padding: 10px;\n  display: block; }"]},171:function(n,l,e){"use strict";e.d(l,"a",function(){return t});var t=function(){function n(){this.boardSize=8,this.whiteComputer=!1,this.blackComputer=!0,this.boardReversed=!1,this.defaultPositions=["RKBQXBKR","PPPPPPPP"],this.changeReversed(!1),this.positions=this.defaultPositions}return n.prototype.changeMode=function(n){switch(n){case 0:this.whiteComputer=!1,this.blackComputer=!0;break;case 1:this.whiteComputer=!1,this.blackComputer=!1;break;case 2:this.whiteComputer=!0,this.blackComputer=!0}},n.prototype.setPositions=function(n,l){this.positions=[l,n]},n.prototype.resetPositions=function(){this.positions=this.defaultPositions},n.prototype.changeReversed=function(n){var l=this;this.boardReversed=n,this.boardTilePositions=n?Array(this.boardSize).fill(1).map(function(n,e){return Array(l.boardSize).fill(1).map(function(n,l){return[e,7-l]})}):Array(this.boardSize).fill(1).map(function(n,e){return Array(l.boardSize).fill(1).map(function(n,l){return[l,e]})})},n.ctorParameters=function(){return[]},n}()},172:function(n,l,e){"use strict";e.d(l,"a",function(){return i});var t=e(181),i=(e.n(t),function(){function n(n,l){this.moveTiles=[],this.hitTiles=[],this.dead=!1,this.color=n.color,this.white="white"===this.color,this.tile=l,this.player=n,this.tiles=n.game.board,this.moveTiles=[],this.hitTiles=[],this.protectsKing=!1}return n.prototype.friends=function(){return this.tile[this.color+"Hits"]},n.prototype.threats=function(){return this.tile[this.player.enemy.color+"Hits"]},n.prototype.x=function(){return this.tile.x},n.prototype.y=function(){return this.tile.y},n.prototype.move=function(n,l,e){var t=this;void 0===e&&(e=!0),this.tile.piece=null,this.player.prevTile=this.tile,this.player.prevPiece!==this&&(this.player.moveCount=0),this.player.prevPiece=this,this.player.moveCount++,this.tile=this.player.game.board[l][n],this.tile.empty()||this.tile.piece.die(),this.tile.piece=this;var i=this.player.game.gameId;e&&setTimeout(function(){return t.player.game.changeTurn(i)},650)},n.prototype.canMove=function(n){return-1!==this.moveTiles.indexOf(n)},n.prototype.highlightMovableTiles=function(){for(var n=0,l=this.moveTiles;n<l.length;n++){l[n].highlight(!1)}},n.prototype.checkDirections=function(n,l,e,t){var i=[];return i=i.concat(this.checkDirection(n,l,e,t)),0!==n&&(i=i.concat(this.checkDirection(-n,l,e,t))),0!==l&&(i=i.concat(this.checkDirection(n,-l,e,t))),0!==n&&0!==l&&(i=i.concat(this.checkDirection(-n,-l,e,t))),i},n.prototype.checkDirection=function(n,l,e,i){for(var u=this.tile.checkDirection(n,l,e),o=0,r=u;o<r.length;o++){var s=r[o];this.hitTiles.push(s),s.addHitter(this),s.isFriendOf(this)&&(u=t.without(u,s))}return u},n.prototype.clearTiles=function(){this.player.moveTiles=t.without(this.player.moveTiles,this.tile),this.moveTiles=[],this.hitTiles=[]},n.prototype.addTiles=function(){for(var n=this.moveTiles,l=0,e=n;l<e.length;l++){var t=e[l];this.player.moveTiles.push(t),t.addMover(this)}this.player.hitTiles=this.player.hitTiles.concat(this.hitTiles)},n.prototype.die=function(){this.clearTiles(),this.player.pieces=t.without(this.player.pieces,this),this.player[this.type+"s"]=t.without(this.player[this.type+"s"],this),this.dead=!0,"king"===this.type&&0===this.player.kingCount()?this.player.game.gameOver(this.player):0===this.player.pieceCount()&&this.player.game.gameOver(this.player)},n}())},180:function(n,l,e){"use strict";e.d(l,"a",function(){return i});var t=e(181),i=(e.n(t),function(){function n(l,e,t){this.whites=[],this.whiteHits=[],this.blacks=[],this.blackHits=[],this.x=l,this.y=e,this.game=t,n.board=t.board}return n.tileExists=function(l,e){return 0<=e&&e<n.board.length&&0<=l&&l<n.board[e].length},n.prototype.addMover=function(n){n.white?this.whites.push(n):this.blacks.push(n)},n.prototype.addHitter=function(n){n.white?this.whiteHits.push(n):this.blackHits.push(n)},n.prototype.clear=function(){this.whites=[],this.whiteHits=[],this.blacks=[],this.blackHits=[]},n.prototype.select=function(n){if(!this.game.gameActive||!this.game.turn)return!1;this.empty()||this.piece.color!==n.color?null!=n.activePiece&&n.activePiece.canMove(this)?(this.game.turn=!1,n.activePiece.move(this.x,this.y),this.highlight(!0),n.activePiece=null):(this.clearHighlights(),n.activePiece=null):(this.highlight(!0),n.activePiece=this.piece,this.piece.highlightMovableTiles())},n.prototype.isFriendOf=function(n){return!this.empty()&&this.piece.color===n.color},n.prototype.isEnemyOf=function(n){return!this.empty()&&this.piece.color!==n.color},n.prototype.empty=function(){return null==this.piece},n.prototype.highlight=function(l){void 0===l&&(l=!1),l?(n.highligtedTile=this,n.highlightedMovableTiles=[]):n.highlightedMovableTiles.push(this)},n.prototype.clearHighlights=function(){n.highligtedTile=null,n.highlightedMovableTiles=[]},n.prototype.highlighted=function(){return this===n.highligtedTile},n.prototype.markedMovable=function(){return t.contains(n.highlightedMovableTiles,this)},n.prototype.protectsKing=function(n){if(0===n.kings.length||!this.empty()&&"king"===this.piece.type)return!1;var l=n.kings[0].tile;return this.protectsTile(l,n)},n.prototype.protectsTile=function(n,l){if(!1===this.tilesBetween(n)||this.tilesBetween(n).filter(function(n){return!n.empty()}).length>0)return!1;var e=this.x<n.x?-1:1,t=this.y<n.y?-1:1;if(this.x===n.x)for(var i=this.y+t;0<=i&&i<8;i+=t){var u=this.game.board[i][this.x];if(u.isEnemyOf(l)&&("rook"===u.piece.type||"queen"===u.piece.type))return!0;if(!u.empty())break}if(this.y===n.y)for(var o=this.x+e;0<=o&&o<8;o+=e){var u=this.game.board[this.y][o];if(u.isEnemyOf(l)&&("rook"===u.piece.type||"queen"===u.piece.type))return!0;if(!u.empty())break}if(Math.abs(this.y-n.y)===Math.abs(this.x-n.x))for(var o=this.x+e,i=this.y+t;0<=o&&o<8&&0<=i&&i<8;o+=e,i+=t){var u=this.game.board[i][o];if(u.isEnemyOf(l)&&("bishop"===u.piece.type||"queen"===u.piece.type))return!0;if(!u.empty())break}return!1},n.prototype.riskValue=function(n){var l=0,e=this[n.player.enemy.color+"Hits"],i=this[n.color+"Hits"],u=n.threats();if((e.length>0||n.tile.protectsTile(this,n.player))&&(l+=n.value,e.length>0&&i.length>1&&this.game.lowestTile(e,!1).piece.value>=n.value&&(l-=2),"king"===n.type&&(l+=100)),u.length>=1&&0===n.friends().length?l-=n.value/2:u.length>=1&&this.game.lowestTile(u,!1).piece.value<n.value&&(l-=n.value/3),"pawn"===n.type&&("black"===n.color&&6===n.tile.y&&5===n.tile.x||"white"===n.color&&1===n.tile.y&&2===n.tile.x)&&1===n.friends().length&&(l+=2),this.isEnemyOf(n)&&(l-=this.piece.value),n.value<=5){var o=void 0;o="pawn"===n.type?t.difference(n.player.pieces,n.player.pawns):t.union(n.player.queens,n.player.kings);for(var r=0,s=o;r<s.length;r++){var a=s[r];if(n.tile.protectsTile(a.tile,n.player)&&0===a.friends().length&&!this.protectsTile(a.tile,n.player)){l+=a.value/2,"king"===a.type&&(l+=1e3);break}}}if(n.player.prevTile===this&&(l+=.3),n.player.prevPiece===n&&(l+=.1*n.player.moveCount),"pawn"===n.type){var c=n,h=n.white?0:7,d=Math.abs(h-c.y());1===d&&0===e.length?l-=5:n.player.kingChaseCount>5&&(l-=.3*(7-d))}return l},n.prototype.tilesBetween=function(n){var l=0,e=0;if(this.x!==n.x&&this.y!==n.y&&Math.abs(this.x-n.x)!==Math.abs(this.y-n.y))return!1;this.x!==n.x&&(l=this.x<n.x?1:-1),this.y!==n.y&&(e=this.y<n.y?1:-1);for(var t=[],i=this.x+l,u=this.y+e;u!==n.y||i!==n.x;i+=l,u+=e)t.push(this.game.board[u][i]);return t},n.prototype.isBetween=function(n,l){var e=Math.min(n.x,l.x),t=Math.max(n.x,l.x),i=Math.min(n.y,l.y),u=Math.max(n.y,l.y);return this.x===n.x&&n.x===l.x&&i<this.y&&this.y<u||this.y===n.y&&n.y===l.y&&e<this.x&&this.x<t||Math.abs(this.x-n.x)===Math.abs(this.y-n.y)&&Math.abs(this.x-l.x)===Math.abs(this.y-l.y)&&Math.abs(l.x-n.x)===Math.abs(l.y-n.y)},n.prototype.checkDirections=function(n,l,e){var t=[];return t=t.concat(this.checkDirection(n,l,e)),0!==n&&(t=t.concat(this.checkDirection(-n,l,e))),0!==l&&(t=t.concat(this.checkDirection(n,-l,e))),0!==n&&0!==l&&(t=t.concat(this.checkDirection(-n,-l,e))),t},n.prototype.checkDirection=function(l,e,t){1!==t&&(t=8);for(var i=[],u=this.x,o=this.y,r=1;r<t+1;r++)if(u+l*r<8&&u+l*r>=0&&o+e*r<8&&o+e*r>=0){var s=n.board[o+e*r][u+l*r];if(i.push(s),!s.empty())break}return i},n.highligtedTile=null,n.highlightedMovableTiles=[],n}())},181:function(n,l,e){var t,i;(function(){function e(n){function l(l,e,t,i,u,o){for(;u>=0&&u<o;u+=n){var r=i?i[u]:u;t=e(t,l[r],r,l)}return t}return function(e,t,i,u){t=x(t,u,4);var o=!R(e)&&T.keys(e),r=(o||e).length,s=n>0?0:r-1;return arguments.length<3&&(i=e[o?o[s]:s],s+=n),l(e,t,i,o,s,r)}}function u(n){return function(l,e,t){e=P(e,t);for(var i=D(l),u=n>0?0:i-1;u>=0&&u<i;u+=n)if(e(l[u],u,l))return u;return-1}}function o(n,l,e){return function(t,i,u){var o=0,r=D(t);if("number"==typeof u)n>0?o=u>=0?u:Math.max(u+r,o):r=u>=0?Math.min(u+1,r):u+r+1;else if(e&&u&&r)return u=e(t,i),t[u]===i?u:-1;if(i!==i)return u=l(f.call(t,o,r),T.isNaN),u>=0?u+o:-1;for(u=n>0?o:r-1;u>=0&&u<r;u+=n)if(t[u]===i)return u;return-1}}function r(n,l){var e=S.length,t=n.constructor,i=T.isFunction(t)&&t.prototype||h,u="constructor";for(T.has(n,u)&&!T.contains(l,u)&&l.push(u);e--;)(u=S[e])in n&&n[u]!==i[u]&&!T.contains(l,u)&&l.push(u)}var s=this,a=s._,c=Array.prototype,h=Object.prototype,d=Function.prototype,p=c.push,f=c.slice,g=h.toString,v=h.hasOwnProperty,m=Array.isArray,y=Object.keys,b=d.bind,k=Object.create,w=function(){},T=function(n){return n instanceof T?n:this instanceof T?void(this._wrapped=n):new T(n)};void 0!==n&&n.exports&&(l=n.exports=T),l._=T,T.VERSION="1.8.3";var x=function(n,l,e){if(void 0===l)return n;switch(null==e?3:e){case 1:return function(e){return n.call(l,e)};case 2:return function(e,t){return n.call(l,e,t)};case 3:return function(e,t,i){return n.call(l,e,t,i)};case 4:return function(e,t,i,u){return n.call(l,e,t,i,u)}}return function(){return n.apply(l,arguments)}},P=function(n,l,e){return null==n?T.identity:T.isFunction(n)?x(n,l,e):T.isObject(n)?T.matcher(n):T.property(n)};T.iteratee=function(n,l){return P(n,l,1/0)};var C=function(n,l){return function(e){var t=arguments.length;if(t<2||null==e)return e;for(var i=1;i<t;i++)for(var u=arguments[i],o=n(u),r=o.length,s=0;s<r;s++){var a=o[s];l&&void 0!==e[a]||(e[a]=u[a])}return e}},_=function(n){if(!T.isObject(n))return{};if(k)return k(n);w.prototype=n;var l=new w;return w.prototype=null,l},M=function(n){return function(l){return null==l?void 0:l[n]}},O=Math.pow(2,53)-1,D=M("length"),R=function(n){var l=D(n);return"number"==typeof l&&l>=0&&l<=O};T.each=T.forEach=function(n,l,e){l=x(l,e);var t,i;if(R(n))for(t=0,i=n.length;t<i;t++)l(n[t],t,n);else{var u=T.keys(n);for(t=0,i=u.length;t<i;t++)l(n[u[t]],u[t],n)}return n},T.map=T.collect=function(n,l,e){l=P(l,e);for(var t=!R(n)&&T.keys(n),i=(t||n).length,u=Array(i),o=0;o<i;o++){var r=t?t[o]:o;u[o]=l(n[r],r,n)}return u},T.reduce=T.foldl=T.inject=e(1),T.reduceRight=T.foldr=e(-1),T.find=T.detect=function(n,l,e){var t;if(void 0!==(t=R(n)?T.findIndex(n,l,e):T.findKey(n,l,e))&&-1!==t)return n[t]},T.filter=T.select=function(n,l,e){var t=[];return l=P(l,e),T.each(n,function(n,e,i){l(n,e,i)&&t.push(n)}),t},T.reject=function(n,l,e){return T.filter(n,T.negate(P(l)),e)},T.every=T.all=function(n,l,e){l=P(l,e);for(var t=!R(n)&&T.keys(n),i=(t||n).length,u=0;u<i;u++){var o=t?t[u]:u;if(!l(n[o],o,n))return!1}return!0},T.some=T.any=function(n,l,e){l=P(l,e);for(var t=!R(n)&&T.keys(n),i=(t||n).length,u=0;u<i;u++){var o=t?t[u]:u;if(l(n[o],o,n))return!0}return!1},T.contains=T.includes=T.include=function(n,l,e,t){return R(n)||(n=T.values(n)),("number"!=typeof e||t)&&(e=0),T.indexOf(n,l,e)>=0},T.invoke=function(n,l){var e=f.call(arguments,2),t=T.isFunction(l);return T.map(n,function(n){var i=t?l:n[l];return null==i?i:i.apply(n,e)})},T.pluck=function(n,l){return T.map(n,T.property(l))},T.where=function(n,l){return T.filter(n,T.matcher(l))},T.findWhere=function(n,l){return T.find(n,T.matcher(l))},T.max=function(n,l,e){var t,i,u=-1/0,o=-1/0;if(null==l&&null!=n){n=R(n)?n:T.values(n);for(var r=0,s=n.length;r<s;r++)(t=n[r])>u&&(u=t)}else l=P(l,e),T.each(n,function(n,e,t){((i=l(n,e,t))>o||i===-1/0&&u===-1/0)&&(u=n,o=i)});return u},T.min=function(n,l,e){var t,i,u=1/0,o=1/0;if(null==l&&null!=n){n=R(n)?n:T.values(n);for(var r=0,s=n.length;r<s;r++)(t=n[r])<u&&(u=t)}else l=P(l,e),T.each(n,function(n,e,t){((i=l(n,e,t))<o||i===1/0&&u===1/0)&&(u=n,o=i)});return u},T.shuffle=function(n){for(var l,e=R(n)?n:T.values(n),t=e.length,i=Array(t),u=0;u<t;u++)l=T.random(0,u),l!==u&&(i[u]=i[l]),i[l]=e[u];return i},T.sample=function(n,l,e){return null==l||e?(R(n)||(n=T.values(n)),n[T.random(n.length-1)]):T.shuffle(n).slice(0,Math.max(0,l))},T.sortBy=function(n,l,e){return l=P(l,e),T.pluck(T.map(n,function(n,e,t){return{value:n,index:e,criteria:l(n,e,t)}}).sort(function(n,l){var e=n.criteria,t=l.criteria;if(e!==t){if(e>t||void 0===e)return 1;if(e<t||void 0===t)return-1}return n.index-l.index}),"value")};var A=function(n){return function(l,e,t){var i={};return e=P(e,t),T.each(l,function(t,u){var o=e(t,u,l);n(i,t,o)}),i}};T.groupBy=A(function(n,l,e){T.has(n,e)?n[e].push(l):n[e]=[l]}),T.indexBy=A(function(n,l,e){n[e]=l}),T.countBy=A(function(n,l,e){T.has(n,e)?n[e]++:n[e]=1}),T.toArray=function(n){return n?T.isArray(n)?f.call(n):R(n)?T.map(n,T.identity):T.values(n):[]},T.size=function(n){return null==n?0:R(n)?n.length:T.keys(n).length},T.partition=function(n,l,e){l=P(l,e);var t=[],i=[];return T.each(n,function(n,e,u){(l(n,e,u)?t:i).push(n)}),[t,i]},T.first=T.head=T.take=function(n,l,e){if(null!=n)return null==l||e?n[0]:T.initial(n,n.length-l)},T.initial=function(n,l,e){return f.call(n,0,Math.max(0,n.length-(null==l||e?1:l)))},T.last=function(n,l,e){if(null!=n)return null==l||e?n[n.length-1]:T.rest(n,Math.max(0,n.length-l))},T.rest=T.tail=T.drop=function(n,l,e){return f.call(n,null==l||e?1:l)},T.compact=function(n){return T.filter(n,T.identity)};var I=function(n,l,e,t){for(var i=[],u=0,o=t||0,r=D(n);o<r;o++){var s=n[o];if(R(s)&&(T.isArray(s)||T.isArguments(s))){l||(s=I(s,l,e));var a=0,c=s.length;for(i.length+=c;a<c;)i[u++]=s[a++]}else e||(i[u++]=s)}return i};T.flatten=function(n,l){return I(n,l,!1)},T.without=function(n){return T.difference(n,f.call(arguments,1))},T.uniq=T.unique=function(n,l,e,t){T.isBoolean(l)||(t=e,e=l,l=!1),null!=e&&(e=P(e,t));for(var i=[],u=[],o=0,r=D(n);o<r;o++){var s=n[o],a=e?e(s,o,n):s;l?(o&&u===a||i.push(s),u=a):e?T.contains(u,a)||(u.push(a),i.push(s)):T.contains(i,s)||i.push(s)}return i},T.union=function(){return T.uniq(I(arguments,!0,!0))},T.intersection=function(n){for(var l=[],e=arguments.length,t=0,i=D(n);t<i;t++){var u=n[t];if(!T.contains(l,u)){for(var o=1;o<e&&T.contains(arguments[o],u);o++);o===e&&l.push(u)}}return l},T.difference=function(n){var l=I(arguments,!0,!0,1);return T.filter(n,function(n){return!T.contains(l,n)})},T.zip=function(){return T.unzip(arguments)},T.unzip=function(n){for(var l=n&&T.max(n,D).length||0,e=Array(l),t=0;t<l;t++)e[t]=T.pluck(n,t);return e},T.object=function(n,l){for(var e={},t=0,i=D(n);t<i;t++)l?e[n[t]]=l[t]:e[n[t][0]]=n[t][1];return e},T.findIndex=u(1),T.findLastIndex=u(-1),T.sortedIndex=function(n,l,e,t){e=P(e,t,1);for(var i=e(l),u=0,o=D(n);u<o;){var r=Math.floor((u+o)/2);e(n[r])<i?u=r+1:o=r}return u},T.indexOf=o(1,T.findIndex,T.sortedIndex),T.lastIndexOf=o(-1,T.findLastIndex),T.range=function(n,l,e){null==l&&(l=n||0,n=0),e=e||1;for(var t=Math.max(Math.ceil((l-n)/e),0),i=Array(t),u=0;u<t;u++,n+=e)i[u]=n;return i};var E=function(n,l,e,t,i){if(!(t instanceof l))return n.apply(e,i);var u=_(n.prototype),o=n.apply(u,i);return T.isObject(o)?o:u};T.bind=function(n,l){if(b&&n.bind===b)return b.apply(n,f.call(arguments,1));if(!T.isFunction(n))throw new TypeError("Bind must be called on a function");var e=f.call(arguments,2),t=function(){return E(n,t,l,this,e.concat(f.call(arguments)))};return t},T.partial=function(n){var l=f.call(arguments,1),e=function(){for(var t=0,i=l.length,u=Array(i),o=0;o<i;o++)u[o]=l[o]===T?arguments[t++]:l[o];for(;t<arguments.length;)u.push(arguments[t++]);return E(n,e,this,this,u)};return e},T.bindAll=function(n){var l,e,t=arguments.length;if(t<=1)throw new Error("bindAll must be passed function names");for(l=1;l<t;l++)e=arguments[l],n[e]=T.bind(n[e],n);return n},T.memoize=function(n,l){var e=function(t){var i=e.cache,u=""+(l?l.apply(this,arguments):t);return T.has(i,u)||(i[u]=n.apply(this,arguments)),i[u]};return e.cache={},e},T.delay=function(n,l){var e=f.call(arguments,2);return setTimeout(function(){return n.apply(null,e)},l)},T.defer=T.partial(T.delay,T,1),T.throttle=function(n,l,e){var t,i,u,o=null,r=0;e||(e={});var s=function(){r=!1===e.leading?0:T.now(),o=null,u=n.apply(t,i),o||(t=i=null)};return function(){var a=T.now();r||!1!==e.leading||(r=a);var c=l-(a-r);return t=this,i=arguments,c<=0||c>l?(o&&(clearTimeout(o),o=null),r=a,u=n.apply(t,i),o||(t=i=null)):o||!1===e.trailing||(o=setTimeout(s,c)),u}},T.debounce=function(n,l,e){var t,i,u,o,r,s=function(){var a=T.now()-o;a<l&&a>=0?t=setTimeout(s,l-a):(t=null,e||(r=n.apply(u,i),t||(u=i=null)))};return function(){u=this,i=arguments,o=T.now();var a=e&&!t;return t||(t=setTimeout(s,l)),a&&(r=n.apply(u,i),u=i=null),r}},T.wrap=function(n,l){return T.partial(l,n)},T.negate=function(n){return function(){return!n.apply(this,arguments)}},T.compose=function(){var n=arguments,l=n.length-1;return function(){for(var e=l,t=n[l].apply(this,arguments);e--;)t=n[e].call(this,t);return t}},T.after=function(n,l){return function(){if(--n<1)return l.apply(this,arguments)}},T.before=function(n,l){var e;return function(){return--n>0&&(e=l.apply(this,arguments)),n<=1&&(l=null),e}},T.once=T.partial(T.before,2);var j=!{toString:null}.propertyIsEnumerable("toString"),S=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];T.keys=function(n){if(!T.isObject(n))return[];if(y)return y(n);var l=[];for(var e in n)T.has(n,e)&&l.push(e);return j&&r(n,l),l},T.allKeys=function(n){if(!T.isObject(n))return[];var l=[];for(var e in n)l.push(e);return j&&r(n,l),l},T.values=function(n){for(var l=T.keys(n),e=l.length,t=Array(e),i=0;i<e;i++)t[i]=n[l[i]];return t},T.mapObject=function(n,l,e){l=P(l,e);for(var t,i=T.keys(n),u=i.length,o={},r=0;r<u;r++)t=i[r],o[t]=l(n[t],t,n);return o},T.pairs=function(n){for(var l=T.keys(n),e=l.length,t=Array(e),i=0;i<e;i++)t[i]=[l[i],n[l[i]]];return t},T.invert=function(n){for(var l={},e=T.keys(n),t=0,i=e.length;t<i;t++)l[n[e[t]]]=e[t];return l},T.functions=T.methods=function(n){var l=[];for(var e in n)T.isFunction(n[e])&&l.push(e);return l.sort()},T.extend=C(T.allKeys),T.extendOwn=T.assign=C(T.keys),T.findKey=function(n,l,e){l=P(l,e);for(var t,i=T.keys(n),u=0,o=i.length;u<o;u++)if(t=i[u],l(n[t],t,n))return t},T.pick=function(n,l,e){var t,i,u={},o=n;if(null==o)return u;T.isFunction(l)?(i=T.allKeys(o),t=x(l,e)):(i=I(arguments,!1,!1,1),t=function(n,l,e){return l in e},o=Object(o));for(var r=0,s=i.length;r<s;r++){var a=i[r],c=o[a];t(c,a,o)&&(u[a]=c)}return u},T.omit=function(n,l,e){if(T.isFunction(l))l=T.negate(l);else{var t=T.map(I(arguments,!1,!1,1),String);l=function(n,l){return!T.contains(t,l)}}return T.pick(n,l,e)},T.defaults=C(T.allKeys,!0),T.create=function(n,l){var e=_(n);return l&&T.extendOwn(e,l),e},T.clone=function(n){return T.isObject(n)?T.isArray(n)?n.slice():T.extend({},n):n},T.tap=function(n,l){return l(n),n},T.isMatch=function(n,l){var e=T.keys(l),t=e.length;if(null==n)return!t;for(var i=Object(n),u=0;u<t;u++){var o=e[u];if(l[o]!==i[o]||!(o in i))return!1}return!0};var K=function(n,l,e,t){if(n===l)return 0!==n||1/n==1/l;if(null==n||null==l)return n===l;n instanceof T&&(n=n._wrapped),l instanceof T&&(l=l._wrapped);var i=g.call(n);if(i!==g.call(l))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+n==""+l;case"[object Number]":return+n!=+n?+l!=+l:0==+n?1/+n==1/l:+n==+l;case"[object Date]":case"[object Boolean]":return+n==+l}var u="[object Array]"===i;if(!u){if("object"!=typeof n||"object"!=typeof l)return!1;var o=n.constructor,r=l.constructor;if(o!==r&&!(T.isFunction(o)&&o instanceof o&&T.isFunction(r)&&r instanceof r)&&"constructor"in n&&"constructor"in l)return!1}e=e||[],t=t||[];for(var s=e.length;s--;)if(e[s]===n)return t[s]===l;if(e.push(n),t.push(l),u){if((s=n.length)!==l.length)return!1;for(;s--;)if(!K(n[s],l[s],e,t))return!1}else{var a,c=T.keys(n);if(s=c.length,T.keys(l).length!==s)return!1;for(;s--;)if(a=c[s],!T.has(l,a)||!K(n[a],l[a],e,t))return!1}return e.pop(),t.pop(),!0};T.isEqual=function(n,l){return K(n,l)},T.isEmpty=function(n){return null==n||(R(n)&&(T.isArray(n)||T.isString(n)||T.isArguments(n))?0===n.length:0===T.keys(n).length)},T.isElement=function(n){return!(!n||1!==n.nodeType)},T.isArray=m||function(n){return"[object Array]"===g.call(n)},T.isObject=function(n){var l=typeof n;return"function"===l||"object"===l&&!!n},T.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(n){T["is"+n]=function(l){return g.call(l)==="[object "+n+"]"}}),T.isArguments(arguments)||(T.isArguments=function(n){return T.has(n,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(T.isFunction=function(n){return"function"==typeof n||!1}),T.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},T.isNaN=function(n){return T.isNumber(n)&&n!==+n},T.isBoolean=function(n){return!0===n||!1===n||"[object Boolean]"===g.call(n)},T.isNull=function(n){return null===n},T.isUndefined=function(n){return void 0===n},T.has=function(n,l){return null!=n&&v.call(n,l)},T.noConflict=function(){return s._=a,this},T.identity=function(n){return n},T.constant=function(n){return function(){return n}},T.noop=function(){},T.property=M,T.propertyOf=function(n){return null==n?function(){}:function(l){return n[l]}},T.matcher=T.matches=function(n){return n=T.extendOwn({},n),function(l){return T.isMatch(l,n)}},T.times=function(n,l,e){var t=Array(Math.max(0,n));l=x(l,e,1);for(var i=0;i<n;i++)t[i]=l(i);return t},T.random=function(n,l){return null==l&&(l=n,n=0),n+Math.floor(Math.random()*(l-n+1))},T.now=Date.now||function(){return(new Date).getTime()};var z={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},L=T.invert(z),F=function(n){var l=function(l){return n[l]},e="(?:"+T.keys(n).join("|")+")",t=RegExp(e),i=RegExp(e,"g");return function(n){return n=null==n?"":""+n,t.test(n)?n.replace(i,l):n}};T.escape=F(z),T.unescape=F(L),T.result=function(n,l,e){var t=null==n?void 0:n[l];return void 0===t&&(t=e),T.isFunction(t)?t.call(n):t};var V=0;T.uniqueId=function(n){var l=++V+"";return n?n+l:l},T.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var B=/(.)^/,q={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},G=/\\|'|\r|\n|\u2028|\u2029/g,N=function(n){return"\\"+q[n]};T.template=function(n,l,e){!l&&e&&(l=e),l=T.defaults({},l,T.templateSettings);var t=RegExp([(l.escape||B).source,(l.interpolate||B).source,(l.evaluate||B).source].join("|")+"|$","g"),i=0,u="__p+='";n.replace(t,function(l,e,t,o,r){return u+=n.slice(i,r).replace(G,N),i=r+l.length,e?u+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'":t?u+="'+\n((__t=("+t+"))==null?'':__t)+\n'":o&&(u+="';\n"+o+"\n__p+='"),l}),u+="';\n",l.variable||(u="with(obj||{}){\n"+u+"}\n"),u="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+u+"return __p;\n";try{var o=new Function(l.variable||"obj","_",u)}catch(n){throw n.source=u,n}var r=function(n){return o.call(this,n,T)};return r.source="function("+(l.variable||"obj")+"){\n"+u+"}",r},T.chain=function(n){var l=T(n);return l._chain=!0,l};var H=function(n,l){return n._chain?T(l).chain():l};T.mixin=function(n){T.each(T.functions(n),function(l){var e=T[l]=n[l];T.prototype[l]=function(){var n=[this._wrapped];return p.apply(n,arguments),H(this,e.apply(T,n))}})},T.mixin(T),T.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var l=c[n];T.prototype[n]=function(){var e=this._wrapped;return l.apply(e,arguments),"shift"!==n&&"splice"!==n||0!==e.length||delete e[0],H(this,e)}}),T.each(["concat","join","slice"],function(n){var l=c[n];T.prototype[n]=function(){return H(this,l.apply(this._wrapped,arguments))}}),T.prototype.value=function(){return this._wrapped},T.prototype.valueOf=T.prototype.toJSON=T.prototype.value,T.prototype.toString=function(){return""+this._wrapped},t=[],void 0!==(i=function(){return T}.apply(l,t))&&(n.exports=i)}).call(this)},208:function(n,l,e){"use strict";e.d(l,"a",function(){return o});var t=e(1),i=e(171),u=e(168),o=function(){function n(n,l){this.settings=n,this.game=l,this.close=new t.EventEmitter}return n.prototype.switchGameMode=function(n){this.settings.changeMode(n),this.close.emit(),this.game.reset()},n.ctorParameters=function(){return[{type:i.a},{type:u.a}]},n}()},209:function(n,l,e){"use strict";e.d(l,"a",function(){return u});var t=e(210),i=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var e in l)l.hasOwnProperty(e)&&(n[e]=l[e])};return function(l,e){function t(){this.constructor=l}n(l,e),l.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}}(),u=function(n){function l(l,e){return n.call(this,l,e)||this}return i(l,n),l.prototype.chooseAction=function(){this.setAction([null,null])},l}(t.a)},210:function(n,l,e){"use strict";e.d(l,"a",function(){return t});var t=function(){function n(n,l){this.pieceId=0,this.pieces=[],this.kings=[],this.queens=[],this.rooks=[],this.bishops=[],this.knights=[],this.pawns=[],this.moveTiles=[],this.hitTiles=[],this.prevTile=null,this.prevPiece=null,this.moveCount=0,this.kingChaseCount=0,this.activePiece=null,this.turn=!1,this.enemy=null,this.pieceDecision=null,this.tileDecision=null,this.color=n,this.game=l,this.pieceId=0}return n.prototype.pieceCount=function(){return this.pieces.length},n.prototype.kingCount=function(){return this.kings.length},n.prototype.setAction=function(n){this.pieceDecision=n[0],this.tileDecision=n[1]},n.prototype.getAction=function(){return[this.pieceDecision,this.tileDecision]},n.prototype.addPiece=function(n){this.pieces.push(n),this[n.type+"s"].push(n)},n.prototype.checkAllTiles=function(){this.moveTiles=[],this.hitTiles=[];for(var n=0;n<this.pieceCount();n++)this.pieces[n].tileCheck()},n.prototype.findKingProtectors=function(){for(var n=0;n<this.pieceCount();n++)this.pieces[n].protectsKing=this.pieces[n].tile.protectsKing(this)},n.prototype.checkCastlingMoves=function(){for(var n=0;n<this.kingCount();n++)this.kings[n].castlingCheck()},n}()},211:function(n,l,e){"use strict";e.d(l,"a",function(){return o});var t=e(1),i=e(171),u=e(168),o=function(){function n(n,l){this.settings=n,this.game=l,this.close=new t.EventEmitter,this.upperRow=n.positions[1],this.lowerRow=n.positions[0],this.boardReversed=n.boardReversed}return n.prototype.saveSettings=function(){this.settings.setPositions(this.upperRow,this.lowerRow),this.boardReversed!==this.settings.boardReversed&&this.settings.changeReversed(this.boardReversed),this.close.emit(),this.game.reset()},n.prototype.resetLayout=function(){this.settings.resetPositions(),this.boardReversed!==this.settings.boardReversed&&this.settings.changeReversed(this.boardReversed),this.close.emit(),this.game.reset()},n.ctorParameters=function(){return[{type:i.a},{type:u.a}]},n}()},212:function(n,l,e){"use strict";e.d(l,"a",function(){return t});var t=function(){function n(){}return n.ctorParameters=function(){return[]},n}()},213:function(n,l,e){"use strict";e.d(l,"a",function(){return u});var t=e(1),i=e(168),u=function(){function n(n){this.game=n,this.switchDialogEvent=new t.EventEmitter;var l=n.winner.color;this.winnerColor=l[0].toUpperCase()+l.slice(1)}return n.prototype.switchDialog=function(n){this.switchDialogEvent.emit(n),this.game.winner=null},n.prototype.ngOnDestroy=function(){this.game.winner=null},n.ctorParameters=function(){return[{type:i.a}]},n}()},214:function(n,l,e){"use strict";e.d(l,"a",function(){return u});var t=e(168),i=e(171),u=function(){function n(n,l){this.game=n,this.settings=l,this.visibleDialog="",this.game.reset()}return n.prototype.reset=function(){this.visibleDialog="",this.game.reset()},n.prototype.activePlayerColor=function(){var n=this.game.activePlayer;return null==n?"White":this.capitalize(n.color)},n.prototype.capitalize=function(n){return n.charAt(0).toUpperCase()+n.slice(1)},n.prototype.switchDialog=function(n){this.visibleDialog=this.visibleDialog===n?"":n,""===this.visibleDialog?(this.game.gamePaused=!1,this.game.run()):this.game.gamePaused=!0},n.ctorParameters=function(){return[{type:t.a},{type:i.a}]},n}()},215:function(n,l,e){"use strict";e.d(l,"a",function(){return t});var t=function(){function n(){}return n.prototype.ngOnInit=function(){},n.ctorParameters=function(){return[]},n}()},216:function(n,l,e){"use strict";e.d(l,"a",function(){return o});var t=e(168),i=e(171),u=e(209),o=function(){function n(n,l){this.game=n,this.settings=l}return n.prototype.tileColor=function(n){var l=this.game.board[n[1]][n[0]];return l.highlighted()?"orange":l.markedMovable()?l.empty()?"yellow":"rgb(189, 104, 53)":(l.x+l.y)%2==0?"#e6cfaf":"#9b7b40"},n.prototype.pieceTopLocation=function(n){return this.settings.boardReversed?this.coordinateToPercentage(n.tile.x):this.coordinateToPercentage(n.tile.y)},n.prototype.pieceLeftLocation=function(n){return this.settings.boardReversed?this.coordinateToPercentage(this.settings.boardSize-1-n.tile.y):this.coordinateToPercentage(n.tile.x)},n.prototype.pieceImageUrl=function(n){return"images/chess/"+n.color+"-"+n.type+".png"},n.prototype.coordinateToPercentage=function(n){return 12.5*n+"%"},n.prototype.selectTile=function(n){if(!this.game.gamePaused&&this.game.activePlayer instanceof u.a){this.game.board[n[1]][n[0]].select(this.game.activePlayer)}},n.ctorParameters=function(){return[{type:t.a},{type:i.a}]},n}()},291:function(n,l,e){"use strict";e.d(l,"a",function(){return t});var t=function(){function n(){}return n}()},292:function(n,l,e){"use strict";function t(n){return o["ɵvid"](0,[(n()(),o["ɵeld"](0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["Chess"])),(n()(),o["ɵted"](null,["\n"])),(n()(),o["ɵeld"](0,null,null,1,"chess-game",[],null,null,null,r.b,r.a)),o["ɵdid"](49152,null,0,s.a,[a.a,c.a],null,null),(n()(),o["ɵted"](null,["\n"])),(n()(),o["ɵeld"](0,null,null,3,"a",[["class","google_badge"],["href","https://play.google.com/store/apps/details?id=com.voyacode.chess&pcampaignid=MKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1"]],null,null,null,null,null)),(n()(),o["ɵted"](null,["\n  "])),(n()(),o["ɵeld"](0,null,null,0,"img",[["alt","Get it on Google Play"],["src","images/hangman/google-play-badge.png"]],null,null,null,null,null)),(n()(),o["ɵted"](null,["\n"])),(n()(),o["ɵted"](null,["\n"])),(n()(),o["ɵeld"](0,null,null,72,"description-box",[],null,null,null,h.b,h.a)),o["ɵdid"](49152,null,0,d.a,[],null,null),(n()(),o["ɵted"](0,["\n  This chess game has 3 game modes. In "])),(n()(),o["ɵeld"](0,null,0,1,"b",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["Player vs computer"])),(n()(),o["ɵted"](0,[" you can challenge the computer AI and see if you're smarter than a machine. If you have friends you\n  want to challenge, you can use "])),(n()(),o["ɵeld"](0,null,0,1,"b",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["Local multiplayer"])),(n()(),o["ɵted"](0,[" mode (needs to be played on the same monitor). If you feel a little lazy, you can let the computer AI\n  do the moves for you in "])),(n()(),o["ɵeld"](0,null,0,1,"b",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["Computer vs computer"])),(n()(),o["ɵted"](0,[" mode.\n  "])),(n()(),o["ɵeld"](0,null,0,0,"br",[],null,null,null,null,null)),(n()(),o["ɵeld"](0,null,0,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](0,["With settings you can change the piece layout and make your own chess game. Ever wondered what it would be like to play chess if all pawns were queens? Now you can find out!\n  (If there is more than one king, all kings need to be captured. If there aren't any kings, all enemy pieces need to be captured.)\n  "])),(n()(),o["ɵeld"](0,null,0,0,"br",[],null,null,null,null,null)),(n()(),o["ɵeld"](0,null,0,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](0,["This version of chess has some small changes to the traditional rules:\n  "])),(n()(),o["ɵeld"](0,null,0,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](0,["- In promotion pawn is automatically promoted to queen.\n  "])),(n()(),o["ɵeld"](0,null,0,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](0,["- The game will only end once the king is captured, or if a player can't make any moves. Game doesn't prevent players from doing moves which leave king vulnerable.\n  "])),(n()(),o["ɵeld"](0,null,0,0,"br",[],null,null,null,null,null)),(n()(),o["ɵeld"](0,null,0,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](0,["The game is also available for free on "])),(n()(),o["ɵeld"](0,null,0,1,"a",[["href","https://play.google.com/store/apps/details?id=com.voyacode.chess&pcampaignid=MKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1"]],null,null,null,null,null)),(n()(),o["ɵted"](null,["Google Play"])),(n()(),o["ɵted"](0,[" for android devices. It has various extra features and improvements, so check it out.\n  "])),(n()(),o["ɵeld"](0,null,0,0,"br",[],null,null,null,null,null)),(n()(),o["ɵeld"](0,null,0,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](0,["The code can be found at "])),(n()(),o["ɵeld"](0,null,0,1,"a",[["href","https://github.com/Voya100/VoyaCode/tree/master/app/projects/chess"]],null,null,null,null,null)),(n()(),o["ɵted"](null,["Github"])),(n()(),o["ɵted"](0,[". The code of the android version can be found "])),(n()(),o["ɵeld"](0,null,0,1,"a",[["href","https://github.com/Voya100/ReactNativeChess"]],null,null,null,null,null)),(n()(),o["ɵted"](null,["here"])),(n()(),o["ɵted"](0,[".\n  \n  "])),(n()(),o["ɵeld"](0,null,0,0,"br",[],null,null,null,null,null)),(n()(),o["ɵeld"](0,null,0,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](0,["Update (01.05.2017):\n  "])),(n()(),o["ɵeld"](0,null,0,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](0,["- En passant and castling moves added.\n  "])),(n()(),o["ɵeld"](0,null,0,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](0,["- The game will end if player doesn't have any possible moves.\n  "])),(n()(),o["ɵeld"](0,null,0,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](0,["- Promotion has a higher priority, making infinite king chases less likely.\n  "])),(n()(),o["ɵeld"](0,null,0,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](0,["- Board has been flipped 90 degrees. This can be changed in settings.\n  "])),(n()(),o["ɵeld"](0,null,0,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](0,["- Move tiles that have enemies are now in red.\n  "])),(n()(),o["ɵeld"](0,null,0,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](0,["- Game now scales on smaller screens.\n  "])),(n()(),o["ɵeld"](0,null,0,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](0,["- Game is now written in Angular (previously jQuery) and code has been improved.\n  "])),(n()(),o["ɵeld"](0,null,0,0,"br",[],null,null,null,null,null)),(n()(),o["ɵeld"](0,null,0,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](0,["Update (11.06.2017):\n  "])),(n()(),o["ɵeld"](0,null,0,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](0,["- Fixed a logical error in AI in which pawns got higher priority in situations where they shouldn't have.\n  "])),(n()(),o["ɵeld"](0,null,0,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](0,["- Pieces that protect the king can now move even when they are protecting the king, if the king remains protected.\n  "])),(n()(),o["ɵeld"](0,null,0,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](0,["- Piece positions have been corrected.\n  "])),(n()(),o["ɵeld"](0,null,0,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](0,["- Chess game is now also available on "])),(n()(),o["ɵeld"](0,null,0,1,"a",[["href","https://play.google.com/store/apps/details?id=com.voyacode.chess&pcampaignid=MKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1"]],null,null,null,null,null)),(n()(),o["ɵted"](null,["Google Play"])),(n()(),o["ɵted"](0,["!\n  "])),(n()(),o["ɵeld"](0,null,0,0,"br",[],null,null,null,null,null)),(n()(),o["ɵeld"](0,null,0,0,"br",[],null,null,null,null,null)),(n()(),o["ɵeld"](0,null,0,1,"i",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["Google Play and the Google Play logo are trademarks of Google Inc."])),(n()(),o["ɵted"](0,["\n"]))],null,null)}function i(n){return o["ɵvid"](0,[(n()(),o["ɵeld"](0,null,null,1,"ng-component",[],null,null,null,t,g)),o["ɵdid"](114688,null,0,p.a,[],null,null)],function(n,l){n(l,1,0)},null)}e.d(l,"a",function(){return v});var u=e(293),o=e(1),r=e(294),s=e(214),a=e(168),c=e(171),h=e(169),d=e(165),p=e(215),f=[u.a],g=o["ɵcrt"]({encapsulation:0,styles:f,data:{}}),v=o["ɵccf"]("ng-component",p.a,i,{},{},[])},293:function(n,l,e){"use strict";e.d(l,"a",function(){return t});var t=["[_nghost-%COMP%] {\n  min-width: 304px;\n  max-width: 1000px;\n  margin: auto;\n  width: 100%;\n  display: block; }\n\n[_nghost-%COMP%] {\n  display: block;\n  position: relative; }\n\nh1[_ngcontent-%COMP%] {\n  text-align: center; }\n\n.google_badge[_ngcontent-%COMP%] {\n  display: block;\n  width: 240px;\n  margin: auto; }\n  .google_badge[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n    width: 240px; }"]},294:function(n,l,e){"use strict";function t(n){return c["ɵvid"](0,[(n()(),c["ɵeld"](0,null,null,1,"chess-choose-mode",[],[[24,"@fadeIn",0]],[[null,"close"]],function(n,l,e){var t=!0,i=n.component;if("close"===l){t=!1!==i.switchDialog("")&&t}return t},h.b,h.a)),c["ɵdid"](49152,null,0,d.a,[p.a,f.a],null,{close:"close"})],null,function(n,l){n(l,0,0,void 0)})}function i(n){return c["ɵvid"](0,[(n()(),c["ɵeld"](0,null,null,1,"chess-settings",[],[[24,"@fadeIn",0]],[[null,"close"]],function(n,l,e){var t=!0,i=n.component;if("close"===l){t=!1!==i.switchDialog("")&&t}return t},g.b,g.a)),c["ɵdid"](49152,null,0,v.a,[p.a,f.a],null,{close:"close"})],null,function(n,l){n(l,0,0,void 0)})}function u(n){return c["ɵvid"](0,[(n()(),c["ɵeld"](0,null,null,1,"chess-instructions",[],[[24,"@fadeIn",0]],[[null,"close"]],function(n,l,e){var t=!0,i=n.component;if("close"===l){t=!1!==i.switchDialog("")&&t}return t},m.b,m.a)),c["ɵdid"](49152,null,0,y.a,[],null,null)],null,function(n,l){n(l,0,0,void 0)})}function o(n){return c["ɵvid"](0,[(n()(),c["ɵeld"](0,null,null,1,"chess-winner-dialog",[],[[24,"@fadeIn",0]],[[null,"switchDialogEvent"]],function(n,l,e){var t=!0,i=n.component;if("switchDialogEvent"===l){t=!1!==i.switchDialog(e)&&t}return t},b.b,b.a)),c["ɵdid"](180224,null,0,k.a,[f.a],null,{switchDialogEvent:"switchDialogEvent"})],null,function(n,l){n(l,0,0,void 0)})}function r(n){return c["ɵvid"](0,[(n()(),c["ɵeld"](0,null,null,44,"section",[["class","side-menu interface"]],null,null,null,null,null)),(n()(),c["ɵted"](null,["\n  "])),(n()(),c["ɵeld"](0,null,null,29,"table",[],null,null,null,null,null)),(n()(),c["ɵted"](null,["\n    "])),(n()(),c["ɵeld"](0,null,null,27,"tbody",[],null,null,null,null,null)),(n()(),c["ɵeld"](0,null,null,3,"tr",[],null,null,null,null,null)),(n()(),c["ɵeld"](0,null,null,2,"td",[["colspan","2"]],null,null,null,null,null)),(n()(),c["ɵeld"](0,null,null,1,"b",[],null,null,null,null,null)),(n()(),c["ɵted"](null,["Game stats"])),(n()(),c["ɵted"](null,["\n      "])),(n()(),c["ɵeld"](0,null,null,2,"tr",[],null,null,null,null,null)),(n()(),c["ɵeld"](0,null,null,1,"td",[["colspan","2"],["id","turn"]],null,null,null,null,null)),(n()(),c["ɵted"](null,["","'s turn"])),(n()(),c["ɵted"](null,["\n      "])),(n()(),c["ɵeld"](0,null,null,4,"tr",[],null,null,null,null,null)),(n()(),c["ɵeld"](0,null,null,1,"td",[],null,null,null,null,null)),(n()(),c["ɵted"](null,["Round:"])),(n()(),c["ɵeld"](0,null,null,1,"td",[],null,null,null,null,null)),(n()(),c["ɵted"](null,["",""])),(n()(),c["ɵted"](null,["\n      "])),(n()(),c["ɵeld"](0,null,null,4,"tr",[],null,null,null,null,null)),(n()(),c["ɵeld"](0,null,null,1,"td",[],null,null,null,null,null)),(n()(),c["ɵted"](null,["White:"])),(n()(),c["ɵeld"](0,null,null,1,"td",[],null,null,null,null,null)),(n()(),c["ɵted"](null,[""," pieces"])),(n()(),c["ɵted"](null,["\n      "])),(n()(),c["ɵeld"](0,null,null,4,"tr",[],null,null,null,null,null)),(n()(),c["ɵeld"](0,null,null,1,"td",[],null,null,null,null,null)),(n()(),c["ɵted"](null,["Black:"])),(n()(),c["ɵeld"](0,null,null,1,"td",[],null,null,null,null,null)),(n()(),c["ɵted"](null,[""," pieces"])),(n()(),c["ɵted"](null,["\n  "])),(n()(),c["ɵted"](null,["\n  "])),(n()(),c["ɵeld"](0,null,null,1,"li",[["class","play-again"],["title","Resets the game."]],null,[[null,"click"]],function(n,l,e){var t=!0,i=n.component;if("click"===l){t=!1!==i.reset()&&t}return t},null,null)),(n()(),c["ɵted"](null,["Reset game"])),(n()(),c["ɵted"](null,["\n  "])),(n()(),c["ɵeld"](0,null,null,1,"li",[["class","game-mode-button"],["title","Choose game mode."]],null,[[null,"click"]],function(n,l,e){var t=!0,i=n.component;if("click"===l){t=!1!==i.switchDialog("chooseMode")&&t}return t},null,null)),(n()(),c["ɵted"](null,["Game mode"])),(n()(),c["ɵted"](null,["\n  "])),(n()(),c["ɵeld"](0,null,null,1,"li",[["class","settings-button"],["title","Change piece layout."]],null,[[null,"click"]],function(n,l,e){var t=!0,i=n.component;if("click"===l){t=!1!==i.switchDialog("settings")&&t}return t},null,null)),(n()(),c["ɵted"](null,["Settings"])),(n()(),c["ɵted"](null,["\n  "])),(n()(),c["ɵeld"](0,null,null,1,"li",[["class","instructions-button"],["title","Read the instructions."]],null,[[null,"click"]],function(n,l,e){var t=!0,i=n.component;if("click"===l){t=!1!==i.switchDialog("instructions")&&t}return t},null,null)),(n()(),c["ɵted"](null,["Instructions"])),(n()(),c["ɵted"](null,["\n"])),(n()(),c["ɵted"](null,["\n\n"])),(n()(),c["ɵeld"](0,null,null,16,"section",[["class","container"]],null,null,null,null,null)),(n()(),c["ɵted"](null,["\n  "])),(n()(),c["ɵeld"](16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),c["ɵdid"](212992,null,0,T.r,[T.b,c.ViewContainerRef,c.ComponentFactoryResolver,[8,null],c.ChangeDetectorRef],null,null),(n()(),c["ɵted"](null,["\n  "])),(n()(),c["ɵand"](16777216,null,null,1,null,t)),c["ɵdid"](16384,null,0,x.j,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),c["ɵted"](null,["\n  "])),(n()(),c["ɵand"](16777216,null,null,1,null,i)),c["ɵdid"](16384,null,0,x.j,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),c["ɵted"](null,["\n  "])),(n()(),c["ɵand"](16777216,null,null,1,null,u)),c["ɵdid"](16384,null,0,x.j,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),c["ɵted"](null,["\n  "])),(n()(),c["ɵand"](16777216,null,null,1,null,o)),c["ɵdid"](16384,null,0,x.j,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),c["ɵted"](null,["\n"]))],function(n,l){var e=l.component;n(l,49,0),n(l,52,0,"chooseMode"==e.visibleDialog),n(l,55,0,"settings"==e.visibleDialog),n(l,58,0,"instructions"==e.visibleDialog),n(l,61,0,""==e.visibleDialog&&null!=e.game.winner)},function(n,l){var e=l.component;n(l,12,0,e.activePlayerColor()),n(l,18,0,e.game.round),n(l,24,0,null==e.game.white?null:e.game.white.pieces.length),n(l,30,0,null==e.game.black?null:e.game.black.pieces.length)})}function s(n){return c["ɵvid"](0,[(n()(),c["ɵeld"](0,null,null,1,"chess-game",[],null,null,null,r,C)),c["ɵdid"](49152,null,0,w.a,[f.a,p.a],null,null)],null,null)}e.d(l,"a",function(){return C}),l.b=r;var a=e(295),c=e(1),h=e(296),d=e(208),p=e(171),f=e(168),g=e(305),v=e(211),m=e(307),y=e(212),b=e(309),k=e(213),w=e(214),T=e(9),x=e(3),P=[a.a],C=c["ɵcrt"]({encapsulation:0,styles:P,data:{animation:[{type:7,name:"fadeIn",definitions:[{type:0,name:"true",styles:{type:6,styles:{opacity:1},offset:null},options:void 0},{type:0,name:"void",styles:{type:6,styles:{opacity:0},offset:null},options:void 0},{type:1,expr:"* => *",animation:{type:4,styles:null,timings:"300ms"},options:null}],options:{}}]}});c["ɵccf"]("chess-game",w.a,s,{},{},[])},295:function(n,l,e){"use strict";e.d(l,"a",function(){return t});var t=[".interface[_ngcontent-%COMP%] {\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none; }\n\n[_nghost-%COMP%]:after {\n  content: '';\n  display: table;\n  clear: both; }\n\nchess-settings[_ngcontent-%COMP%], chess-choose-mode[_ngcontent-%COMP%], chess-instructions[_ngcontent-%COMP%], chess-winner-dialog[_ngcontent-%COMP%] {\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  -webkit-transform: translate(-50%, -50%); }\n\n.interface[_ngcontent-%COMP%] {\n  z-index: 10;\n  font-family: \"Times New Roman\", serif, Times;\n  box-sizing: border-box; }\n\n.interface[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\n  background: #eeeeee;\n  border: 2px solid black;\n  border-radius: 5px;\n  cursor: pointer;\n  font-family: Helvetica, Verdana, sans-serif;\n  height: 16px;\n  margin: 6px;\n  padding: 0.4em;\n  font-size: 90%;\n  list-style-type: none;\n  text-align: center; }\n\n[_nghost-%COMP%] {\n  display: block;\n  border: 2px solid black;\n  background: silver;\n  margin: auto;\n  max-width: 800px; }\n\n.container[_ngcontent-%COMP%] {\n  max-width: 640px;\n  width: 80%;\n  padding-top: 80%;\n  background: black;\n  position: relative;\n  float: left;\n  border-left: 3px solid black; }\n\n.side-menu[_ngcontent-%COMP%] {\n  width: 20%;\n  height: 100%;\n  max-width: 160px;\n  float: left;\n  padding: 3px;\n  padding-right: 6px;\n  margin-right: -3px;\n  font-size: 90%; }\n  @media screen and (max-width: 450px) {\n    .side-menu[_ngcontent-%COMP%] {\n      font-size: 80%; }\n      .side-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\n        padding: 3px;\n        margin: 3px; } }\n\nchess-settings[_ngcontent-%COMP%], chess-choose-mode[_ngcontent-%COMP%], chess-instructions[_ngcontent-%COMP%], chess-winner-dialog[_ngcontent-%COMP%] {\n  position: absolute;\n  max-width: 90%;\n  max-height: 90%;\n  background: silver;\n  border: 5px solid gray;\n  border-radius: 5px;\n  text-align: center;\n  z-index: 10; }\n\nchess-instructions[_ngcontent-%COMP%] {\n  max-width: 98%;\n  max-height: 98%; }"]},296:function(n,l,e){"use strict";function t(n){return o["ɵvid"](0,[(n()(),o["ɵeld"](0,null,null,13,"div",[["class","interface"]],null,null,null,null,null)),(n()(),o["ɵted"](null,["\n    "])),(n()(),o["ɵeld"](0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["Game modes"])),(n()(),o["ɵted"](null,["\n    "])),(n()(),o["ɵeld"](0,null,null,1,"li",[["title","Play against the computer AI."]],null,[[null,"click"]],function(n,l,e){var t=!0,i=n.component;if("click"===l){t=!1!==i.switchGameMode(0)&&t}return t},null,null)),(n()(),o["ɵted"](null,["Player vs computer"])),(n()(),o["ɵted"](null,["\n    "])),(n()(),o["ɵeld"](0,null,null,1,"li",[["title","Challenge a friend to a game of chess."]],null,[[null,"click"]],function(n,l,e){var t=!0,i=n.component;if("click"===l){t=!1!==i.switchGameMode(1)&&t}return t},null,null)),(n()(),o["ɵted"](null,["Local multiplayer"])),(n()(),o["ɵted"](null,["\n    "])),(n()(),o["ɵeld"](0,null,null,1,"li",[["title","Watch while computer AIs try to annihilate each other."]],null,[[null,"click"]],function(n,l,e){var t=!0,i=n.component;if("click"===l){t=!1!==i.switchGameMode(2)&&t}return t},null,null)),(n()(),o["ɵted"](null,["Computer vs computer"])),(n()(),o["ɵted"](null,["\n"]))],null,null)}function i(n){return o["ɵvid"](0,[(n()(),o["ɵeld"](0,null,null,1,"chess-choose-mode",[],null,null,null,t,h)),o["ɵdid"](49152,null,0,r.a,[s.a,a.a],null,null)],null,null)}e.d(l,"a",function(){return h}),l.b=t;var u=e(297),o=e(1),r=e(208),s=e(171),a=e(168),c=[u.a],h=o["ɵcrt"]({encapsulation:0,styles:c,data:{}});o["ɵccf"]("chess-choose-mode",r.a,i,{},{close:"close"},[])},297:function(n,l,e){"use strict";e.d(l,"a",function(){return t});var t=['.interface[_ngcontent-%COMP%] {\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none; }\n\n.interface[_ngcontent-%COMP%] {\n  z-index: 10;\n  font-family: "Times New Roman", serif, Times;\n  box-sizing: border-box; }\n\n.interface[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\n  background: #eeeeee;\n  border: 2px solid black;\n  border-radius: 5px;\n  cursor: pointer;\n  font-family: Helvetica, Verdana, sans-serif;\n  height: 16px;\n  margin: 6px;\n  padding: 0.4em;\n  font-size: 90%;\n  list-style-type: none;\n  text-align: center; }\n\n[_nghost-%COMP%] {\n  width: 320px;\n  height: 260px; }\n\nh1[_ngcontent-%COMP%] {\n  margin: 7px 0; }']},298:function(n,l,e){"use strict";e.d(l,"a",function(){return u});var t=e(172),i=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var e in l)l.hasOwnProperty(e)&&(n[e]=l[e])};return function(l,e){function t(){this.constructor=l}n(l,e),l.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}}(),u=function(n){function l(l,e){var t=n.call(this,l,e)||this;return t.type="bishop",t.value=5,t}return i(l,n),l.prototype.tileCheck=function(){this.clearTiles(),this.moveTiles=this.moveTiles.concat(this.checkDirections(1,1,8,!0)),this.addTiles()},l}(t.a)},299:function(n,l,e){"use strict";e.d(l,"a",function(){return o});var t=e(172),i=e(180),u=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var e in l)l.hasOwnProperty(e)&&(n[e]=l[e])};return function(l,e){function t(){this.constructor=l}n(l,e),l.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}}(),o=function(n){function l(l,e){var t=n.call(this,l,e)||this;return t.type="king",t.value=10,t.hasMoved=!1,t}return u(l,n),l.prototype.move=function(l,e){2===Math.abs(this.x()-l)&&this.castling(l,e),n.prototype.move.call(this,l,e),this.hasMoved=!0},l.prototype.castling=function(n,l){var e=this.tiles[l][n],t=n<this.x()?-1:1,i=e.checkDirection(t,0,8),u=i[i.length-1];u.empty()||"rook"!==u.piece.type?console.log("Error: Invalid castling call"):u.piece.move(n-t,l,!1)},l.prototype.tileCheck=function(){this.clearTiles(),this.moveTiles=this.moveTiles.concat(this.checkDirections(1,0,1,!0)),this.moveTiles=this.moveTiles.concat(this.checkDirections(0,1,1,!0)),this.moveTiles=this.moveTiles.concat(this.checkDirections(1,1,1,!0)),this.addTiles()},l.prototype.castlingCheck=function(){if(!this.hasMoved&&0===this.threats().length)for(var n=0,l=this.player.rooks;n<l.length;n++){var e=l[n],t=this.castlingTargetTile(e);this.canDoCastlingWithRook(e,t)&&(this.moveTiles.push(t),this.player.moveTiles.push(t),t.addMover(this))}},l.prototype.canDoCastlingWithRook=function(n,l){var e=this;if(n.hasMoved||n.y()!==this.y()||null==l)return!1;var t=l.tilesBetween(this.tile);t.push(l);var i=t.filter(function(n){return!n.empty()}),u=t.filter(function(n){return 0!==n[e.player.enemy.color+"Hits"].length});return 0===i.length&&0===u.length},l.prototype.castlingTargetTile=function(n){var l=this.x()+2*(n.x()<this.x()?-1:1);return i.a.tileExists(l,this.y())?this.tiles[this.y()][l]:null},l}(t.a)},300:function(n,l,e){"use strict";e.d(l,"a",function(){return u});var t=e(172),i=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var e in l)l.hasOwnProperty(e)&&(n[e]=l[e])};return function(l,e){function t(){this.constructor=l}n(l,e),l.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}}(),u=function(n){function l(l,e){var t=n.call(this,l,e)||this;return t.type="knight",t.value=4,t}return i(l,n),l.prototype.tileCheck=function(){this.clearTiles(),this.moveTiles=this.moveTiles.concat(this.checkDirections(2,1,1,!0)),this.moveTiles=this.moveTiles.concat(this.checkDirections(1,2,1,!0)),this.addTiles()},l}(t.a)},301:function(n,l,e){"use strict";e.d(l,"a",function(){return o});var t=e(172),i=e(180),u=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var e in l)l.hasOwnProperty(e)&&(n[e]=l[e])};return function(l,e){function t(){this.constructor=l}n(l,e),l.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}}(),o=function(n){function l(l,e){var t=n.call(this,l,e)||this;return t.type="pawn",t.value=1,t.xStart=e.x,t.yStart=e.y,t.yDir=t.white?-1:1,t}return u(l,n),l.prototype.tileCheck=function(){this.clearTiles();var n=(this.x(),this.y());this.checkVerticalTile(1),this.yStart===n&&this.checkVerticalTile(2),this.checkDiagonalTile(1),this.checkDiagonalTile(-1),this.addTiles()},l.prototype.checkVerticalTile=function(n){var l=this.y()+n*this.yDir;if(i.a.tileExists(this.x(),l)){var e=this.tiles[l][this.x()];e.empty()&&0===e.tilesBetween(this.tile).filter(function(n){return!n.empty()}).length&&this.moveTiles.push(e)}},l.prototype.checkDiagonalTile=function(n){var l=this.x(),e=this.y();if(i.a.tileExists(l+n,e)){var t=this.tiles[e+this.yDir][l+n],u=this.tiles[e][l+n];(t.isEnemyOf(this)||this.canUseEnPassant(u))&&this.moveTiles.push(t),this.hitTiles.push(t),t.addHitter(this)}},l.prototype.canUseEnPassant=function(n){if(n.isEnemyOf(this)&&"pawn"===n.piece.type){return n.piece.isEnPassantable()}},l.prototype.move=function(l,e){var t=this;this.setEnPassantability(e),this.tryToDoEnPassant(l,e),n.prototype.move.call(this,l,e),0!==e&&7!==e||setTimeout(function(){t.die(),t.player.game.addPiece(t.x(),t.y(),t.player,"Q")},500)},l.prototype.tryToDoEnPassant=function(n,l){var e=this.player.game.board[l][n];n!==this.x()&&e.empty()&&this.player.game.board[l-this.yDir][n].piece.die()},l.prototype.setEnPassantability=function(n){2===Math.abs(this.y()-n)&&(this.enPassantRound=this.player.game.round)},l.prototype.isEnPassantable=function(){return this.enPassantRound===this.player.game.round},l}(t.a)},302:function(n,l,e){"use strict";e.d(l,"a",function(){return u});var t=e(172),i=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var e in l)l.hasOwnProperty(e)&&(n[e]=l[e])};return function(l,e){function t(){this.constructor=l}n(l,e),l.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}}(),u=function(n){function l(l,e){var t=n.call(this,l,e)||this;return t.type="queen",t.value=7,t}return i(l,n),l.prototype.tileCheck=function(){this.clearTiles(),this.moveTiles=this.moveTiles.concat(this.checkDirections(1,0,8,!0)),this.moveTiles=this.moveTiles.concat(this.checkDirections(0,1,8,!0)),this.moveTiles=this.moveTiles.concat(this.checkDirections(1,1,7,!0)),this.addTiles()},l}(t.a)},303:function(n,l,e){"use strict";e.d(l,"a",function(){return u});var t=e(172),i=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var e in l)l.hasOwnProperty(e)&&(n[e]=l[e])};return function(l,e){function t(){this.constructor=l}n(l,e),l.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}}(),u=function(n){function l(l,e){var t=n.call(this,l,e)||this;return t.type="rook",t.value=5,t.hasMoved=!1,t}return i(l,n),l.prototype.move=function(l,e,t){void 0===t&&(t=!0),n.prototype.move.call(this,l,e,t),this.hasMoved=!0},l.prototype.tileCheck=function(){this.clearTiles(),this.moveTiles=this.moveTiles.concat(this.checkDirections(1,0,8,!0)),this.moveTiles=this.moveTiles.concat(this.checkDirections(0,1,8,!0)),this.addTiles()},l}(t.a)},304:function(n,l,e){"use strict";function t(n){return 0===n.length?n:n[Math.floor(Math.random()*n.length)]}e.d(l,"a",function(){return r});var i=e(210),u=e(181),o=(e.n(u),this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var e in l)l.hasOwnProperty(e)&&(n[e]=l[e])};return function(l,e){function t(){this.constructor=l}n(l,e),l.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}}()),r=function(n){function l(l,e){var t=n.call(this,l,e)||this;return t.safeTiles=[],t.hitTiles=[],t.dangerTiles=[],t.pieceLocations=[],t.enemyLocations=[],t.colors=t.color+"s",t}return o(l,n),l.prototype.chooseAction=function(){this.chooseTarget()},l.prototype.actionDecided=function(){return null!=this.pieceDecision&&null!=this.tileDecision},l.prototype.setMove=function(n){n[2]<this.riskValue&&(this.movePiece=n[0],this.moveTile=n[1],this.riskValue=n[2])},l.prototype.setMoveToDecision=function(){this.setAction([this.movePiece,this.moveTile])},l.prototype.chooseTarget=function(){return this.chooseActionInit(),this.tryToKillTheKing(),this.actionDecided()?void console.log("1. Kill the king"):(this.protectTheKings(),this.actionDecided()?void console.log("2. Protect the king"):(this.tryToGetCloseToEnemyKing(),this.actionDecided()?(console.log("3. Approach enemy king"),void this.kingChaseCount++):(this.kingChaseCount=0,this.tryToMakeARisklessMove(),this.actionDecided()?void console.log("4. Kill enemy or move to safety"):(this.tryToApproachEnemyKing(2),this.actionDecided()?void console.log("5. Approach king"):null!=this.movePiece?(console.log("6. Safe random"),void this.setMoveToDecision()):(console.log("7. Random"),void this.moveToRandom())))))},l.prototype.chooseActionInit=function(){this.safeTiles=[],this.hitTiles=[],this.dangerTiles=[],this.pieceLocations=[],this.enemyLocations=[],this.ecolors=this.enemy.color+"s",this.pieceDecision=null,this.tileDecision=null;for(var n=0;n<this.pieceCount();n++)this.pieceLocations.push(this.pieces[n].tile);for(var n=0;n<this.enemy.pieceCount();n++)this.enemyLocations.push(this.enemy.pieces[n].tile);this.safeTiles=u.difference(this.moveTiles,this.enemy.hitTiles),this.hitTiles=u.intersection(this.hitTiles,this.enemyLocations),this.dangerTiles=u.intersection(this.enemy.moveTiles,this.pieceLocations),this.moveTile=null,this.movePiece=null,this.riskValue=100},l.prototype.tryToKillTheKing=function(){for(var n=0,l=this.enemy.kings;n<l.length;n++){var e=l[n];if(e.threats().length>0)return console.log("Can kill the king"),void this.setAction([t(e.threats()),e.tile])}},l.prototype.protectTheKings=function(){for(var n=0,l=this.kings;n<l.length;n++){var e=l[n];u.contains(this.dangerTiles,e.tile)&&(console.log("King in danger"),this.protectKing(e))}},l.prototype.protectKing=function(n){if(this.movePiece=null,n.threats.length>1&&(this.tryToMovePieceToSafety(n),this.setMoveToDecision(),this.actionDecided()))return void console.log("2.1 Move the king");var l=t(n.tile[this.ecolors]);if(this.tryToKillKingsThreat(l),this.actionDecided())return void console.log("2.2 Kill enemy threat");this.tryToMovePieceToSafety(n,l),this.tryToBlockEnemy(n,l),this.setMoveToDecision()},l.prototype.tryToMovePieceToSafety=function(n,l){void 0===l&&(l=null);var e=u.intersection(n.moveTiles,this.safeTiles);"pawn"!==l.type&&"knight"!==l.type&&(e=e.filter(function(e){return!n.tile.isBetween(e,l.tile)})),e.length>0&&this.setMove(this.findSmallestRisk([n],e))},l.prototype.tryToKillKingsThreat=function(n){var l=n.threats().filter(function(n){return!n.protectsKing});if(this.movePiece=null,this.riskValue=100,l.length>0)if(console.log("Threat can be killed"),n.friends().length>0){this.moveTile=n.tile;var e=this.findSmallestRisk(l,[this.moveTile]);this.movePiece=e[0],this.riskValue=e[2]}else this.setAction(this.findSmallestRisk(l,[n.tile]))},l.prototype.tryToBlockEnemy=function(n,l){if("knight"!==l.type)for(var e=n.tile.tilesBetween(l.tile),t=0,i=e;t<i.length;t++){var u=i[t],o=u[this.colors].filter(function(l){return!l.protectsKing&&l!==n});o.length>0&&this.setMove(this.findSmallestRisk(o,[u]))}},l.prototype.tryToGetCloseToEnemyKing=function(){this.moveCount<=4&&this.kingChaseCount<=6&&this.tryToApproachEnemyKing(1)},l.prototype.tryToApproachEnemyKing=function(n){for(var l=0,e=this.enemy.kings;l<e.length;l++){var t=e[l],i=this.approachTile(t.tile,this.moveTiles,"all",!0,n);if(i.length>0)return void this.setAction(this.findSmallestRisk(i,[],1))}},l.prototype.tryToMakeARisklessMove=function(){this.movePiece=null,this.moveTile=null,this.riskValue=100;for(var n=0,l=this.pieces;n<l.length;n++){var e=l[n];if(0!==e.moveTiles.length){var t=this.findSmallestRisk([e],e.moveTiles);3===t.length&&this.setMove(t)}}this.riskValue<0&&this.setAction([this.movePiece,this.moveTile])},l.prototype.moveToRandom=function(){this.moveTile=t(this.moveTiles),this.movePiece=t(this.moveTile[this.colors]),this.setMoveToDecision()},l.prototype.findSmallestRisk=function(n,l,e){void 0===e&&(e=0);for(var i=1e3,u=[],o=0,r=n;o<r.length;o++){var s=r[o];1===e&&(l=[s[1]],s=s[0]);for(var a=0,c=l;a<c.length;a++){var h=c[a],d=h.riskValue(s);d<=i&&(d<i&&(u=[]),u.push([s,h,d]),i=d)}}return t(u)},l.prototype.approachTile=function(n,l,e,t,i){void 0===i&&(i=1);var o=[],r=[],s=this;return"all"!==e&&"rook"!==e||(o=o.concat(n.checkDirections(1,0,8)),o=o.concat(n.checkDirections(0,1,8)),1===i&&(o=u.intersection(o,l)),o=o.filter(function(n){return!n.isFriendOf(s)}),r=this.approachTileLoop(o,r,["rook","queen"],l,"rook",t,i)),"all"!==e&&"bishop"!==e||(o=n.checkDirections(1,1,8),1===i&&(o=u.intersection(o,this.moveTiles)),o=o.filter(function(n){return!n.isFriendOf(s)}),r=this.approachTileLoop(o,r,["bishop","queen"],l,"bishop",t,i)),"all"!==e&&"knight"!==e||(o=n.checkDirections(2,1,1),o=o.concat(n.checkDirections(1,2,1)),1===i&&(o=u.intersection(o,this.moveTiles)),o=o.filter(function(n){return!n.isFriendOf(s)}),r=this.approachTileLoop(o,r,["knight"],l,"knight",t,i)),r},l.prototype.approachTileLoop=function(n,l,e,t,i,o,r){for(var s=0,a=n;s<a.length;s++){var c=a[s];if(!(o&&c[this.enemy.color+"Hits"].length>0))if(2===r)l=l.concat(this.approachTile(c,t,i,o,1));else for(var h=0,d=c[this.color+"s"];h<d.length;h++){var p=d[h];p===this.prevPiece&&this.moveCount>3||!p.protectsKing&&u.contains(e,p.type)&&l.push([p,c])}}return l},l}(i.a)},305:function(n,l,e){"use strict";function t(n){return o["ɵvid"](0,[(n()(),o["ɵeld"](0,null,null,74,"div",[["class","interface"]],null,null,null,null,null)),(n()(),o["ɵted"](null,["\n  "])),(n()(),o["ɵeld"](0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["Settings"])),(n()(),o["ɵted"](null,["\n  Change piece layout"])),(n()(),o["ɵeld"](0,null,null,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["\n  "])),(n()(),o["ɵeld"](0,null,null,51,"form",[["autocomplete","off"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,l,e){var t=!0;if("submit"===l){t=!1!==o["ɵnov"](n,9).onSubmit(e)&&t}if("reset"===l){t=!1!==o["ɵnov"](n,9).onReset()&&t}return t},null,null)),o["ɵdid"](16384,null,0,r.u,[],null,null),o["ɵdid"](16384,null,0,r.n,[[8,null],[8,null]],null,null),o["ɵprd"](2048,null,r.d,null,[r.n]),o["ɵdid"](16384,null,0,r.m,[r.d],null,null),(n()(),o["ɵted"](null,["\n    "])),(n()(),o["ɵeld"](0,null,null,44,"table",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["\n      "])),(n()(),o["ɵeld"](0,null,null,42,"tbody",[],null,null,null,null,null)),(n()(),o["ɵeld"](0,null,null,26,"tr",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["\n        "])),(n()(),o["ɵeld"](0,null,null,9,"td",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["Row 1: "])),(n()(),o["ɵeld"](0,null,null,7,"input",[["maxlength","8"],["name","upperRow"],["size","8"],["type","text"]],[[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,e){var t=!0,i=n.component;if("input"===l){t=!1!==o["ɵnov"](n,21)._handleInput(e.target.value)&&t}if("blur"===l){t=!1!==o["ɵnov"](n,21).onTouched()&&t}if("compositionstart"===l){t=!1!==o["ɵnov"](n,21)._compositionStart()&&t}if("compositionend"===l){t=!1!==o["ɵnov"](n,21)._compositionEnd(e.target.value)&&t}if("ngModelChange"===l){t=!1!==(i.upperRow=e)&&t}return t},null,null)),o["ɵdid"](16384,null,0,r.e,[o.Renderer2,o.ElementRef,[2,r.a]],null,null),o["ɵdid"](540672,null,0,r.h,[],{maxlength:[0,"maxlength"]},null),o["ɵprd"](1024,null,r.i,function(n){return[n]},[r.h]),o["ɵprd"](1024,null,r.j,function(n){return[n]},[r.e]),o["ɵdid"](671744,null,0,r.o,[[2,r.d],[2,r.i],[8,null],[2,r.j]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),o["ɵprd"](2048,null,r.k,null,[r.o]),o["ɵdid"](16384,null,0,r.l,[r.k],null,null),(n()(),o["ɵted"](null,["\n        "])),(n()(),o["ɵeld"](0,null,null,5,"td",[["rowspan","2"]],null,null,null,null,null)),(n()(),o["ɵted"](null,["P: Pawn"])),(n()(),o["ɵeld"](0,null,null,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["R: Rook"])),(n()(),o["ɵeld"](0,null,null,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["X: King"])),(n()(),o["ɵted"](null,["\n        "])),(n()(),o["ɵeld"](0,null,null,5,"td",[["rowspan","2"]],null,null,null,null,null)),(n()(),o["ɵted"](null,["K: Knight"])),(n()(),o["ɵeld"](0,null,null,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["B: Bishop"])),(n()(),o["ɵeld"](0,null,null,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["Q: Queen"])),(n()(),o["ɵted"](null,["\n      "])),(n()(),o["ɵted"](null,["\n      "])),(n()(),o["ɵeld"](0,null,null,12,"tr",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["\n        "])),(n()(),o["ɵeld"](0,null,null,9,"td",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["Row 2: "])),(n()(),o["ɵeld"](0,null,null,7,"input",[["maxlength","8"],["name","lowerRow"],["size","8"],["type","text"]],[[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,e){var t=!0,i=n.component;if("input"===l){t=!1!==o["ɵnov"](n,49)._handleInput(e.target.value)&&t}if("blur"===l){t=!1!==o["ɵnov"](n,49).onTouched()&&t}if("compositionstart"===l){t=!1!==o["ɵnov"](n,49)._compositionStart()&&t}if("compositionend"===l){t=!1!==o["ɵnov"](n,49)._compositionEnd(e.target.value)&&t}if("ngModelChange"===l){t=!1!==(i.lowerRow=e)&&t}return t},null,null)),o["ɵdid"](16384,null,0,r.e,[o.Renderer2,o.ElementRef,[2,r.a]],null,null),o["ɵdid"](540672,null,0,r.h,[],{maxlength:[0,"maxlength"]},null),o["ɵprd"](1024,null,r.i,function(n){return[n]},[r.h]),o["ɵprd"](1024,null,r.j,function(n){return[n]},[r.e]),o["ɵdid"](671744,null,0,r.o,[[2,r.d],[2,r.i],[8,null],[2,r.j]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),o["ɵprd"](2048,null,r.k,null,[r.o]),o["ɵdid"](16384,null,0,r.l,[r.k],null,null),(n()(),o["ɵted"](null,["\n      "])),(n()(),o["ɵted"](null,["\n    "])),(n()(),o["ɵted"](null,["\n  "])),(n()(),o["ɵted"](null,["\n  "])),(n()(),o["ɵeld"](0,null,null,7,"label",[["title","Turns game board 90 degrees"]],null,null,null,null,null)),(n()(),o["ɵeld"](0,null,null,5,"input",[["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(n,l,e){var t=!0,i=n.component;if("change"===l){t=!1!==o["ɵnov"](n,62).onChange(e.target.checked)&&t}if("blur"===l){t=!1!==o["ɵnov"](n,62).onTouched()&&t}if("ngModelChange"===l){t=!1!==(i.boardReversed=e)&&t}return t},null,null)),o["ɵdid"](16384,null,0,r.b,[o.Renderer2,o.ElementRef],null,null),o["ɵprd"](1024,null,r.j,function(n){return[n]},[r.b]),o["ɵdid"](671744,null,0,r.o,[[8,null],[8,null],[8,null],[2,r.j]],{model:[0,"model"]},{update:"ngModelChange"}),o["ɵprd"](2048,null,r.k,null,[r.o]),o["ɵdid"](16384,null,0,r.l,[r.k],null,null),(n()(),o["ɵted"](null,[" Reversed board"])),(n()(),o["ɵted"](null,["\n  "])),(n()(),o["ɵeld"](0,null,null,1,"li",[["title","Changing settings will reset the game."]],null,[[null,"click"]],function(n,l,e){var t=!0,i=n.component;if("click"===l){t=!1!==i.saveSettings()&&t}return t},null,null)),(n()(),o["ɵted"](null,["Save settings"])),(n()(),o["ɵted"](null,["\n  "])),(n()(),o["ɵeld"](0,null,null,1,"li",[["title","Puts pieces to their original places and resets the game."]],null,[[null,"click"]],function(n,l,e){var t=!0,i=n.component;if("click"===l){t=!1!==i.resetLayout()&&t}return t},null,null)),(n()(),o["ɵted"](null,["Reset layout"])),(n()(),o["ɵted"](null,["\n"]))],function(n,l){var e=l.component;n(l,22,0,"8");n(l,25,0,"upperRow",e.upperRow);n(l,50,0,"8");n(l,53,0,"lowerRow",e.lowerRow),n(l,64,0,e.boardReversed)},function(n,l){n(l,7,0,o["ɵnov"](l,11).ngClassUntouched,o["ɵnov"](l,11).ngClassTouched,o["ɵnov"](l,11).ngClassPristine,o["ɵnov"](l,11).ngClassDirty,o["ɵnov"](l,11).ngClassValid,o["ɵnov"](l,11).ngClassInvalid,o["ɵnov"](l,11).ngClassPending),n(l,20,0,o["ɵnov"](l,22).maxlength?o["ɵnov"](l,22).maxlength:null,o["ɵnov"](l,27).ngClassUntouched,o["ɵnov"](l,27).ngClassTouched,o["ɵnov"](l,27).ngClassPristine,o["ɵnov"](l,27).ngClassDirty,o["ɵnov"](l,27).ngClassValid,o["ɵnov"](l,27).ngClassInvalid,o["ɵnov"](l,27).ngClassPending),n(l,48,0,o["ɵnov"](l,50).maxlength?o["ɵnov"](l,50).maxlength:null,o["ɵnov"](l,55).ngClassUntouched,o["ɵnov"](l,55).ngClassTouched,o["ɵnov"](l,55).ngClassPristine,o["ɵnov"](l,55).ngClassDirty,o["ɵnov"](l,55).ngClassValid,o["ɵnov"](l,55).ngClassInvalid,o["ɵnov"](l,55).ngClassPending),n(l,61,0,o["ɵnov"](l,66).ngClassUntouched,o["ɵnov"](l,66).ngClassTouched,o["ɵnov"](l,66).ngClassPristine,o["ɵnov"](l,66).ngClassDirty,o["ɵnov"](l,66).ngClassValid,o["ɵnov"](l,66).ngClassInvalid,o["ɵnov"](l,66).ngClassPending)})}function i(n){return o["ɵvid"](0,[(n()(),o["ɵeld"](0,null,null,1,"chess-settings",[],null,null,null,t,d)),o["ɵdid"](49152,null,0,s.a,[a.a,c.a],null,null)],null,null)}e.d(l,"a",function(){return d}),l.b=t;var u=e(306),o=e(1),r=e(24),s=e(211),a=e(171),c=e(168),h=[u.a],d=o["ɵcrt"]({encapsulation:0,styles:h,data:{}});o["ɵccf"]("chess-settings",s.a,i,{},{close:"close"},[])},306:function(n,l,e){"use strict";e.d(l,"a",function(){return t});var t=['.interface[_ngcontent-%COMP%] {\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none; }\n\n.interface[_ngcontent-%COMP%] {\n  z-index: 10;\n  font-family: "Times New Roman", serif, Times;\n  box-sizing: border-box; }\n\n.interface[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\n  background: #eeeeee;\n  border: 2px solid black;\n  border-radius: 5px;\n  cursor: pointer;\n  font-family: Helvetica, Verdana, sans-serif;\n  height: 16px;\n  margin: 6px;\n  padding: 0.4em;\n  font-size: 90%;\n  list-style-type: none;\n  text-align: center; }\n\n[_nghost-%COMP%] {\n  width: 320px;\n  height: 280px; }\n\nh1[_ngcontent-%COMP%] {\n  margin: 7px 0; }\n\ntable[_ngcontent-%COMP%] {\n  margin: auto; }\n\ntd[_ngcontent-%COMP%] {\n  padding: 5px; }\n\ninput[_ngcontent-%COMP%] {\n  font-family: monospace; }']},307:function(n,l,e){"use strict";function t(n){return o["ɵvid"](0,[(n()(),o["ɵeld"](0,null,null,98,"div",[["class","interface"]],null,null,null,null,null)),(n()(),o["ɵted"](null,["\n    "])),(n()(),o["ɵeld"](0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["Instructions"])),(n()(),o["ɵted"](null,["\n    The goal of chess is to capture the enemy king. Once that is done, the game will end and the winner declared.\n    The game will also end if a player doesn't have any legal moves left.\n    "])),(n()(),o["ɵeld"](0,null,null,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["A player captures an enemy piece by moving their piece to their tile. Captured pieces are removed from the game.\n    Each player does always one move each turn. Skipping isn't possible. White player always starts the game.\n    "])),(n()(),o["ɵeld"](0,null,null,0,"br",[],null,null,null,null,null)),(n()(),o["ɵeld"](0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["Pieces"])),(n()(),o["ɵted"](null,["\n    "])),(n()(),o["ɵeld"](0,null,null,86,"table",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["\n    "])),(n()(),o["ɵeld"](0,null,null,84,"tbody",[],null,null,null,null,null)),(n()(),o["ɵeld"](0,null,null,15,"tr",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["\n        "])),(n()(),o["ɵeld"](0,null,null,1,"td",[],null,null,null,null,null)),(n()(),o["ɵeld"](0,null,null,0,"img",[["src","images/chess/white-pawn.png"]],null,null,null,null,null)),(n()(),o["ɵted"](null,["\n        "])),(n()(),o["ɵeld"](0,null,null,9,"td",[],null,null,null,null,null)),(n()(),o["ɵeld"](0,null,null,1,"b",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["Pawns"])),(n()(),o["ɵted"](null,[" are the most common piece. Pawns can move 1 square forward if it isn't occupied by another piece. \n        On the first move they can alternatively move 2 squares.\n        "])),(n()(),o["ɵeld"](0,null,null,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["Pawns can normally only capture pieces that are on diagonal squares in front of them.\n        "])),(n()(),o["ɵeld"](0,null,null,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["If an enemy pawn moves next to pawn (horizontally) by moving 2 squares, pawn can capture it with en passant special move.\n        In en passant pawn moves diagonally behind the enemy pawn and captures it.\n        "])),(n()(),o["ɵeld"](0,null,null,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["Once a pawn reaches other end of the board, it is automatically promoted to queen."])),(n()(),o["ɵted"](null,["\n    "])),(n()(),o["ɵted"](null,["\n    "])),(n()(),o["ɵeld"](0,null,null,11,"tr",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["\n        "])),(n()(),o["ɵeld"](0,null,null,1,"td",[],null,null,null,null,null)),(n()(),o["ɵeld"](0,null,null,0,"img",[["src","images/chess/white-knight.png"]],null,null,null,null,null)),(n()(),o["ɵted"](null,["\n        "])),(n()(),o["ɵeld"](0,null,null,5,"td",[],null,null,null,null,null)),(n()(),o["ɵeld"](0,null,null,1,"b",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["Knights"])),(n()(),o["ɵted"](null,[" can move to any of the closest squares that aren't horizontal, vertical or diagonal. \n        "])),(n()(),o["ɵeld"](0,null,null,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["Their moves form L shape: 2 forward, 1 left/right. Knights can jump over other pieces."])),(n()(),o["ɵted"](null,["\n    "])),(n()(),o["ɵted"](null,["\n    "])),(n()(),o["ɵeld"](0,null,null,9,"tr",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["\n        "])),(n()(),o["ɵeld"](0,null,null,1,"td",[],null,null,null,null,null)),(n()(),o["ɵeld"](0,null,null,0,"img",[["src","images/chess/white-rook.png"]],null,null,null,null,null)),(n()(),o["ɵted"](null,["\n        "])),(n()(),o["ɵeld"](0,null,null,3,"td",[],null,null,null,null,null)),(n()(),o["ɵeld"](0,null,null,1,"b",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["Rooks"])),(n()(),o["ɵted"](null,[" can move horizontally and vertically to any direction any number of squares, but can't jump over other pieces."])),(n()(),o["ɵted"](null,["\n    "])),(n()(),o["ɵted"](null,["\n    "])),(n()(),o["ɵeld"](0,null,null,9,"tr",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["\n        "])),(n()(),o["ɵeld"](0,null,null,1,"td",[],null,null,null,null,null)),(n()(),o["ɵeld"](0,null,null,0,"img",[["src","images/chess/white-bishop.png"]],null,null,null,null,null)),(n()(),o["ɵted"](null,["\n        "])),(n()(),o["ɵeld"](0,null,null,3,"td",[],null,null,null,null,null)),(n()(),o["ɵeld"](0,null,null,1,"b",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["Bishops"])),(n()(),o["ɵted"](null,[" can move diagonally to any direction any number of squares, but can't jump over other pieces."])),(n()(),o["ɵted"](null,["\n    "])),(n()(),o["ɵted"](null,["\n    "])),(n()(),o["ɵeld"](0,null,null,9,"tr",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["\n        "])),(n()(),o["ɵeld"](0,null,null,1,"td",[],null,null,null,null,null)),(n()(),o["ɵeld"](0,null,null,0,"img",[["src","images/chess/white-queen.png"]],null,null,null,null,null)),(n()(),o["ɵted"](null,["\n        "])),(n()(),o["ɵeld"](0,null,null,3,"td",[],null,null,null,null,null)),(n()(),o["ɵeld"](0,null,null,1,"b",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["Queens"])),(n()(),o["ɵted"](null,[" have same moves as rooks and bishops (all horizontal, vertical and diagonal squares)."])),(n()(),o["ɵted"](null,["\n    "])),(n()(),o["ɵted"](null,["\n    "])),(n()(),o["ɵeld"](0,null,null,19,"tr",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["\n        "])),(n()(),o["ɵeld"](0,null,null,1,"td",[],null,null,null,null,null)),(n()(),o["ɵeld"](0,null,null,0,"img",[["src","images/chess/white-king.png"]],null,null,null,null,null)),(n()(),o["ɵted"](null,["\n        "])),(n()(),o["ɵeld"](0,null,null,13,"td",[],null,null,null,null,null)),(n()(),o["ɵeld"](0,null,null,1,"b",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["King"])),(n()(),o["ɵted"](null,[" is the most valuable piece - once the king is captured, the game ends.\n        "])),(n()(),o["ɵeld"](0,null,null,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["King can move one square to any direction.\n        "])),(n()(),o["ɵeld"](0,null,null,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["King also has a special move, castling, which moves king 2 steps towards a rook and moves rook behind the king. This has following conditions:\n        "])),(n()(),o["ɵeld"](0,null,null,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["1. King and rook must have not moved during the game (and must be on same row).\n        "])),(n()(),o["ɵeld"](0,null,null,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["2. There can't be any pieces between the king and the rook.\n        "])),(n()(),o["ɵeld"](0,null,null,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](null,["3. The king must not be in check, and king must not pass through a tile that could be attacked by enemy player in their next turn.\n        "])),(n()(),o["ɵted"](null,["\n    "])),(n()(),o["ɵted"](null,["\n    "])),(n()(),o["ɵted"](null,["\n"]))],null,null)}function i(n){return o["ɵvid"](0,[(n()(),o["ɵeld"](0,null,null,1,"chess-instructions",[],null,null,null,t,a)),o["ɵdid"](49152,null,0,r.a,[],null,null)],null,null)}e.d(l,"a",function(){return a}),l.b=t;var u=e(308),o=e(1),r=e(212),s=[u.a],a=o["ɵcrt"]({encapsulation:0,styles:s,data:{}});o["ɵccf"]("chess-instructions",r.a,i,{},{},[])},308:function(n,l,e){"use strict";e.d(l,"a",function(){return t});var t=['.interface[_ngcontent-%COMP%] {\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none; }\n\n.interface[_ngcontent-%COMP%] {\n  z-index: 10;\n  font-family: "Times New Roman", serif, Times;\n  box-sizing: border-box; }\n\n.interface[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\n  background: #eeeeee;\n  border: 2px solid black;\n  border-radius: 5px;\n  cursor: pointer;\n  font-family: Helvetica, Verdana, sans-serif;\n  height: 16px;\n  margin: 6px;\n  padding: 0.4em;\n  font-size: 90%;\n  list-style-type: none;\n  text-align: center; }\n\n[_nghost-%COMP%] {\n  width: 100%;\n  height: 100%;\n  font-size: 90%;\n  overflow-y: auto; }\n\nimg[_ngcontent-%COMP%] {\n  width: 50px;\n  height: 50px; }\n  @media screen and (max-width: 800px) {\n    img[_ngcontent-%COMP%] {\n      width: 30px;\n      height: 30px; } }\n\ntable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\n  text-align: left; }\n\ntable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child {\n  vertical-align: top; }']},309:function(n,l,e){"use strict";function t(n){return o["ɵvid"](0,[(n()(),o["ɵeld"](0,null,null,13,"div",[["class","interface"]],null,null,null,null,null)),(n()(),o["ɵted"](null,["\n    "])),(n()(),o["ɵeld"](0,null,null,1,"h1",[["id","win-message"]],null,null,null,null,null)),(n()(),o["ɵted"](null,[""," wins!"])),(n()(),o["ɵted"](null,["\n    "])),(n()(),o["ɵeld"](0,null,null,1,"li",[],null,[[null,"click"]],function(n,l,e){var t=!0,i=n.component;if("click"===l){t=!1!==i.game.reset()&&t}return t},null,null)),(n()(),o["ɵted"](null,["Play again"])),(n()(),o["ɵted"](null,["\n    "])),(n()(),o["ɵeld"](0,null,null,1,"li",[["title","Choose game mode."]],null,[[null,"click"]],function(n,l,e){var t=!0,i=n.component;if("click"===l){t=!1!==i.switchDialog("chooseMode")&&t}return t},null,null)),(n()(),o["ɵted"](null,["Switch game mode"])),(n()(),o["ɵted"](null,["\n    "])),(n()(),o["ɵeld"](0,null,null,1,"li",[["title","Change piece layout."]],null,[[null,"click"]],function(n,l,e){var t=!0,i=n.component;if("click"===l){t=!1!==i.switchDialog("settings")&&t}return t},null,null)),(n()(),o["ɵted"](null,["Change settings"])),(n()(),o["ɵted"](null,["\n"]))],null,function(n,l){n(l,3,0,l.component.winnerColor)})}function i(n){return o["ɵvid"](0,[(n()(),o["ɵeld"](0,null,null,1,"chess-winner-dialog",[],null,null,null,t,c)),o["ɵdid"](180224,null,0,r.a,[s.a],null,null)],null,null)}e.d(l,"a",function(){return c}),l.b=t;var u=e(310),o=e(1),r=e(213),s=e(168),a=[u.a],c=o["ɵcrt"]({encapsulation:0,styles:a,data:{}});o["ɵccf"]("chess-winner-dialog",r.a,i,{},{switchDialogEvent:"switchDialogEvent"},[])},310:function(n,l,e){"use strict";e.d(l,"a",function(){return t});var t=['.interface[_ngcontent-%COMP%] {\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none; }\n\n.interface[_ngcontent-%COMP%] {\n  z-index: 10;\n  font-family: "Times New Roman", serif, Times;\n  box-sizing: border-box; }\n\n.interface[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\n  background: #eeeeee;\n  border: 2px solid black;\n  border-radius: 5px;\n  cursor: pointer;\n  font-family: Helvetica, Verdana, sans-serif;\n  height: 16px;\n  margin: 6px;\n  padding: 0.4em;\n  font-size: 90%;\n  list-style-type: none;\n  text-align: center; }\n\n[_nghost-%COMP%] {\n  width: 320px;\n  height: 260px; }\n\nh1[_ngcontent-%COMP%] {\n  margin: 7px 0; }']},311:function(n,l,e){"use strict";function t(n){return c["ɵvid"](0,[(n()(),c["ɵeld"](0,null,null,0,"div",[["class","board-tile"]],[[4,"background",null]],[[null,"click"]],function(n,l,e){var t=!0,i=n.component;if("click"===l){t=!1!==i.selectTile(n.context.$implicit)&&t}return t},null,null))],null,function(n,l){n(l,0,0,l.component.tileColor(l.context.$implicit))})}function i(n){return c["ɵvid"](0,[(n()(),c["ɵeld"](0,null,null,4,"div",[["class","board-row"]],null,null,null,null,null)),(n()(),c["ɵted"](null,["\n    "])),(n()(),c["ɵand"](16777216,null,null,1,null,t)),c["ɵdid"](802816,null,0,h.i,[c.ViewContainerRef,c.TemplateRef,c.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),c["ɵted"](null,["\n  "]))],function(n,l){n(l,3,0,l.context.$implicit)},null)}function u(n){return c["ɵvid"](0,[(n()(),c["ɵeld"](0,null,null,3,"div",[],[[4,"top",null],[4,"left",null],[24,"@fadeIn",0]],null,null,null,null)),(n()(),c["ɵted"](null,["\n    "])),(n()(),c["ɵeld"](0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null)),(n()(),c["ɵted"](null,["\n  "]))],null,function(n,l){var e=l.component;n(l,0,0,e.pieceTopLocation(l.context.$implicit),e.pieceLeftLocation(l.context.$implicit),void 0),n(l,2,0,e.pieceImageUrl(l.context.$implicit))})}function o(n){return c["ɵvid"](0,[(n()(),c["ɵeld"](0,null,null,3,"div",[],[[4,"top",null],[4,"left",null],[24,"@fadeIn",0]],null,null,null,null)),(n()(),c["ɵted"](null,["\n    "])),(n()(),c["ɵeld"](0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null)),(n()(),c["ɵted"](null,["\n  "]))],null,function(n,l){var e=l.component;n(l,0,0,e.pieceTopLocation(l.context.$implicit),e.pieceLeftLocation(l.context.$implicit),void 0),n(l,2,0,e.pieceImageUrl(l.context.$implicit))})}function r(n){return c["ɵvid"](0,[(n()(),c["ɵeld"](0,null,null,4,"section",[["id","board"]],null,null,null,null,null)),(n()(),c["ɵted"](null,["\n  "])),(n()(),c["ɵand"](16777216,null,null,1,null,i)),c["ɵdid"](802816,null,0,h.i,[c.ViewContainerRef,c.TemplateRef,c.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),c["ɵted"](null,["\n"])),(n()(),c["ɵted"](null,["\n\n"])),(n()(),c["ɵeld"](0,null,null,7,"section",[["id","pieces"]],null,null,null,null,null)),(n()(),c["ɵted"](null,["\n  "])),(n()(),c["ɵand"](16777216,null,null,1,null,u)),c["ɵdid"](802816,null,0,h.i,[c.ViewContainerRef,c.TemplateRef,c.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),c["ɵted"](null,["\n  "])),(n()(),c["ɵand"](16777216,null,null,1,null,o)),c["ɵdid"](802816,null,0,h.i,[c.ViewContainerRef,c.TemplateRef,c.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),c["ɵted"](null,["\n"]))],function(n,l){var e=l.component;n(l,3,0,e.settings.boardTilePositions),n(l,9,0,e.game.white.pieces),n(l,12,0,e.game.black.pieces)},null)}function s(n){return c["ɵvid"](0,[(n()(),c["ɵeld"](0,null,null,1,"chess-board",[],null,null,null,r,v)),c["ɵdid"](49152,null,0,d.a,[p.a,f.a],null,null)],null,null)}e.d(l,"a",function(){return m});var a=e(312),c=e(1),h=e(3),d=e(216),p=e(168),f=e(171),g=[a.a],v=c["ɵcrt"]({encapsulation:0,styles:g,data:{animation:[{type:7,name:"fadeIn",definitions:[{type:0,name:"true",styles:{type:6,styles:{opacity:1},offset:null},options:void 0},{type:0,name:"void",styles:{type:6,styles:{opacity:0},offset:null},options:void 0},{type:1,expr:"* => *",animation:{type:4,styles:null,timings:"300ms"},options:null}],options:{}}]}}),m=c["ɵccf"]("chess-board",d.a,s,{},{},[])},312:function(n,l,e){"use strict";e.d(l,"a",function(){return t});var t=["[_nghost-%COMP%], #board[_ngcontent-%COMP%], #pieces[_ngcontent-%COMP%] {\n  display: block;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0; }\n\n.board-row[_ngcontent-%COMP%] {\n  height: 12.5%;\n  width: 100%; }\n\n.board-tile[_ngcontent-%COMP%], #pieces[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] {\n  width: 12.5%;\n  height: 100%;\n  float: left; }\n\n#pieces[_ngcontent-%COMP%] {\n  pointer-events: none;\n  z-index: 5; }\n\n#pieces[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] {\n  width: 12.5%;\n  height: 12.5%;\n  position: absolute;\n  -webkit-transition: top 0.5s ease-in-out 50ms, left 0.5s ease-in-out 50ms;\n  transition: top 0.5s ease-in-out 50ms, left 0.5s ease-in-out 50ms; }\n  #pieces[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n    width: 100%;\n    height: 100%; }"]}});